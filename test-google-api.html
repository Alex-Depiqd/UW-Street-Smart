<!DOCTYPE html>
<html>
<head>
    <title>Google Places API Test</title>
</head>
<body>
    <h1>Google Places API Test</h1>
    <input type="text" id="searchInput" placeholder="Type 'Whitehall' to test" style="width: 300px; padding: 10px;">
    <div id="results"></div>

    <script>
        // Replace with your actual API key
        const API_KEY = 'AIzaSyAzMh...'; // Add your full API key here
        
        async function testGooglePlaces() {
            const input = document.getElementById('searchInput').value;
            const resultsDiv = document.getElementById('results');
            
            if (!input) return;
            
            resultsDiv.innerHTML = 'Searching...';
            
            try {
                // Load Google Maps SDK
                await new Promise((resolve, reject) => {
                    const script = document.createElement('script');
                    script.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places`;
                    script.onload = resolve;
                    script.onerror = reject;
                    document.head.appendChild(script);
                });
                
                // Test the API
                const service = new google.maps.places.AutocompleteService();
                
                service.getPlacePredictions({
                    input: input,
                    componentRestrictions: { country: 'gb' }
                }, (predictions, status) => {
                    if (status === google.maps.places.PlacesServiceStatus.OK) {
                        resultsDiv.innerHTML = '<h3>SUCCESS! Results:</h3>' + 
                            predictions.map(p => `<div>${p.description}</div>`).join('');
                    } else {
                        resultsDiv.innerHTML = `<h3>ERROR: ${status}</h3>`;
                    }
                });
                
            } catch (error) {
                resultsDiv.innerHTML = `<h3>ERROR: ${error.message}</h3>`;
            }
        }
        
        document.getElementById('searchInput').addEventListener('input', testGooglePlaces);
    </script>
</body>
</html>
