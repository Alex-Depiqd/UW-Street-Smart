import{r as m,a as Ir,R as Dr}from"./vendor-b1791c80.js";import{C as Xe,D as Lr,S as Tr,M as Ur,H as Se,a as Er,B as xe,T as te,b as H,F as se,c as Rr,d as Fr,e as $,L as ge,A as Je,f as Or,m as Ge,X as qr,g as Ze,h as q,U as Ae,i as er,j as ue,P as me,k as X,l as pe,n as Mr,o as $r,p as Wr,q as Br,I as rr,r as Hr,s as zr,t as Yr,u as Ke,v as Qr}from"./ui-dcf1ef16.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))t(d);new MutationObserver(d=>{for(const n of d)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function l(d){const n={};return d.integrity&&(n.integrity=d.integrity),d.referrerPolicy&&(n.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?n.credentials="include":d.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(d){if(d.ep)return;d.ep=!0;const n=l(d);fetch(d.href,n)}})();var tr={exports:{}},be={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=m,Kr=Symbol.for("react.element"),Vr=Symbol.for("react.fragment"),Xr=Object.prototype.hasOwnProperty,Jr=Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zr={key:!0,ref:!0,__self:!0,__source:!0};function sr(r,a,l){var t,d={},n=null,i=null;l!==void 0&&(n=""+l),a.key!==void 0&&(n=""+a.key),a.ref!==void 0&&(i=a.ref);for(t in a)Xr.call(a,t)&&!Zr.hasOwnProperty(t)&&(d[t]=a[t]);if(r&&r.defaultProps)for(t in a=r.defaultProps,a)d[t]===void 0&&(d[t]=a[t]);return{$$typeof:Kr,type:r,key:n,ref:i,props:d,_owner:Jr.current}}be.Fragment=Vr;be.jsx=sr;be.jsxs=sr;tr.exports=be;var e=tr.exports,Ce={},Ve=Ir;Ce.createRoot=Ve.createRoot,Ce.hydrateRoot=Ve.hydrateRoot;const et={opener:[{id:"op1",title:"Door opener (15s)",content:"Hi! I'm local and helping neighbours shave a chunk off household billsâ€”no obligation. I've popped a letter through; if you're open, I can check your postcode now and see if you qualify for the best UW bundles. Takes two minutes."},{id:"op2",title:"Evening approach",content:"Good evening! I'm from UW and I've been helping families in this area save money on their bills. I left a letter earlier - have you had a chance to look at it?"}],objection:[{id:"ob1",title:"Not interested â†’ graceful exit",content:"Totally fine. If things change, the letter's got a QR to a 60â€‘second checkerâ€”no sales calls, just the numbers. Have a great day!"},{id:"ob2",title:"Already with UW",content:"That's great! You might be eligible for additional savings or better bundles. Would you like me to check your current setup?"}],closer:[{id:"cl1",title:"Soft close",content:"If you text me your postcode I'll send a quick checker linkâ€”no pressure. If it looks good, we can book a 10â€‘minute runâ€‘through."},{id:"cl2",title:"Follow-up close",content:"Perfect! I'll send you the details and we can arrange a time that works for you. When would be best?"}],sms:[{id:"sm1",title:"WhatsApp Prefill CTA",content:"Hi Alex, I've got your Neighbour Letter. My postcode is _______. Can you check if I'm eligible for the best bundle?"},{id:"sm2",title:"Follow-up reminder",content:"Hi! Just following up on our conversation about UW savings. Are you still interested in checking your eligibility?"}]},rt=[{id:"c1",name:"Elmswell NL â€“ Aug 2025",area:"IP30",status:"active",created_at:"2025-08-01",links:{connector:"https://example.com/connector",quote:"https://example.com/quote",booking:"https://example.com/book",faq:"https://example.com/faq"},streets:[{id:"s1",name:"Orchard Way",postcode:"IP30 9XX",status:"in_progress",properties:[{id:"p1",label:"1",dropped:!0,knocked:!0,spoke:!1,result:"no_answer"},{id:"p2",label:"3",dropped:!0,knocked:!0,spoke:!0,result:"maybe",followUpAt:"2025-08-16T18:00:00"},{id:"p3",label:"5",dropped:!0,knocked:!1,spoke:!1,result:"none"}]},{id:"s2",name:"Station Road",postcode:"IP30 9YY",status:"not_started",properties:[{id:"p4",label:"12",dropped:!1,knocked:!1,spoke:!1,result:"none"},{id:"p5",label:"14",dropped:!1,knocked:!1,spoke:!1,result:"none"}]}]},{id:"c2",name:"Stowmarket NL â€“ Sept 2025",area:"IP14",status:"draft",created_at:"2025-08-15",links:{connector:"https://example.com/connector",quote:"https://example.com/quote",booking:"https://example.com/book",faq:"https://example.com/faq"},streets:[]}],J=({children:r,variant:a="default",className:l=""})=>{const t={default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",primary:"bg-primary-100 text-primary-700 dark:bg-primary-900/40 dark:text-primary-300",success:"bg-secondary-100 text-secondary-700 dark:bg-secondary-900/40 dark:text-secondary-300",warning:"bg-warning-100 text-warning-700 dark:bg-warning-900/40 dark:text-warning-300",error:"bg-error-100 text-error-700 dark:bg-error-900/40 dark:text-error-300"};return e.jsx("span",{className:`inline-flex items-center text-xs px-2 py-1 rounded-full shadow-sm ${t[a]} ${l}`,children:r})},R=({title:r,icon:a,children:l,actions:t,className:d=""})=>e.jsxs("div",{className:`rounded-2xl shadow-soft p-4 bg-white/70 dark:bg-gray-900/70 backdrop-blur border border-gray-200/50 dark:border-gray-800/50 ${d}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a&&e.jsx(a,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:r})]}),e.jsx("div",{className:"flex gap-2",children:t})]}),l]}),F=({open:r,onClose:a,title:l,children:t,size:d="default"})=>{const n={small:"max-h-[60vh]",default:"max-h-[80vh]",large:"max-h-[90vh]"};return e.jsx(Or,{children:r&&e.jsxs(Ge.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:a}),e.jsxs(Ge.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:120,damping:16},className:`absolute bottom-0 left-0 right-0 bg-white dark:bg-gray-900 rounded-t-3xl p-4 ${n[d]} overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-base font-semibold",children:l}),e.jsx("button",{className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",onClick:a,children:e.jsx(qr,{className:"w-5 h-5"})})]}),t]})]})})};function tt(){const[r,a]=m.useState(!0),[l,t]=m.useState("dashboard"),[d,n]=m.useState(rt),[i,b]=m.useState("c1"),[w,v]=m.useState("s1"),[D,C]=m.useState("p2"),[E,j]=m.useState(!1),[A,k]=m.useState(!1),[y,c]=m.useState(!1),[x,o]=m.useState(!1),[h,P]=m.useState(!1),[ar,ae]=m.useState(!1),[or,oe]=m.useState(!1),[lr,le]=m.useState(!1),[dr,de]=m.useState(!1),[nr,ne]=m.useState(!1),[ir,he]=m.useState(!1),[Pe,_e]=m.useState(null),[Ie,De]=m.useState(null),[cr,Le]=m.useState(!1),[xr,gr]=m.useState(!1),[mr,Te]=m.useState(!1),[Ue,Ee]=m.useState(navigator.onLine),[Re,ie]=m.useState(""),[Fe,V]=m.useState([]),[ye,fe]=m.useState(""),[Oe,ke]=m.useState(""),[qe,Z]=m.useState([]),[je,ve]=m.useState([]),[Me,ce]=m.useState(!1),[$e,ee]=m.useState("search"),T=m.useMemo(()=>d.find(s=>s.id===i),[d,i]),Q=m.useMemo(()=>T==null?void 0:T.streets.find(s=>s.id===w),[T,w]),We=m.useMemo(()=>Q==null?void 0:Q.properties.find(s=>s.id===D),[Q,D]),ur=m.useMemo(()=>{let s=0,u=0,g=0,p=0,f={interested:0,customer_signed:0,appointment_booked:0,no_for_now:0,already_uw:0,not_interested:0};const I=new Date().toISOString().split("T")[0];return T==null||T.streets.forEach(O=>{O.properties.forEach(L=>{const z=L.dropped&&L.droppedAt===I,re=L.spoke&&L.spokeAt===I,_=L.result&&L.resultAt===I,N=L.followUpAt&&L.followUpAt.startsWith(I);z&&s++,re&&u++,_&&(L.result==="interested"||L.result==="customer_signed"||L.result==="appointment_booked")&&g++,N&&p++,_&&L.result!=="none"&&(f[L.result]=(f[L.result]||0)+1)})}),{letters:s,convos:u,interested:g,followups:p,outcomes:f}},[T]),pr=s=>{const u=new Date().toISOString().split("T")[0];n(g=>g.map(p=>{if(p.id!==i)return p;const f={...p,streets:p.streets.map(_=>_.id!==w?_:{..._,properties:_.properties.map(N=>{if(N.id===D){const S={...s};return s.result&&(S.resultAt=u),s.followUpAt&&(S.followUpAt=s.followUpAt),{...N,...S}}return N})})},I=f.streets.reduce((_,N)=>_+N.properties.length,0),O=f.streets.reduce((_,N)=>_+N.properties.filter(S=>S.dropped).length,0);f.streets.reduce((_,N)=>_+N.properties.filter(S=>S.spoke).length,0);let L=f.status;O>0&&L==="draft"&&(L="active");const z=f.streets.reduce((_,N)=>_+N.properties.filter(S=>S.spoke||S.result==="not_interested"||S.result==="unreachable").length,0);I>0&&z===I&&(L="completed");const re=f.streets.map(_=>{const N=_.properties.length,S=_.properties.filter(W=>W.dropped).length;_.properties.filter(W=>W.spoke).length;let U=_.status;S>0&&U==="not_started"&&(U="in_progress");const Y=_.properties.filter(W=>W.spoke||W.result==="not_interested"||W.result==="unreachable").length;return N>0&&Y===N&&(U="completed"),{..._,status:U}});return{...f,streets:re,status:L}}))},Be=()=>a(s=>!s),br=()=>{const s={campaigns:d,settings:{dark:r},exportDate:new Date().toISOString(),version:"1.0.0"},u=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),g=URL.createObjectURL(u),p=document.createElement("a");p.href=g,p.download=`uw-street-smart-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(g)},hr=s=>{const u=new FileReader;u.onload=g=>{var p;try{const f=JSON.parse(g.target.result);f.campaigns&&Array.isArray(f.campaigns)?(n(f.campaigns),((p=f.settings)==null?void 0:p.dark)!==void 0&&a(f.settings.dark),o(!1),alert("Data imported successfully!")):alert("Invalid data format. Please select a valid export file.")}catch{alert("Error importing data. Please check the file format.")}},u.readAsText(s)},yr=()=>{P(!0)},fr=()=>{const s=[{id:"new-campaign",name:"New Campaign",area:"",status:"draft",created_at:new Date().toISOString().split("T")[0],links:{connector:"",quote:"",booking:"",faq:""},streets:[]}];n(s),b("new-campaign"),v(""),C(""),P(!1),alert("All data has been cleared. You can now start fresh with a new campaign.")},kr=s=>{const u={id:`campaign-${Date.now()}`,name:s.name,area:s.area,status:"draft",created_at:new Date().toISOString().split("T")[0],links:{connector:s.connector||"",quote:s.quote||"",booking:s.booking||"",faq:s.faq||""},streets:[]};n(g=>[...g,u]),b(u.id),ae(!1),alert("New campaign created successfully!")},jr=s=>{const u={id:`street-${Date.now()}`,name:s.name,postcode:s.postcode,status:"not_started",properties:s.properties.map((g,p)=>({id:`property-${Date.now()}-${p}`,label:g,dropped:!1,knocked:!1,spoke:!1,result:"none"}))};n(g=>g.map(p=>{if(p.id===i){const f={...p,streets:[...p.streets,u]};return p.streets.length===0&&f.status==="draft"?{...f,status:"active"}:f}return p})),v(u.id),oe(!1),alert("New street added successfully!")},vr=s=>{n(u=>u.map(g=>g.id===Pe.id?{...g,name:s.name,area:s.area,links:{connector:s.connector||"",quote:s.quote||"",booking:s.booking||"",faq:s.faq||""}}:g)),de(!1),_e(null),alert("Campaign updated successfully!")},Nr=s=>{if(confirm("Are you sure you want to delete this campaign? This action cannot be undone.")){if(n(u=>u.filter(g=>g.id!==s)),i===s){const u=d.filter(g=>g.id!==s);u.length>0?b(u[0].id):b("")}alert("Campaign deleted successfully!")}},wr=s=>{n(u=>u.map(g=>g.id===i?{...g,streets:g.streets.map(p=>p.id===Ie.id?{...p,name:s.name,postcode:s.postcode}:p)}:g)),ne(!1),De(null),alert("Street updated successfully!")},Sr=s=>{if(confirm("Are you sure you want to delete this street? This action cannot be undone.")){if(n(u=>u.map(g=>g.id===i?{...g,streets:g.streets.filter(p=>p.id!==s)}:g)),w===s){const u=d.find(p=>p.id===i),g=(u==null?void 0:u.streets.filter(p=>p.id!==s))||[];g.length>0?v(g[0].id):v("")}alert("Street deleted successfully!")}},Cr=s=>{const u={id:`property-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,label:s,dropped:!1,knocked:!1,spoke:!1,result:"none",droppedAt:null,knockedAt:null,spokeAt:null,resultAt:null};n(g=>g.map(p=>p.id===i?{...p,streets:p.streets.map(f=>f.id===w?{...f,properties:[...f.properties,u]}:f)}:p))},Ar=s=>{confirm("Are you sure you want to remove this property?")&&n(u=>u.map(g=>g.id===i?{...g,streets:g.streets.map(p=>p.id===w?{...p,properties:p.properties.filter(f=>f.id!==s)}:p)}:g))},Pr=(s,u)=>{n(g=>g.map(p=>p.id===i?{...p,streets:p.streets.map(f=>f.id===w?{...f,properties:f.properties.map(I=>I.id===s?{...I,label:u}:I)}:f)}:p))},_r=(s,u)=>{const g=new Date().toISOString().split("T")[0];n(p=>p.map(f=>{if(f.id!==i)return f;const I={...f,streets:f.streets.map(N=>N.id!==w?N:{...N,properties:N.properties.map(S=>{if(S.id===s){const U=!S[u],Y=`${u}At`;return{...S,[u]:U,[Y]:U?g:null}}return S})})},O=I.streets.reduce((N,S)=>N+S.properties.length,0),L=I.streets.reduce((N,S)=>N+S.properties.filter(U=>U.dropped).length,0);I.streets.reduce((N,S)=>N+S.properties.filter(U=>U.spoke).length,0);let z=I.status;L>0&&z==="draft"&&(z="active");const re=I.streets.reduce((N,S)=>N+S.properties.filter(U=>U.spoke||U.result==="not_interested"||U.result==="unreachable").length,0);O>0&&re===O&&(z="completed");const _=I.streets.map(N=>{const S=N.properties.length,U=N.properties.filter(G=>G.dropped).length;N.properties.filter(G=>G.spoke).length;let Y=N.status;U>0&&Y==="not_started"&&(Y="in_progress");const W=N.properties.filter(G=>G.spoke||G.result==="not_interested"||G.result==="unreachable").length;return S>0&&W===S&&(Y="completed"),{...N,status:Y}});return{...I,streets:_,status:z}}))},He=async s=>{if(!s||s.length<3){V([]);return}ce(!0);try{const u=await fetch(`https://api.postcodes.io/postcodes?q=${encodeURIComponent(s)}`);if(u.ok){const g=await u.json();if(g.result&&g.result.length>0){const p=g.result.map(f=>({display:`${f.postcode} - ${f.admin_district||f.admin_ward||f.parish||"Unknown area"}`,value:f.postcode,postcode:f.postcode,admin_district:f.admin_district,admin_ward:f.admin_ward,parish:f.parish}));V(p);return}}V([])}catch(u){console.error("Error searching addresses:",u),V([])}finally{ce(!1)}},ze=async s=>{const u=typeof s=="string"?s:s.postcode||s.value;fe(u),ce(!0);try{const g=await fetch(`https://api.postcodes.io/postcodes/${u}`);if(g.ok){const p=await g.json();ke(p.result.admin_district||p.result.admin_ward||"Unknown");const f=await fetch(`https://api.postcodes.io/postcodes/${u}/autocomplete`);if(f.ok){const O=(await f.json()).result||[];Z(O),ee("select")}else Z(["High Street","Main Street","Church Street","Station Road"]),ee("select")}}catch(g){console.error("Error getting address details:",g),Z(["High Street","Main Street","Church Street","Station Road"]),ee("select")}finally{ce(!1)}},Ye=s=>{ve(u=>u.some(p=>p===s)?u.filter(p=>p!==s):[...u,s])},Ne=()=>{const s=je.map((u,g)=>({id:`street-${Date.now()}-${g}`,name:u,postcode:ye,status:"not_started",properties:[{id:`property-${Date.now()}-${g}-1`,label:"1",dropped:!1,knocked:!1,spoke:!1,result:"none"},{id:`property-${Date.now()}-${g}-3`,label:"3",dropped:!1,knocked:!1,spoke:!1,result:"none"},{id:`property-${Date.now()}-${g}-5`,label:"5",dropped:!1,knocked:!1,spoke:!1,result:"none"}]}));n(u=>u.map(g=>g.id===i?{...g,streets:[...g.streets,...s]}:g)),ie(""),V([]),fe(""),ke(""),Z([]),ve([]),ee("search"),alert(`Successfully imported ${s.length} streets!`),le(!1)},Qe=()=>{ie(""),V([]),fe(""),ke(""),Z([]),ve([]),ee("search")};return m.useEffect(()=>{const s=()=>Ee(!0),u=()=>Ee(!1);return window.addEventListener("online",s),window.addEventListener("offline",u),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",u)}},[]),m.useEffect(()=>{document.documentElement.classList.toggle("dark",r),document.documentElement.setAttribute("data-theme",r?"dark":"light")},[r]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-950 dark:to-gray-900 text-gray-900 dark:text-gray-50 overflow-x-hidden",children:[e.jsx("div",{className:"sticky top-0 z-40 backdrop-blur bg-white/60 dark:bg-gray-950/60 border-b border-gray-200/50 dark:border-gray-800/50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-2xl bg-primary-600 flex items-center justify-center shadow text-white font-bold",children:"UW"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold leading-tight",children:"Street Smart"}),e.jsx("div",{className:"text-xs opacity-70",children:"NL Activity Tracker"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"lg:hidden flex items-center gap-1",children:!Ue&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"})}),e.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[!Ue&&e.jsxs(J,{variant:"warning",className:"text-xs",children:[e.jsx(Xe,{className:"w-3 h-3 mr-1"}),"Offline"]}),e.jsxs(J,{variant:"success",className:"text-xs",children:[e.jsx(Lr,{className:"w-3 h-3 mr-1"}),"Local storage"]})]}),e.jsx("button",{onClick:Be,className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:r?e.jsx(Tr,{className:"w-4 h-4 lg:w-5 lg:h-5"}):e.jsx(Ur,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),e.jsx("button",{onClick:()=>Le(!0),className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(Se,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),e.jsx("button",{onClick:()=>c(!0),className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(Er,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]})]})}),e.jsx("div",{className:"lg:hidden sticky top-16 z-30 bg-white/80 dark:bg-gray-950/80 backdrop-blur border-b border-gray-200/50 dark:border-gray-800/50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-2",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[e.jsx(M,{icon:e.jsx(xe,{className:"w-4 h-4 flex-shrink-0"}),label:"Dashboard",active:l==="dashboard",onClick:()=>t("dashboard")}),e.jsx(M,{icon:e.jsx(te,{className:"w-4 h-4 flex-shrink-0"}),label:"Campaigns",active:l==="campaigns",onClick:()=>t("campaigns")}),e.jsx(M,{icon:e.jsx(H,{className:"w-4 h-4 flex-shrink-0"}),label:"Streets",active:l==="streets",onClick:()=>t("streets")}),e.jsx(M,{icon:e.jsx(se,{className:"w-4 h-4 flex-shrink-0"}),label:"Reports",active:l==="reports",onClick:()=>t("reports")})]}),T&&e.jsxs("div",{className:"mt-2 text-center px-2",children:[e.jsx("div",{className:"text-xs opacity-70 mb-1",children:"Active Campaign"}),e.jsx("div",{className:"text-sm font-medium truncate bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 px-2 py-1 rounded-lg",children:T.name})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-3 lg:py-6 grid grid-cols-1 lg:grid-cols-4 gap-4 lg:gap-6",children:[e.jsxs("div",{className:"hidden lg:block lg:col-span-1 space-y-3",children:[e.jsxs(R,{title:"Navigate",icon:Rr,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 min-w-0",children:[e.jsx(M,{icon:e.jsx(xe,{className:"w-4 h-4 flex-shrink-0"}),label:"Dashboard",active:l==="dashboard",onClick:()=>t("dashboard")}),e.jsx(M,{icon:e.jsx(te,{className:"w-4 h-4 flex-shrink-0"}),label:"Campaigns",active:l==="campaigns",onClick:()=>t("campaigns")}),e.jsx(M,{icon:e.jsx(H,{className:"w-4 h-4 flex-shrink-0"}),label:"Streets",active:l==="streets",onClick:()=>t("streets")}),e.jsx(M,{icon:e.jsx(se,{className:"w-4 h-4 flex-shrink-0"}),label:"Reports",active:l==="reports",onClick:()=>t("reports")})]}),e.jsxs("div",{className:"mt-3 text-xs opacity-70",children:["Active: ",e.jsx("strong",{children:T==null?void 0:T.name})]})]}),e.jsxs(R,{title:"Quick Drawers",icon:Fr,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 min-w-0",children:[e.jsx(M,{icon:e.jsx($,{className:"w-4 h-4 flex-shrink-0"}),label:"Scripts",onClick:()=>j(!0)}),e.jsx(M,{icon:e.jsx(ge,{className:"w-4 h-4 flex-shrink-0"}),label:"Links",onClick:()=>k(!0)})]}),e.jsx("div",{className:"mt-3 text-xs opacity-70",children:"Open while on a property to speed up calls and messages."})]}),e.jsx(R,{title:"Success Tips",icon:te,actions:e.jsxs("button",{onClick:()=>Te(!0),className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm flex items-center gap-2 hover:bg-primary-700 transition-colors",children:[e.jsx(Se,{className:"w-4 h-4"})," View All"]}),children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-2 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"ðŸŽ¯ Best Time to Drop"}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"Evenings 6-8pm, weekends 10am-2pm"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"text-xs font-medium text-blue-800 dark:text-blue-200",children:"ðŸ“ Follow Up Timing"}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Return 2-3 days after dropping letters"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"text-xs font-medium text-purple-800 dark:text-purple-200",children:"ðŸ’¡ Conversation Starters"}),e.jsx("div",{className:"text-xs text-purple-700 dark:text-purple-300",children:`"Hi, I'm local and helping neighbours save money..."`})]})]})})]}),e.jsxs("div",{className:"col-span-1 lg:col-span-3 space-y-3 lg:space-y-4",children:[l==="dashboard"&&e.jsx(st,{stats:ur,activeCampaign:T,onGoStreets:()=>t("streets")}),l==="campaigns"&&e.jsx(at,{campaigns:d,activeId:i,onSelect:s=>{b(s),t("streets")},onCreateNew:()=>ae(!0),onEdit:s=>{_e(s),de(!0)},onDelete:Nr,onToggleComplete:s=>{n(u=>u.map(g=>{if(g.id===s){const p=g.status==="completed"?"active":"completed";if(p==="completed"){const f=g.streets.map(I=>({...I,properties:I.properties.map(O=>!O.spoke&&O.result==="none"?{...O,result:"unreachable"}:O)}));return{...g,streets:f,status:p}}else return{...g,status:p}}return g}))}}),l==="streets"&&T&&e.jsx(ot,{campaign:T,activeStreetId:w,onSelectStreet:s=>{v(s),t("streets")},onOpenProperty:(s,u)=>{v(s),C(u),t("property")},onAddStreet:()=>oe(!0),onEditStreet:s=>{De(s),ne(!0)},onDeleteStreet:Sr,onManageProperties:s=>{v(s.id),he(!0)},onImportStreets:s=>{b(s),le(!0)}}),l==="property"&&Q&&We&&e.jsx(dt,{street:Q,property:We,onBack:()=>t("streets"),onUpdate:pr,onShowScripts:()=>j(!0),onShowLinks:()=>k(!0),onToggleStatus:_r}),l==="reports"&&e.jsx(pt,{campaigns:d})]})]}),e.jsx(F,{open:E,onClose:()=>j(!1),title:"Scripts & Talking Points",children:e.jsx(it,{})}),e.jsx(F,{open:A,onClose:()=>k(!1),title:"Quick Links",children:e.jsx(ct,{links:T==null?void 0:T.links})}),e.jsx(F,{open:y,onClose:()=>c(!1),title:"Settings",size:"small",children:e.jsx(xt,{dark:r,onToggleDark:Be,onExport:br,onImport:hr,onReset:yr})}),e.jsx(F,{open:cr,onClose:()=>Le(!1),title:"Help & FAQ",size:"large",children:e.jsx(gt,{})}),e.jsx(F,{open:xr,onClose:()=>gr(!1),title:"About",size:"small",children:e.jsx(mt,{})}),e.jsx(F,{open:mr,onClose:()=>Te(!1),title:"Success Tips for NLs",size:"large",children:e.jsx(ut,{})}),e.jsx(F,{open:h,onClose:()=>P(!1),title:"Reset Data",size:"small",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:[e.jsx(Je,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-red-800 dark:text-red-200",children:"Warning"}),e.jsx("div",{className:"text-red-600 dark:text-red-400",children:"This action cannot be undone."})]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"mb-3",children:"Are you sure you want to reset all data? This will:"}),e.jsxs("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:[e.jsx("li",{children:"â€¢ Remove all campaigns and activity data"}),e.jsx("li",{children:"â€¢ Reset to empty state with one new campaign"}),e.jsx("li",{children:"â€¢ Clear all progress and follow-ups"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:fr,className:"flex-1 px-4 py-2 rounded-xl bg-red-600 text-white text-sm hover:bg-red-700 transition-colors",children:"Yes, Reset All Data"}),e.jsx("button",{onClick:()=>P(!1),className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}),e.jsx(F,{open:ar,onClose:()=>ae(!1),title:"Create New Campaign",size:"small",children:e.jsx(bt,{onSubmit:kr,onCancel:()=>ae(!1),addressSearchTerm:Re,setAddressSearchTerm:ie,addressSuggestions:Fe,selectedPostcode:ye,selectedTown:Oe,availableStreets:qe,selectedStreets:je,isLoadingAddresses:Me,addressLookupStep:$e,searchAddresses:He,selectAddress:ze,toggleStreetSelection:Ye,importSelectedStreets:Ne,resetAddressLookup:Qe})}),e.jsx(F,{open:or,onClose:()=>oe(!1),title:"Add New Street",size:"small",children:e.jsx(yt,{onSubmit:jr,onCancel:()=>oe(!1)})}),e.jsx(F,{open:lr,onClose:()=>le(!1),title:"Import Streets",size:"small",children:e.jsx(ht,{onSubmit:Ne,onCancel:()=>le(!1),addressSearchTerm:Re,setAddressSearchTerm:ie,addressSuggestions:Fe,selectedPostcode:ye,selectedTown:Oe,availableStreets:qe,selectedStreets:je,isLoadingAddresses:Me,addressLookupStep:$e,searchAddresses:He,selectAddress:ze,toggleStreetSelection:Ye,importSelectedStreets:Ne,resetAddressLookup:Qe})}),e.jsx(F,{open:dr,onClose:()=>de(!1),title:"Edit Campaign",size:"small",children:e.jsx(ft,{campaign:Pe,onSubmit:vr,onCancel:()=>de(!1)})}),e.jsx(F,{open:nr,onClose:()=>ne(!1),title:"Edit Street",size:"small",children:e.jsx(kt,{street:Ie,onSubmit:wr,onCancel:()=>ne(!1)})}),e.jsx(F,{open:ir,onClose:()=>he(!1),title:"Manage Properties",size:"large",children:e.jsx(jt,{street:Q,onAddProperty:Cr,onRemoveProperty:Ar,onEditProperty:Pr,onClose:()=>he(!1)})}),e.jsx("div",{className:"lg:hidden fixed bottom-6 right-6 z-50",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>j(!0),className:"w-12 h-12 rounded-full bg-primary-600 text-white shadow-lg hover:bg-primary-700 transition-colors flex items-center justify-center",title:"Scripts",children:e.jsx($,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>k(!0),className:"w-12 h-12 rounded-full bg-gray-600 text-white shadow-lg hover:bg-gray-700 transition-colors flex items-center justify-center",title:"Quick Links",children:e.jsx(ge,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 pb-8 text-xs opacity-70",children:"UW Street Smart - NL Activity Tracker v1.0.0 | Built for UW partners making a difference in their communities."})]})}function M({icon:r,label:a,active:l,onClick:t}){return e.jsxs("button",{onClick:t,className:`flex flex-col items-center justify-center gap-1 px-2 py-2 rounded-xl text-xs border transition-all min-w-0 lg:flex-row lg:gap-2 lg:px-3 lg:text-sm ${l?"bg-primary-600 text-white border-primary-600 shadow-md":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{className:"flex-shrink-0",children:r}),e.jsx("span",{className:"truncate text-center leading-tight",children:a})]})}function B({icon:r,label:a,value:l,sub:t}){return e.jsxs("div",{className:"rounded-2xl p-3 sm:p-4 bg-white/70 dark:bg-gray-900/70 border border-gray-200 dark:border-gray-800 shadow-soft flex items-center gap-2 sm:gap-3 min-w-0",children:[e.jsx("div",{className:"p-1.5 sm:p-2 rounded-xl bg-gray-100 dark:bg-gray-800 flex-shrink-0",children:e.jsx(r,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-semibold leading-none",children:l}),e.jsx("div",{className:"text-xs sm:text-sm opacity-70 truncate",children:a}),t&&e.jsx("div",{className:"text-xs opacity-60 mt-1",children:t})]})]})}function st({stats:r,activeCampaign:a,onGoStreets:l}){const t=a&&a.streets.length>0;return e.jsxs("div",{className:"space-y-4",children:[e.jsx(R,{title:"Today's Activity",icon:Ze,actions:t?e.jsxs("button",{onClick:l,className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm flex items-center gap-2 hover:bg-primary-700 transition-colors",children:["Go to Streets ",e.jsx(q,{className:"w-4 h-4"})]}):e.jsxs("button",{onClick:l,className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm flex items-center gap-2 hover:bg-primary-700 transition-colors",children:["Create Campaign ",e.jsx(q,{className:"w-4 h-4"})]}),children:t?e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3",children:[e.jsx(B,{icon:Ae,label:"Letters dropped today",value:r.letters}),e.jsx(B,{icon:$,label:"Conversations today",value:r.convos}),e.jsx(B,{icon:er,label:"Interested today",value:r.interested}),e.jsx(B,{icon:ue,label:"Followâ€‘ups scheduled today",value:r.followups})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:e.jsx(te,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No campaigns yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Get started by creating your first neighbourhood campaign"}),e.jsx("button",{onClick:()=>setShowNewCampaignModal(!0),className:"px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Create First Campaign"})]})}),t&&r.outcomes&&e.jsx(R,{title:"Conversation Outcomes",icon:$,children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3",children:[e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-green-700 dark:text-green-300",children:r.outcomes.interested}),e.jsx("div",{className:"text-xs sm:text-sm text-green-600 dark:text-green-400",children:"Interested"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-green-700 dark:text-green-300",children:r.outcomes.customer_signed}),e.jsx("div",{className:"text-xs sm:text-sm text-green-600 dark:text-green-400",children:"Customer Signed"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-green-700 dark:text-green-300",children:r.outcomes.appointment_booked}),e.jsx("div",{className:"text-xs sm:text-sm text-green-600 dark:text-green-400",children:"Appointment Booked"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-yellow-700 dark:text-yellow-300",children:r.outcomes.no_for_now}),e.jsx("div",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-400",children:"No for Now"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-blue-700 dark:text-blue-300",children:r.outcomes.already_uw}),e.jsx("div",{className:"text-xs sm:text-sm text-blue-600 dark:text-blue-400",children:"Already with UW"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-red-700 dark:text-red-300",children:r.outcomes.not_interested}),e.jsx("div",{className:"text-xs sm:text-sm text-red-600 dark:text-red-400",children:"Not Interested"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-800",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-gray-700 dark:text-gray-300",children:r.outcomes.unreachable||0}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Unreachable"})]})]})}),e.jsx(R,{title:"Active campaign",icon:H,children:a?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.name}),e.jsxs("div",{className:"text-xs opacity-70",children:["Area: ",a.area||"Not set"," â€¢ Streets: ",a.streets.length]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:a.status==="active"?"success":"default",children:a.status}),e.jsxs("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm flex items-center gap-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(me,{className:"w-4 h-4"})," New street"]})]})]}):e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No active campaign"})})})]})}function at({campaigns:r,activeId:a,onSelect:l,onCreateNew:t,onEdit:d,onDelete:n,onToggleComplete:i}){const[b,w]=m.useState(""),[v,D]=m.useState("all"),[C,E]=m.useState("name"),[j,A]=m.useState(!1),k=m.useMemo(()=>{let y=r.filter(c=>{const x=c.name.toLowerCase().includes(b.toLowerCase())||c.area.toLowerCase().includes(b.toLowerCase()),o=v==="all"||c.status===v;return x&&o});return y.sort((c,x)=>{switch(C){case"name":return c.name.localeCompare(x.name);case"date":return new Date(x.created_at)-new Date(c.created_at);case"streets":return x.streets.length-c.streets.length;case"status":return c.status.localeCompare(x.status);default:return 0}}),y},[r,b,v,C]);return e.jsxs("div",{className:"space-y-3",children:[e.jsx(R,{title:"Create New Campaign",icon:me,actions:e.jsxs("button",{onClick:t,className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:[e.jsx(me,{className:"w-4 h-4"})," New Campaign"]}),children:e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create a new neighbourhood letters campaign to start tracking activity."})}),e.jsx(R,{title:"Search & Filter",icon:X,actions:e.jsxs("button",{onClick:()=>A(!j),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[j?e.jsx(q,{className:"w-4 h-4"}):e.jsx(X,{className:"w-4 h-4"}),j?"Hide":"Show"," Filters"]}),children:j&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Search campaigns"}),e.jsx("input",{type:"text",value:b,onChange:y=>w(y.target.value),placeholder:"Search by name or area...",className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Status"}),e.jsxs("select",{value:v,onChange:y=>D(y.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Sort by"}),e.jsxs("select",{value:C,onChange:y=>E(y.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"date",children:"Date Created"}),e.jsx("option",{value:"streets",children:"Number of Streets"}),e.jsx("option",{value:"status",children:"Status"})]})]})]}),e.jsxs("div",{className:"text-xs opacity-70",children:["Showing ",k.length," of ",r.length," campaigns"]})]})}),k.map(y=>e.jsx(R,{title:y.name,icon:H,actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",onClick:()=>l(y.id),children:"Open"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",onClick:()=>d(y),children:"Edit"}),e.jsx("button",{className:`px-3 py-1.5 rounded-xl text-sm transition-colors border ${y.status==="completed"?"bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 hover:bg-orange-200 dark:hover:bg-orange-900/30 border-orange-200 dark:border-orange-800":"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/30 border-green-200 dark:border-green-800"}`,onClick:()=>{y.status==="completed"?confirm("Unmark this campaign as completed? This will set the status back to active.")&&i(y.id):confirm('Mark this campaign as completed? This will set all remaining properties as "Unreachable".')&&i(y.id)},children:y.status==="completed"?"Mark Incomplete":"Mark Complete"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm hover:bg-red-200 dark:hover:bg-red-900/30 transition-colors border border-red-200 dark:border-red-800",onClick:()=>n(y.id),children:"Delete"})]}),children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{children:["Area: ",e.jsx("strong",{children:y.area||"Not set"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{variant:y.status==="active"?"success":"default",children:y.status}),e.jsxs("div",{className:"text-xs opacity-70",children:[y.streets.length," streets â€¢ Created ",y.created_at]})]})]})},y.id))]})}function ot({campaign:r,activeStreetId:a,onSelectStreet:l,onOpenProperty:t,onAddStreet:d,onEditStreet:n,onDeleteStreet:i,onManageProperties:b,onImportStreets:w}){const[v,D]=m.useState(""),[C,E]=m.useState("all"),[j,A]=m.useState("name"),[k,y]=m.useState(!1),c=m.useMemo(()=>{let x=r.streets.filter(o=>{const h=o.name.toLowerCase().includes(v.toLowerCase())||o.postcode.toLowerCase().includes(v.toLowerCase()),P=C==="all"||o.status===C;return h&&P});return x.sort((o,h)=>{switch(j){case"name":return o.name.localeCompare(h.name);case"properties":return h.properties.length-o.properties.length;case"status":return o.status.localeCompare(h.status);case"postcode":return o.postcode.localeCompare(h.postcode);default:return 0}}),x},[r.streets,v,C,j]);return e.jsx("div",{className:"space-y-4",children:e.jsxs(R,{title:`Streets in ${r.name}`,icon:H,actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:d,className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:[e.jsx(me,{className:"w-4 h-4"})," Add street"]}),e.jsxs("button",{onClick:()=>w(r.id),className:"px-3 py-1.5 rounded-xl bg-green-600 text-white text-sm hover:bg-green-700 transition-colors",children:[e.jsx(H,{className:"w-4 h-4"})," Import Streets"]})]}),children:[e.jsx(R,{title:"Search & Filter",icon:X,actions:e.jsxs("button",{onClick:()=>y(!k),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[k?e.jsx(q,{className:"w-4 h-4"}):e.jsx(X,{className:"w-4 h-4"}),k?"Hide":"Show"," Filters"]}),children:k&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Search streets"}),e.jsx("input",{type:"text",value:v,onChange:x=>D(x.target.value),placeholder:"Search by street name or postcode...",className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Status"}),e.jsxs("select",{value:C,onChange:x=>E(x.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"not_started",children:"Not Started"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Sort by"}),e.jsxs("select",{value:j,onChange:x=>A(x.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"name",children:"Street Name"}),e.jsx("option",{value:"properties",children:"Number of Properties"}),e.jsx("option",{value:"status",children:"Status"}),e.jsx("option",{value:"postcode",children:"Postcode"})]})]})]}),e.jsxs("div",{className:"text-xs opacity-70",children:["Showing ",c.length," of ",r.streets.length," streets"]})]})}),c.length>0?e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:c.map(x=>e.jsxs("div",{className:`rounded-2xl border p-4 bg-white/70 dark:bg-gray-900/70 transition-all ${x.id===a?"border-primary-400 shadow-md":"border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-medium",children:[x.name," ",e.jsxs("span",{className:"opacity-60 text-sm",children:["â€¢ ",x.postcode]})]}),e.jsx(J,{variant:x.status==="completed"?"success":x.status==="in_progress"?"warning":"default",children:x.status.replace("_"," ")})]}),e.jsxs("div",{className:"text-xs opacity-70 mb-3",children:[x.properties.length," properties"]}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"flex flex-wrap gap-1 max-h-20 overflow-y-auto",children:x.properties.map(o=>{let h="border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600";return o.result==="interested"||o.result==="customer_signed"||o.result==="appointment_booked"?h="border-green-400 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":o.result==="no_for_now"?h="border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300":o.result==="already_uw"?h="border-blue-400 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":o.result==="not_interested"?h="border-red-400 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300":o.result==="unreachable"?h="border-gray-400 bg-gray-50 dark:bg-gray-900/20 text-gray-700 dark:text-gray-300":o.spoke?h="border-green-400 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":o.knocked?h="border-blue-400 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":o.dropped&&(h="border-orange-400 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300"),e.jsx("button",{onClick:()=>t(x.id,o.id),className:`px-2 py-1 rounded-lg text-xs border transition-colors flex-shrink-0 ${h}`,title:o.result?`Outcome: ${o.result.replace("_"," ")}`:"",children:o.label},o.id)})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>b(x),className:"px-3 py-1.5 rounded-xl bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors border border-blue-200 dark:border-blue-800",children:"Properties"}),e.jsx("button",{onClick:()=>n(x),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>i(x.id),className:"px-3 py-1.5 rounded-xl bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm hover:bg-red-200 dark:hover:bg-red-900/30 transition-colors border border-red-200 dark:border-red-800",children:"Delete"})]})]},x.id))}):v||C!=="all"?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:e.jsx(X,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No streets found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Try adjusting your search or filter criteria"}),e.jsx("button",{onClick:()=>{D(""),E("all")},className:"px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Clear Filters"})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:e.jsx(H,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No streets yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Add your first street to start tracking neighbourhood letters"}),e.jsx("button",{onClick:d,className:"px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Add First Street"})]})]})})}function lt({label:r,value:a,onChange:l}){return e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("div",{className:"text-sm",children:r}),e.jsx("button",{onClick:()=>l(!a),className:`w-11 h-6 rounded-full p-1 transition-colors ${a?"bg-primary-600":"bg-gray-300 dark:bg-gray-700"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-transform ${a?"translate-x-5":""}`})})]})}function dt({street:r,property:a,onBack:l,onUpdate:t,onShowScripts:d,onShowLinks:n,onToggleStatus:i}){const[b,w]=m.useState(!1),[v,D]=m.useState("");return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:l,className:"text-sm opacity-70 hover:opacity-100 transition-opacity flex items-center gap-1",children:[e.jsx(q,{className:"w-4 h-4 rotate-180"})," Back to streets"]}),e.jsxs(R,{title:`${a.label} Â· ${r.name}`,icon:Ze,actions:e.jsx(J,{variant:"default",className:"text-xs",children:r.postcode}),children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[e.jsx(we,{active:a.dropped,icon:Ae,label:"Dropped",onClick:()=>i(a.id,"dropped")}),e.jsx(we,{active:a.knocked,icon:pe,label:"Knocked",onClick:()=>i(a.id,"knocked")}),e.jsx(we,{active:a.spoke,icon:$,label:"Spoke",onClick:()=>i(a.id,"spoke")})]}),e.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>w(!0),className:"w-full px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center gap-2 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ue,{className:"w-4 h-4"})," Schedule followâ€‘up"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:d,className:"flex-1 px-3 py-2 rounded-xl bg-primary-600 text-white text-sm flex items-center justify-center gap-2 hover:bg-primary-700 transition-colors",children:[e.jsx($,{className:"w-4 h-4"})," Scripts"]}),e.jsxs("button",{onClick:n,className:"flex-1 px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm flex items-center justify-center gap-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ge,{className:"w-4 h-4"})," Links"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs opacity-70",children:"Notes (avoid personal data)"}),e.jsx("textarea",{value:v,onChange:C=>D(C.target.value),className:"w-full mt-1 p-3 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",rows:3,placeholder:"e.g., 'best after 6pm', 'steep steps'"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs opacity-70 mb-2 block",children:"Conversation Outcome"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(K,{label:"Interested",value:"interested",current:a.result,onClick:()=>t({result:"interested"}),variant:"success"}),e.jsx(K,{label:"Customer Signed",value:"customer_signed",current:a.result,onClick:()=>t({result:"customer_signed"}),variant:"success"}),e.jsx(K,{label:"Appointment Booked",value:"appointment_booked",current:a.result,onClick:()=>t({result:"appointment_booked"}),variant:"success"}),e.jsx(K,{label:"No for Now",value:"no_for_now",current:a.result,onClick:()=>t({result:"no_for_now"}),variant:"warning"}),e.jsx(K,{label:"Already with UW",value:"already_uw",current:a.result,onClick:()=>t({result:"already_uw"}),variant:"info"}),e.jsx(K,{label:"Not Interested",value:"not_interested",current:a.result,onClick:()=>t({result:"not_interested"}),variant:"error"}),e.jsx(K,{label:"Unreachable",value:"unreachable",current:a.result,onClick:()=>t({result:"unreachable"}),variant:"default"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Attach photo"}),e.jsx("button",{onClick:()=>t({result:"none"}),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Clear outcome"})]})]})]}),e.jsx(nt,{open:b,onClose:()=>w(!1),onSave:C=>{t({followUpAt:C}),w(!1)}})]})}function we({icon:r,label:a,active:l,onClick:t}){return e.jsxs("button",{onClick:t,className:`px-3 py-3 rounded-2xl border shadow-sm flex items-center justify-center gap-2 text-sm transition-all ${l?"bg-secondary-50 dark:bg-secondary-900/20 border-secondary-400 text-secondary-700 dark:text-secondary-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700"}`,children:[e.jsx(r,{className:"w-4 h-4"})," ",a]})}function K({label:r,value:a,current:l,onClick:t,variant:d="default"}){const n=l===a,i={success:n?"bg-green-50 dark:bg-green-900/20 border-green-400 text-green-700 dark:text-green-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-green-300 dark:hover:border-green-700",warning:n?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-400 text-yellow-700 dark:text-yellow-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-yellow-300 dark:hover:border-yellow-700",error:n?"bg-red-50 dark:bg-red-900/20 border-red-400 text-red-700 dark:text-red-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-red-300 dark:hover:border-red-700",info:n?"bg-blue-50 dark:bg-blue-900/20 border-blue-400 text-blue-700 dark:text-blue-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-blue-300 dark:hover:border-blue-700",default:n?"bg-gray-50 dark:bg-gray-800/60 border-gray-400 text-gray-700 dark:text-gray-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700"};return e.jsx("button",{onClick:t,className:`px-3 py-2 rounded-xl border text-sm transition-all ${i[d]}`,children:r})}function nt({open:r,onClose:a,onSave:l}){const[t,d]=m.useState(""),[n,i]=m.useState("");return e.jsx(F,{open:r,onClose:a,title:"Schedule followâ€‘up",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Date"}),e.jsx("input",{type:"date",value:t,onChange:b=>d(b.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Time"}),e.jsx("input",{type:"time",value:n,onChange:b=>i(b.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors"})]})]}),e.jsx("button",{onClick:()=>l(`${t}T${n}:00`),className:"w-full px-3 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Save reminder"})]})})}function it(){const[r,a]=m.useState("opener"),l=[{key:"opener",label:"Openers"},{key:"objection",label:"Objections"},{key:"closer",label:"Closers"},{key:"sms",label:"SMS/WhatsApp"}],t=et[r];return e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:l.map(d=>e.jsx("button",{onClick:()=>a(d.key),className:`px-3 py-2 rounded-xl text-sm transition-colors ${r===d.key?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:d.label},d.key))}),e.jsx("div",{className:"space-y-3",children:t.map(d=>e.jsxs("div",{className:"p-3 rounded-2xl border bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800",children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:d.title}),e.jsx("div",{className:"text-sm opacity-90",children:d.content}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Copy"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Edit"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Save as new"})]})]},d.id))})]})}function ct({links:r}){const a=[{label:"Connector signâ€‘up",url:r==null?void 0:r.connector,icon:ge},{label:"Quote / eligibility form",url:r==null?void 0:r.quote,icon:se},{label:"Book a call",url:r==null?void 0:r.booking,icon:ue},{label:"FAQs",url:r==null?void 0:r.faq,icon:se}];return e.jsxs("div",{className:"space-y-2",children:[a.map((l,t)=>e.jsxs("a",{href:l.url,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between p-3 rounded-2xl border bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(l.icon,{className:"w-4 h-4"})," ",l.label]}),e.jsx(q,{className:"w-4 h-4 opacity-60"})]},t)),e.jsx("div",{className:"text-xs opacity-70",children:"Tip: add UTM tags to links so scans/visits attribute to this campaign."})]})}function xt({dark:r,onToggleDark:a,onExport:l,onImport:t,onReset:d}){const[n,i]=m.useState(null),b=w=>{const v=w.target.files[0];v&&v.type==="application/json"?i(v):alert("Please select a valid JSON file.")};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Appearance"}),e.jsx(lt,{label:"Dark mode",value:r,onChange:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Data & Privacy"}),e.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(Mr,{className:"w-4 h-4"}),"Privacy settings"]}),e.jsxs("button",{onClick:l,className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx($r,{className:"w-4 h-4"}),"Export all data"]}),e.jsxs("button",{onClick:()=>document.getElementById("import-file").click(),className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(Wr,{className:"w-4 h-4"}),"Import data"]}),e.jsx("input",{id:"import-file",type:"file",accept:".json",onChange:b,style:{display:"none"}}),n&&e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:["Selected file: ",n.name]}),e.jsx("div",{className:"text-xs opacity-70",children:"Ready to import"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>t(n),className:"px-3 py-1 rounded-lg bg-blue-600 text-white text-xs hover:bg-blue-700 transition-colors",children:"Import"}),e.jsx("button",{onClick:()=>i(null),className:"px-3 py-1 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})}),e.jsxs("button",{onClick:d,className:"w-full text-left px-3 py-2 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors flex items-center gap-2 border border-red-200 dark:border-red-800",children:[e.jsx(Br,{className:"w-4 h-4"}),"Reset all data"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Support"}),e.jsxs("button",{onClick:()=>setShowAbout(!0),className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(rr,{className:"w-4 h-4"}),"About"]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800",children:e.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2 text-error-600 dark:text-error-400",children:[e.jsx(Hr,{className:"w-4 h-4"}),"Sign out"]})})]})}function gt(){const[r,a]=m.useState({quickStart:!0,workflow:!1,status:!1,outcomes:!1,tips:!1,faq:!1}),l=t=>{a(d=>({...d,[t]:!d[t]}))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>l("quickStart"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Quick Start Guide"]}),e.jsx(q,{className:`w-5 h-5 transition-transform ${r.quickStart?"rotate-90":""}`})]}),r.quickStart&&e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"1. Create Your First Campaign"}),e.jsxs("div",{className:"text-blue-700 dark:text-blue-300",children:["â€¢ Go to ",e.jsx("strong",{children:"Campaigns"})," tab",e.jsx("br",{}),"â€¢ Click ",e.jsx("strong",{children:'"Create New Campaign"'}),e.jsx("br",{}),"â€¢ Enter campaign name, area, and your UW links"]})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"2. Add Streets & Properties"}),e.jsxs("div",{className:"text-green-700 dark:text-green-300",children:["â€¢ Go to ",e.jsx("strong",{children:"Streets"})," tab",e.jsx("br",{}),"â€¢ Click ",e.jsx("strong",{children:'"Add New Street"'}),e.jsx("br",{}),"â€¢ Enter street name, postcode, and property numbers/names (comma-separated)"]})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:"3. Track Your Activity"}),e.jsxs("div",{className:"text-purple-700 dark:text-purple-300",children:["â€¢ Click on any property number to open it",e.jsx("br",{}),"â€¢ Mark as ",e.jsx("strong",{children:"Dropped"})," (letter delivered)",e.jsx("br",{}),"â€¢ Mark as ",e.jsx("strong",{children:"Knocked"})," (door knocked)",e.jsx("br",{}),"â€¢ Mark as ",e.jsx("strong",{children:"Spoke"})," (conversation had)",e.jsx("br",{}),"â€¢ Select conversation outcome"]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>l("workflow"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5"}),"Daily Workflow"]}),e.jsx(q,{className:`w-5 h-5 transition-transform ${r.workflow?"rotate-90":""}`})]}),r.workflow&&e.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Start Your Day"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Check the Dashboard for today's follow-ups and review yesterday's activity"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Drop Letters"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:'Go to Streets tab, select your target street, and mark properties as "Dropped"'})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Follow Up"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Return to properties where letters were dropped, knock doors, and have conversations"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Record Outcomes"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:'Mark properties as "Spoke" and select the appropriate conversation outcome'})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Schedule Follow-ups"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Set reminders for interested prospects and review your daily progress"})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>l("status"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(pe,{className:"w-5 h-5"}),"Property Status Guide"]}),e.jsx(q,{className:`w-5 h-5 transition-transform ${r.status?"rotate-90":""}`})]}),r.status&&e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"p-3 border border-orange-200 dark:border-orange-800 bg-orange-50 dark:bg-orange-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-orange-800 dark:text-orange-200",children:"Dropped"}),e.jsx("div",{className:"text-orange-700 dark:text-orange-300",children:"Letter delivered through letterbox"})]}),e.jsxs("div",{className:"p-3 border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Knocked"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Door knocked, no answer or brief interaction"})]}),e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Spoke"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Full conversation had with resident"})]}),e.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Not Started"}),e.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"No activity recorded yet"})]})]})})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>l("outcomes"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5"}),"Conversation Outcomes"]}),e.jsx(q,{className:`w-5 h-5 transition-transform ${r.outcomes?"rotate-90":""}`})]}),r.outcomes&&e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Interested"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Wants to learn more about UW"})]}),e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Customer Signed"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Successfully signed up with UW"})]}),e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Appointment Booked"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Meeting scheduled for follow-up"})]}),e.jsxs("div",{className:"p-3 border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"No for Now"}),e.jsx("div",{className:"text-yellow-700 dark:text-yellow-300",children:"Not interested at this time"})]}),e.jsxs("div",{className:"p-3 border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Already with UW"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Customer is already a UW member"})]}),e.jsxs("div",{className:"p-3 border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-red-800 dark:text-red-200",children:"Not Interested"}),e.jsx("div",{className:"text-red-700 dark:text-red-300",children:"Definitely not interested"})]}),e.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Unreachable"}),e.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"Unable to contact after multiple attempts"})]})]})})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>l("tips"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(rr,{className:"w-5 h-5"}),"Tips & Best Practices"]}),e.jsx(q,{className:`w-5 h-5 transition-transform ${r.tips?"rotate-90":""}`})]}),r.tips&&e.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[e.jsx("div",{className:"font-medium text-amber-800 dark:text-amber-200 mb-1",children:"ðŸ“± Use Scripts & Links"}),e.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Open the Scripts and Links drawers while on a property for quick access to talking points and UW resources."})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"ðŸ“Š Daily Tracking"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"The Dashboard shows only today's activity. Use Reports for overall campaign progress and historical data."})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-1",children:"ðŸ  Property Names"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:'You can use house names (e.g., "Birch Tree House") in addition to numbers. Separate multiple properties with commas.'})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-1",children:"ðŸ”„ Status Updates"}),e.jsx("div",{className:"text-purple-700 dark:text-purple-300",children:"You can toggle statuses on/off if you make a mistake. Click the same button again to remove a status."})]}),e.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-200 dark:border-indigo-800",children:[e.jsx("div",{className:"font-medium text-indigo-800 dark:text-indigo-200 mb-1",children:"ðŸ’¾ Data Backup"}),e.jsx("div",{className:"text-indigo-700 dark:text-indigo-300",children:"Regularly export your data from Settings to keep a backup of your campaigns and progress."})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>l("faq"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Se,{className:"w-5 h-5"}),"Frequently Asked Questions"]}),e.jsx(q,{className:`w-5 h-5 transition-transform ${r.faq?"rotate-90":""}`})]}),r.faq&&e.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"How do I add a new street to an existing campaign?"}),e.jsx("div",{className:"p-3",children:'Go to the Streets tab and click "Add New Street". Enter the street name, postcode, and property numbers separated by commas.'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"Can I edit property numbers after creating a street?"}),e.jsx("div",{className:"p-3",children:'Yes! Click the "Properties" button on any street card to open the Property Manager where you can add, remove, or edit individual properties.'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"What's the difference between Dashboard and Reports?"}),e.jsx("div",{className:"p-3",children:"Dashboard shows today's activity only, perfect for daily tracking. Reports shows all-time data and campaign overviews."})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"How do I search and filter campaigns/streets?"}),e.jsx("div",{className:"p-3",children:'Use the "Search & Filter" section in Campaigns and Streets tabs. You can search by name, filter by status, and sort by different criteria.'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"Can I use this app offline?"}),e.jsx("div",{className:"p-3",children:"Yes! This is a Progressive Web App (PWA) that works offline. Your data is stored locally on your device."})]})]})]})]})}function mt(){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-purple-600 flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"UW"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"UW Street Smart"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Neighbourhood Letters Activity Tracker"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Version"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"1.0.0"})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-1",children:"Built For"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"UW Partners making a difference in their communities"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-1",children:"Features"}),e.jsxs("div",{className:"text-purple-700 dark:text-purple-300 space-y-1",children:[e.jsx("div",{children:"â€¢ Campaign & street management"}),e.jsx("div",{children:"â€¢ Property activity tracking"}),e.jsx("div",{children:"â€¢ Conversation outcomes"}),e.jsx("div",{children:"â€¢ Offline-first PWA"}),e.jsx("div",{children:"â€¢ Daily progress dashboard"}),e.jsx("div",{children:"â€¢ Data export/import"})]})]}),e.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[e.jsx("div",{className:"font-medium text-amber-800 dark:text-amber-200 mb-1",children:"Privacy"}),e.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Your data is stored locally on your device. No personal information is sent to external servers."})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400 pt-4 border-t border-gray-200 dark:border-gray-800",children:["Built with React, Vite, and Tailwind CSS",e.jsx("br",{}),"Progressive Web App technology"]})]})]})}function ut(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5"}),"Timing & Strategy"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"ðŸŽ¯ Best Drop Times"}),e.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Evenings:"})," 6-8pm (people home from work)"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Weekends:"})," 10am-2pm (avoid meal times)"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Avoid:"})," Monday mornings, Friday evenings"]})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"ðŸ“ Follow Up Timing"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Return:"})," 2-3 days after dropping letters"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Best times:"})," Same as drop times"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Multiple attempts:"})," Try 3-4 times before marking unreachable"]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5"}),"Conversation Techniques"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:"ðŸ’¡ Opening Lines"}),e.jsxs("div",{className:"text-sm text-purple-700 dark:text-purple-300 space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Standard:"}),` "Hi! I'm [Name] and I'm local. I've been helping neighbours in this area save money on their household bills. I dropped a letter through earlier - have you had a chance to look at it?"`]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Direct:"}),` "Hi! I'm helping families in [Area] save money on their bills. I left a letter earlier - would you like me to check if you could save money too?"`]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Community:"}),` "Hi! I'm from UW and I've been working with families in this neighbourhood to reduce their bills. Have you seen the letter I dropped through?"`]})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[e.jsx("div",{className:"font-medium text-amber-800 dark:text-amber-200 mb-2",children:"ðŸŽ­ Handling Objections"}),e.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-300 space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:'"Not interested":'}),' "Totally fine! If things change, the letter has a QR code for a quick checker. No sales calls, just the numbers. Have a great day!"']}),e.jsxs("div",{children:[e.jsx("strong",{children:'"Already with UW":'}),` "That's great! You might be eligible for additional savings or better bundles. Would you like me to check your current setup?"`]}),e.jsxs("div",{children:[e.jsx("strong",{children:'"Too busy":'}),` "I understand! It literally takes 2 minutes to check. If you're not saving money, you're not interested. If you are, we can book a proper time."`]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5"}),"Success Metrics & Goals"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-200 dark:border-indigo-800",children:[e.jsx("div",{className:"font-medium text-indigo-800 dark:text-indigo-200 mb-2",children:"ðŸ“Š Realistic Targets"}),e.jsxs("div",{className:"text-sm text-indigo-700 dark:text-indigo-300 space-y-1",children:[e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Drop rate:"})," 50-100 letters per session"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Conversation rate:"})," 15-25% of drops"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Interest rate:"})," 5-10% of conversations"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Success rate:"})," 2-5% of conversations"]})]})]}),e.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-xl border border-emerald-200 dark:border-emerald-800",children:[e.jsx("div",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-2",children:"ðŸŽ¯ Daily Goals"}),e.jsxs("div",{className:"text-sm text-emerald-700 dark:text-emerald-300 space-y-1",children:[e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Drop:"})," 50+ letters"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Follow up:"})," 20+ properties"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Conversations:"})," 5+ meaningful chats"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Interested leads:"})," 1+ per day"]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(pe,{className:"w-5 h-5"}),"Best Practices"]}),e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl border border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Dress appropriately:"})," Smart casual, UW branded if possible"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Be confident:"})," You're offering genuine value, not selling"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Listen actively:"})," Understand their situation before suggesting solutions"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Follow up promptly:"})," Use the app to track and schedule follow-ups"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Stay positive:"}),' Every "no" gets you closer to a "yes"']}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Use the app:"})," Track everything to improve your approach"]})]})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5"}),"Common Mistakes to Avoid"]}),e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Rushing conversations:"})," Take time to build rapport"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Not following up:"})," Most success comes from follow-up visits"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Poor timing:"})," Avoid meal times and early mornings"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Being pushy:"}),' Respect "no" and move on gracefully']}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Not tracking activity:"})," Use the app to learn what works"]}),e.jsxs("div",{children:["â€¢ ",e.jsx("strong",{children:"Giving up too early:"})," Try multiple times before marking unreachable"]})]})})})]})]})}function pt({campaigns:r}){const[a,l]=m.useState(""),[t,d]=m.useState("all"),[n,i]=m.useState("date"),[b,w]=m.useState("desc"),[v,D]=m.useState(!1),C=[];r.forEach(c=>c.streets.forEach(x=>x.properties.forEach(o=>{let h=null,P="";o.spokeAt?(h=o.spokeAt,P="spoke"):o.knockedAt?(h=o.knockedAt,P="knocked"):o.droppedAt?(h=o.droppedAt,P="dropped"):o.resultAt&&(h=o.resultAt,P="result"),C.push({campaign:c.name,street:x.name,property:o.label,dropped:o.dropped,knocked:o.knocked,spoke:o.spoke,result:o.result||"none",followUpAt:o.followUpAt||"",droppedAt:o.droppedAt||"",knockedAt:o.knockedAt||"",spokeAt:o.spokeAt||"",resultAt:o.resultAt||"",latestActivity:h,latestActivityType:P})})));const E=m.useMemo(()=>{let c=C.filter(x=>{const o=x.campaign.toLowerCase().includes(a.toLowerCase())||x.street.toLowerCase().includes(a.toLowerCase())||x.property.toLowerCase().includes(a.toLowerCase()),h=t==="all"||t==="dropped"&&x.dropped||t==="knocked"&&x.knocked||t==="spoke"&&x.spoke||t==="followup"&&x.followUpAt||t==="interested"&&(x.result==="interested"||x.result==="customer_signed"||x.result==="appointment_booked");return o&&h});return c.sort((x,o)=>{let h,P;switch(n){case"date":h=x.latestActivity||"",P=o.latestActivity||"";break;case"campaign":h=x.campaign,P=o.campaign;break;case"street":h=x.street,P=o.street;break;case"property":h=parseInt(x.property)||x.property,P=parseInt(o.property)||o.property;break;case"dropped":h=x.dropped?1:0,P=o.dropped?1:0;break;case"knocked":h=x.knocked?1:0,P=o.knocked?1:0;break;case"spoke":h=x.spoke?1:0,P=o.spoke?1:0;break;case"result":h=x.result,P=o.result;break;case"followup":h=x.followUpAt||"",P=o.followUpAt||"";break;default:h=x.latestActivity||"",P=o.latestActivity||""}return h<P?b==="asc"?-1:1:h>P?b==="asc"?1:-1:0}),c},[C,a,t,n,b]),j=c=>{n===c?w(b==="asc"?"desc":"asc"):(i(c),w("asc"))},A=({column:c})=>n!==c?e.jsx(Ke,{className:"w-3 h-3 opacity-30"}):b==="asc"?e.jsx(Ke,{className:"w-3 h-3"}):e.jsx(Qr,{className:"w-3 h-3"}),k=c=>{const x="flex items-center gap-1 transition-all";return n===c?`${x} bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 px-2 py-1 rounded-lg`:`${x} hover:opacity-100 hover:bg-gray-50 dark:hover:bg-gray-900/20 px-2 py-1 rounded-lg`},y=m.useMemo(()=>{const c={letters:0,knocked:0,spoke:0,interested:0,followups:0,outcomes:{interested:0,customer_signed:0,appointment_booked:0,no_for_now:0,already_uw:0,not_interested:0}};return C.forEach(x=>{x.dropped&&c.letters++,x.knocked&&c.knocked++,x.spoke&&c.spoke++,(x.result==="interested"||x.result==="customer_signed"||x.result==="appointment_booked")&&c.interested++,x.followUpAt&&c.followups++,x.result&&x.result!=="none"&&(c.outcomes[x.result]=(c.outcomes[x.result]||0)+1)}),c},[r]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx(R,{title:"Overview",icon:se,children:e.jsxs("div",{className:"grid md:grid-cols-5 gap-3",children:[e.jsx(B,{icon:Ae,label:"Letters",value:y.letters}),e.jsx(B,{icon:pe,label:"Knocked",value:y.knocked}),e.jsx(B,{icon:$,label:"Spoke",value:y.spoke}),e.jsx(B,{icon:er,label:"Interested",value:y.interested}),e.jsx(B,{icon:ue,label:"Followâ€‘ups",value:y.followups})]})}),e.jsx(R,{title:"Conversation Outcomes",icon:$,children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"text-lg font-semibold text-green-700 dark:text-green-300",children:y.outcomes.interested}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Interested"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"text-lg font-semibold text-green-700 dark:text-green-300",children:y.outcomes.customer_signed}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Customer Signed"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"text-lg font-semibold text-green-700 dark:text-green-300",children:y.outcomes.appointment_booked}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Appointment Booked"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800",children:[e.jsx("div",{className:"text-lg font-semibold text-yellow-700 dark:text-yellow-300",children:y.outcomes.no_for_now}),e.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"No for Now"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300",children:y.outcomes.already_uw}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Already with UW"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:[e.jsx("div",{className:"text-lg font-semibold text-red-700 dark:text-red-300",children:y.outcomes.not_interested}),e.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Not Interested"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-800",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:y.outcomes.unreachable||0}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unreachable"})]})]})}),e.jsxs(R,{title:"Activity log",icon:zr,children:[e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(X,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:a,onChange:c=>l(c.target.value),placeholder:"Search campaigns, streets, properties...",className:"w-full pl-10 pr-3 py-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors"})]}),e.jsx("button",{onClick:()=>D(!v),className:`p-2 rounded-xl border transition-colors ${v?"bg-primary-100 dark:bg-primary-900/20 border-primary-200 dark:border-primary-800 text-primary-600 dark:text-primary-400":"bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:"Toggle filters",children:e.jsx(Yr,{className:"w-4 h-4"})})]}),v&&e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl border border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-xs font-medium opacity-70",children:"Filter by:"}),e.jsxs("select",{value:t,onChange:c=>d(c.target.value),className:"px-3 py-1.5 rounded-lg bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-xs focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All activities"}),e.jsx("option",{value:"dropped",children:"Letters dropped"}),e.jsx("option",{value:"knocked",children:"Doors knocked"}),e.jsx("option",{value:"spoke",children:"Conversations had"}),e.jsx("option",{value:"followup",children:"Follow-ups scheduled"}),e.jsx("option",{value:"interested",children:"Interested prospects"})]})]})}),e.jsxs("div",{className:"text-xs opacity-70",children:["Showing ",E.length," of ",C.length," activities",e.jsx("span",{className:"hidden sm:inline",children:" â€¢ Scroll horizontally to see all columns"}),e.jsxs("span",{className:"hidden sm:inline",children:[" â€¢ ",e.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:"D"}),"=Letters dropped, ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"K"}),"=Doors knocked, ",e.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"S"}),"=Conversations had"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"mb-2 flex justify-end xl:hidden",children:e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded-lg text-xs text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-700",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Scroll for more columns"]})}),e.jsx("div",{className:"overflow-x-auto border border-gray-200 dark:border-gray-800 rounded-xl",children:e.jsxs("table",{className:"w-full text-sm min-w-max",children:[e.jsx("thead",{className:"text-left opacity-70 bg-gray-50 dark:bg-gray-900/20",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-3 sticky left-0 bg-gray-50 dark:bg-gray-900/20 z-20 border-r border-gray-200 dark:border-gray-700 w-24 shadow-sm",children:e.jsxs("button",{onClick:()=>j("date"),className:k("date"),children:["Date",e.jsx(A,{column:"date"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-24",children:e.jsxs("button",{onClick:()=>j("campaign"),className:k("campaign"),children:["Campaign",e.jsx(A,{column:"campaign"})]})}),e.jsx("th",{className:"py-2 px-3 hidden md:table-cell w-20",children:e.jsxs("button",{onClick:()=>j("street"),className:k("street"),children:["Street",e.jsx(A,{column:"street"})]})}),e.jsx("th",{className:"py-2 px-3 w-12",children:e.jsxs("button",{onClick:()=>j("property"),className:k("property"),children:["#",e.jsx(A,{column:"property"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-12",children:e.jsxs("button",{onClick:()=>j("dropped"),className:k("dropped"),title:"Letters dropped",children:["D",e.jsx(A,{column:"dropped"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-12",children:e.jsxs("button",{onClick:()=>j("knocked"),className:k("knocked"),title:"Doors knocked",children:["K",e.jsx(A,{column:"knocked"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-12",children:e.jsxs("button",{onClick:()=>j("spoke"),className:k("spoke"),title:"Conversations had",children:["S",e.jsx(A,{column:"spoke"})]})}),e.jsx("th",{className:"py-2 px-3 w-20",children:e.jsxs("button",{onClick:()=>j("result"),className:k("result"),children:["Result",e.jsx(A,{column:"result"})]})}),e.jsx("th",{className:"py-2 px-3 hidden xl:table-cell w-24",children:e.jsxs("button",{onClick:()=>j("followup"),className:k("followup"),children:["Followâ€‘up",e.jsx(A,{column:"followup"})]})})]})}),e.jsx("tbody",{children:E.map((c,x)=>e.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900/20 transition-colors",children:[e.jsx("td",{className:"py-2 px-3 sticky left-0 bg-white dark:bg-gray-900 z-20 border-r border-gray-200 dark:border-gray-700 shadow-sm",children:c.latestActivity?e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-medium",children:new Date(c.latestActivity).toLocaleDateString()}),e.jsx("div",{className:"text-gray-500 dark:text-gray-400 capitalize",children:c.latestActivityType})]}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600 text-xs",children:"â€”"})}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell font-medium",children:c.campaign}),e.jsx("td",{className:"py-2 px-3 hidden md:table-cell",children:c.street}),e.jsx("td",{className:"py-2 px-3 text-xs max-w-24 truncate",title:c.property,children:c.property}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell",title:c.dropped?"Letter dropped":"No letter dropped",children:c.dropped?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 text-xs",children:"âœ“"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"â€”"})}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell",title:c.knocked?"Door knocked":"No door knocked",children:c.knocked?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-xs",children:"âœ“"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"â€”"})}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell",title:c.spoke?"Conversation had":"No conversation",children:c.spoke?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-xs",children:"âœ“"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"â€”"})}),e.jsx("td",{className:"py-2 px-3",children:c.result==="none"?e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"â€”"}):c.result==="interested"||c.result==="customer_signed"||c.result==="appointment_booked"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300",children:c.result.replace("_"," ")}):c.result==="maybe"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300",children:"maybe"}):c.result==="no_for_now"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300",children:"no for now"}):c.result==="already_uw"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300",children:"already UW"}):c.result==="not_interested"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300",children:"not interested"}):c.result==="unreachable"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300",children:"unreachable"}):e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:c.result})}),e.jsx("td",{className:"py-2 px-3 hidden xl:table-cell",children:c.followUpAt?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300",children:new Date(c.followUpAt).toLocaleDateString()}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"â€”"})})]},x))})]})})]})]})]})}function bt({onSubmit:r,onCancel:a,addressSearchTerm:l,setAddressSearchTerm:t,addressSuggestions:d,selectedPostcode:n,selectedTown:i,availableStreets:b,selectedStreets:w,isLoadingAddresses:v,addressLookupStep:D,searchAddresses:C,selectAddress:E,toggleStreetSelection:j,importSelectedStreets:A,resetAddressLookup:k}){const[y,c]=m.useState({name:"",area:"",connector:"",quote:"",booking:"",faq:""}),x=o=>{if(o.preventDefault(),!y.name.trim()){alert("Please enter a campaign name");return}r(y)};return e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Name *"}),e.jsx("input",{type:"text",value:y.name,onChange:o=>c(h=>({...h,name:o.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Elmswell NL â€“ Aug 2025",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode Area"}),e.jsx("input",{type:"text",value:y.area,onChange:o=>c(h=>({...h,area:o.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Links (Optional)"}),e.jsx("input",{type:"url",value:y.connector,onChange:o=>c(h=>({...h,connector:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Connector sign-up URL"}),e.jsx("input",{type:"url",value:y.quote,onChange:o=>c(h=>({...h,quote:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Quote/eligibility form URL"}),e.jsx("input",{type:"url",value:y.booking,onChange:o=>c(h=>({...h,booking:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Booking page URL"}),e.jsx("input",{type:"url",value:y.faq,onChange:o=>c(h=>({...h,faq:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"FAQ page URL"})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(H,{className:"w-4 h-4 text-primary-600"}),e.jsx("label",{className:"text-sm font-medium",children:"Import Streets"})]}),e.jsx("p",{className:"text-xs opacity-70 mb-3",children:"Search by postcode or town name to import streets automatically"}),D==="search"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:l,onChange:o=>{t(o.target.value),o.target.value.length>=3?C(o.target.value):setAddressSuggestions([])},className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Enter postcode or town name (e.g., IP30 or Elmswell)"}),v&&e.jsx("div",{className:"absolute right-3 top-2.5",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})})]}),d.length>0&&e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:d.map((o,h)=>e.jsx("button",{onClick:()=>E(o),className:"w-full p-2 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:typeof o=="string"?o:o.display},h))})]}),D==="select"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:i}),e.jsx("p",{className:"text-xs opacity-70",children:n})]}),e.jsx("button",{onClick:k,className:"text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Change"})]}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:b.map((o,h)=>e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[e.jsx("input",{type:"checkbox",checked:w.includes(o),onChange:()=>j(o),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:o})]},h))}),w.length>0&&e.jsxs("button",{onClick:A,className:"w-full px-3 py-2 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:["Import ",w.length," Street",w.length!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Create Campaign"}),e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function ht({onCancel:r,addressSearchTerm:a,setAddressSearchTerm:l,addressSuggestions:t,selectedPostcode:d,selectedTown:n,availableStreets:i,selectedStreets:b,isLoadingAddresses:w,addressLookupStep:v,searchAddresses:D,selectAddress:C,toggleStreetSelection:E,importSelectedStreets:j,resetAddressLookup:A}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-800 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(H,{className:"w-4 h-4 text-primary-600"}),e.jsx("label",{className:"text-sm font-medium",children:"Import Streets"})]}),e.jsx("p",{className:"text-xs opacity-70",children:"Search by postcode or town name to import streets automatically"})]}),v==="search"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:a,onChange:k=>{l(k.target.value),k.target.value.length>=3?D(k.target.value):setAddressSuggestions([])},className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Enter postcode or town name (e.g., IP30 or Elmswell)"}),w&&e.jsx("div",{className:"absolute right-3 top-2.5",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})})]}),t.length>0&&e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:t.map((k,y)=>e.jsx("button",{onClick:()=>C(k),className:"w-full p-2 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:typeof k=="string"?k:k.display},y))})]}),v==="select"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:n}),e.jsx("p",{className:"text-xs opacity-70",children:d})]}),e.jsx("button",{onClick:A,className:"text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Change"})]}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:i.map((k,y)=>e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[e.jsx("input",{type:"checkbox",checked:b.includes(k),onChange:()=>E(k),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:k})]},y))}),b.length>0&&e.jsxs("button",{onClick:j,className:"w-full px-3 py-2 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:["Import ",b.length," Street",b.length!==1?"s":""]})]}),e.jsx("div",{className:"flex gap-3 pt-4",children:e.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Close"})})]})}function yt({onSubmit:r,onCancel:a}){const[l,t]=m.useState({name:"",postcode:"",properties:""}),d=n=>{if(n.preventDefault(),!l.name.trim()){alert("Please enter a street name");return}if(!l.properties.trim()){alert("Please enter property numbers");return}const i=l.properties.split(",").map(b=>b.trim()).filter(b=>b.length>0);if(i.length===0){alert("Please enter at least one property number");return}r({name:l.name,postcode:l.postcode,properties:i})};return e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Street Name *"}),e.jsx("input",{type:"text",value:l.name,onChange:n=>t(i=>({...i,name:n.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Orchard Way",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode"}),e.jsx("input",{type:"text",value:l.postcode,onChange:n=>t(i=>({...i,postcode:n.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30 9XX"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Property Numbers *"}),e.jsx("textarea",{value:l.properties,onChange:n=>t(i=>({...i,properties:n.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:`Enter property numbers or names separated by commas
e.g., 1, 3, 5, 7, 9
or: 12, 14, 16, 18
or: The Old Post Office, Rose Cottage, 1, 3`,rows:3,required:!0}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:'Separate property numbers or names with commas only. Supports house names like "The Old Post Office", "Rose Cottage"'})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Add Street"}),e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function ft({campaign:r,onSubmit:a,onCancel:l}){const[t,d]=m.useState({name:r.name,area:r.area,connector:r.links.connector,quote:r.links.quote,booking:r.links.booking,faq:r.links.faq}),n=i=>{if(i.preventDefault(),!t.name.trim()){alert("Please enter a campaign name");return}a(t)};return e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Name *"}),e.jsx("input",{type:"text",value:t.name,onChange:i=>d(b=>({...b,name:i.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Elmswell NL â€“ Aug 2025",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode Area"}),e.jsx("input",{type:"text",value:t.area,onChange:i=>d(b=>({...b,area:i.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Links (Optional)"}),e.jsx("input",{type:"url",value:t.connector,onChange:i=>d(b=>({...b,connector:i.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Connector sign-up URL"}),e.jsx("input",{type:"url",value:t.quote,onChange:i=>d(b=>({...b,quote:i.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Quote/eligibility form URL"}),e.jsx("input",{type:"url",value:t.booking,onChange:i=>d(b=>({...b,booking:i.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Booking page URL"}),e.jsx("input",{type:"url",value:t.faq,onChange:i=>d(b=>({...b,faq:i.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"FAQ page URL"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Update Campaign"}),e.jsx("button",{type:"button",onClick:l,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function kt({street:r,onSubmit:a,onCancel:l}){const[t,d]=m.useState({name:r.name,postcode:r.postcode}),n=i=>{if(i.preventDefault(),!t.name.trim()){alert("Please enter a street name");return}a(t)};return e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Street Name *"}),e.jsx("input",{type:"text",value:t.name,onChange:i=>d(b=>({...b,name:i.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Orchard Way",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode"}),e.jsx("input",{type:"text",value:t.postcode,onChange:i=>d(b=>({...b,postcode:i.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30 9XX"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Update Street"}),e.jsx("button",{type:"button",onClick:l,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function jt({street:r,onAddProperty:a,onRemoveProperty:l,onEditProperty:t,onClose:d}){const[n,i]=m.useState(""),[b,w]=m.useState(null),[v,D]=m.useState(""),C=j=>{if(j.preventDefault(),!n.trim()){alert("Please enter a property label");return}const A=n.split(",").map(k=>k.trim()).filter(k=>k.length>0);if(A.length===0){alert("Please enter at least one property label");return}A.forEach(k=>{a(k)}),i("")},E=(j,A)=>{if(!A.trim()){alert("Please enter a property label");return}t(j,A.trim()),w(null),D("")};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Add New Property"}),e.jsxs("form",{onSubmit:C,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:j=>i(j.target.value),className:"flex-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Property numbers or names (e.g., 1, 3, 5 or The Old Post Office, Rose Cottage)"}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Add"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:'Separate multiple properties with commas: "1, 3, 5" or "The Old Post Office, Rose Cottage"'})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-2",children:["Existing Properties (",r.properties.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.properties.map(j=>e.jsx("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-gray-800",children:b===j.id?e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:"text",value:v,onChange:A=>D(A.target.value),className:"flex-1 p-1 rounded bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm",autoFocus:!0}),e.jsx("button",{onClick:()=>E(j.id,v),className:"px-2 py-1 rounded bg-green-600 text-white text-xs hover:bg-green-700",children:"Save"}),e.jsx("button",{onClick:()=>{w(null),D("")},className:"px-2 py-1 rounded bg-gray-600 text-white text-xs hover:bg-gray-700",children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm",children:j.label}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>{w(j.id),D(j.label)},className:"px-2 py-1 rounded bg-blue-600 text-white text-xs hover:bg-blue-700",children:"Edit"}),e.jsx("button",{onClick:()=>l(j.id),className:"px-2 py-1 rounded bg-red-600 text-white text-xs hover:bg-red-700",children:"Remove"})]})]})},j.id))})]}),e.jsx("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-800",children:e.jsx("button",{onClick:d,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Close"})})]})}Ce.createRoot(document.getElementById("root")).render(e.jsx(Dr.StrictMode,{children:e.jsx(tt,{})}));
//# sourceMappingURL=index-1f90c785.js.map
