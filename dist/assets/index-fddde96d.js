import{r as g,a as qr,R as Br}from"./vendor-b1791c80.js";import{C as lr,D as Wr,S as $r,M as Hr,H as _e,a as Gr,B as ge,T as te,b as z,F as se,c as zr,d as Kr,e as K,L as ue,A as dr,f as Vr,m as sr,X as Le,P as pe,g as Pe,h as H,U as Ie,i as nr,j as he,k as Z,l as be,n as De,o as Yr,p as Qr,q as Xr,r as Jr,I as ir,s as Zr,t as et,u as rt,v as ar,w as tt}from"./ui-136ffc37.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))t(d);new MutationObserver(d=>{for(const i of d)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function n(d){const i={};return d.integrity&&(i.integrity=d.integrity),d.referrerPolicy&&(i.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?i.credentials="include":d.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(d){if(d.ep)return;d.ep=!0;const i=n(d);fetch(d.href,i)}})();var cr={exports:{}},ye={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=g,at=Symbol.for("react.element"),ot=Symbol.for("react.fragment"),lt=Object.prototype.hasOwnProperty,dt=st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nt={key:!0,ref:!0,__self:!0,__source:!0};function mr(s,a,n){var t,d={},i=null,c=null;n!==void 0&&(i=""+n),a.key!==void 0&&(i=""+a.key),a.ref!==void 0&&(c=a.ref);for(t in a)lt.call(a,t)&&!nt.hasOwnProperty(t)&&(d[t]=a[t]);if(s&&s.defaultProps)for(t in a=s.defaultProps,a)d[t]===void 0&&(d[t]=a[t]);return{$$typeof:at,type:s,key:i,ref:c,props:d,_owner:dt.current}}ye.Fragment=ot;ye.jsx=mr;ye.jsxs=mr;cr.exports=ye;var e=cr.exports,Re={},or=qr;Re.createRoot=or.createRoot,Re.hydrateRoot=or.hydrateRoot;const it={opener:[{id:"op1",title:"Door opener (15s)",content:"Hi! I'm local and helping neighbours shave a chunk off household bills—no obligation. I've popped a letter through; if you're open, I can check your postcode now and see if you qualify for the best UW bundles. Takes two minutes."},{id:"op2",title:"Evening approach",content:"Good evening! I'm from UW and I've been helping families in this area save money on their bills. I left a letter earlier - have you had a chance to look at it?"}],objection:[{id:"ob1",title:"Not interested → graceful exit",content:"Totally fine. If things change, the letter's got a QR to a 60‑second checker—no sales calls, just the numbers. Have a great day!"},{id:"ob2",title:"Already with UW",content:"That's great! You might be eligible for additional savings or better bundles. Would you like me to check your current setup?"}],closer:[{id:"cl1",title:"Soft close",content:"If you text me your postcode I'll send a quick checker link—no pressure. If it looks good, we can book a 10‑minute run‑through."},{id:"cl2",title:"Follow-up close",content:"Perfect! I'll send you the details and we can arrange a time that works for you. When would be best?"}],sms:[{id:"sm1",title:"WhatsApp Prefill CTA",content:"Hi Alex, I've got your Neighbour Letter. My postcode is _______. Can you check if I'm eligible for the best bundle?"},{id:"sm2",title:"Follow-up reminder",content:"Hi! Just following up on our conversation about UW savings. Are you still interested in checking your eligibility?"}]},ct=[{id:"c1",name:"Elmswell NL – Aug 2025",area:"IP30",status:"active",created_at:"2025-08-01",links:{connector:"https://example.com/connector",quote:"https://example.com/quote",booking:"https://example.com/book",faq:"https://example.com/faq"},streets:[{id:"s1",name:"Orchard Way",postcode:"IP30 9XX",status:"in_progress",properties:[{id:"p1",label:"1",dropped:!0,knocked:!0,spoke:!1,result:"no_answer",photo:null},{id:"p2",label:"3",dropped:!0,knocked:!0,spoke:!0,result:"maybe",followUpAt:"2025-08-16T18:00:00",photo:null},{id:"p3",label:"5",dropped:!0,knocked:!1,spoke:!1,result:"none",photo:null}]},{id:"s2",name:"Station Road",postcode:"IP30 9YY",status:"not_started",properties:[{id:"p4",label:"12",dropped:!1,knocked:!1,spoke:!1,result:"none",photo:null},{id:"p5",label:"14",dropped:!1,knocked:!1,spoke:!1,result:"none",photo:null}]}]},{id:"c2",name:"Stowmarket NL – Sept 2025",area:"IP14",status:"planned",created_at:"2025-08-15",links:{connector:"https://example.com/connector",quote:"https://example.com/quote",booking:"https://example.com/book",faq:"https://example.com/faq"},streets:[]}],ee=({children:s,variant:a="default",className:n=""})=>{const t={default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",primary:"bg-primary-100 text-primary-700 dark:bg-primary-900/40 dark:text-primary-300",success:"bg-secondary-100 text-secondary-700 dark:bg-secondary-900/40 dark:text-secondary-300",warning:"bg-warning-100 text-warning-700 dark:bg-warning-900/40 dark:text-warning-300",error:"bg-error-100 text-error-700 dark:bg-error-900/40 dark:text-error-300"};return e.jsx("span",{className:`inline-flex items-center text-xs px-2 py-1 rounded-full shadow-sm ${t[a]} ${n}`,children:s})},$=({title:s,icon:a,children:n,actions:t,className:d=""})=>e.jsxs("div",{className:`rounded-2xl shadow-soft p-4 bg-white/70 dark:bg-gray-900/70 backdrop-blur border border-gray-200/50 dark:border-gray-800/50 ${d}`,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a&&e.jsx(a,{className:"w-5 h-5 text-primary-600 flex-shrink-0"}),e.jsx("h3",{className:"text-lg font-semibold truncate",children:s})]}),t&&e.jsx("div",{className:"flex-shrink-0",children:t})]}),n]}),B=({open:s,onClose:a,title:n,children:t,size:d="default"})=>{const i={small:"max-h-[60vh]",default:"max-h-[80vh]",large:"max-h-[90vh]"};return e.jsx(Vr,{children:s&&e.jsxs(sr.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:a}),e.jsxs(sr.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:120,damping:16},className:`absolute bottom-0 left-0 right-0 bg-white dark:bg-gray-900 rounded-t-3xl p-4 ${i[d]} overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-base font-semibold",children:n}),e.jsx("button",{className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",onClick:a,children:e.jsx(Le,{className:"w-5 h-5"})})]}),t]})]})})};function mt(){const[s,a]=g.useState(!0),[n,t]=g.useState("dashboard"),[d,i]=g.useState(ct),[c,j]=g.useState("c1"),[L,C]=g.useState("s1"),[E,T]=g.useState("p2"),[O,p]=g.useState(!1),[S,A]=g.useState(!1),[f,m]=g.useState(!1),[l,o]=g.useState(!1),[k,M]=g.useState(!1),[xr,ae]=g.useState(!1),[gr,oe]=g.useState(!1),[ur,le]=g.useState(!1),[pr,de]=g.useState(!1),[hr,ne]=g.useState(!1),[br,fe]=g.useState(!1),[Te,Ee]=g.useState(null),[Me,Ue]=g.useState(null),[yr,Fe]=g.useState(!1),[fr,kr]=g.useState(!1),[jr,Oe]=g.useState(!1),[qe,Be]=g.useState(navigator.onLine),[We,ie]=g.useState(""),[$e,J]=g.useState([]),[ke,je]=g.useState(""),[He,ve]=g.useState(""),[Ge,ce]=g.useState([]),[Ne,we]=g.useState([]),[ze,me]=g.useState(!1),[Ke,xe]=g.useState("search"),[re,vr]=g.useState(null),F=g.useMemo(()=>d.find(r=>r.id===c),[d,c]),Q=g.useMemo(()=>F==null?void 0:F.streets.find(r=>r.id===L),[F,L]),Ve=g.useMemo(()=>Q==null?void 0:Q.properties.find(r=>r.id===E),[Q,E]),Nr=g.useMemo(()=>{let r=0,b=0,x=0,u=0,v={interested:0,customer_signed:0,appointment_booked:0,no_for_now:0,already_uw:0,not_interested:0};const _=new Date().toISOString().split("T")[0];return F==null||F.streets.forEach(D=>{D.properties.forEach(w=>{const U=w.dropped&&w.droppedAt===_,P=w.spoke&&w.spokeAt===_,h=w.result&&w.resultAt===_,y=w.followUpAt&&w.followUpAt.startsWith(_);U&&r++,P&&b++,h&&(w.result==="customer_signed"||w.result==="appointment_booked")&&x++,y&&u++,h&&w.result!=="none"&&(v[w.result]=(v[w.result]||0)+1)})}),{letters:r,convos:b,interested:x,followups:u,outcomes:v}},[F]),wr=r=>{const b=new Date().toISOString().split("T")[0];i(x=>x.map(u=>{if(u.id!==c)return u;const v={...u,streets:u.streets.map(h=>h.id!==L?h:{...h,properties:h.properties.map(y=>{if(y.id===E){const N={...r};return r.result&&(N.resultAt=b),r.followUpAt&&(N.followUpAt=r.followUpAt),{...y,...N}}return y})})},_=v.streets.reduce((h,y)=>h+y.properties.length,0);v.streets.reduce((h,y)=>h+y.properties.filter(N=>N.dropped).length,0),v.streets.reduce((h,y)=>h+y.properties.filter(N=>N.spoke).length,0);let D=v.status;v.streets.reduce((h,y)=>h+y.properties.filter(N=>N.dropped||N.knocked||N.spoke).length,0)>0&&D==="planned"&&(D="active");const U=v.streets.reduce((h,y)=>h+y.properties.filter(N=>N.result&&N.result!=="none"&&N.result!=="no_answer").length,0);_>0&&U===_&&(D="completed");const P=v.streets.map(h=>{const y=h.properties.length,N=h.properties.filter(R=>R.dropped).length;h.properties.filter(R=>R.knocked).length,h.properties.filter(R=>R.spoke).length;let I=h.status;h.properties.filter(R=>R.dropped||R.knocked||R.spoke||R.result&&R.result!=="none").length===0?I="not_started":N>0&&I==="not_started"&&(I="in_progress");const V=h.properties.filter(R=>R.result&&R.result!=="none"&&R.result!=="no_answer").length;return y>0&&V===y&&(I="completed"),I==="completed"&&V<y&&(I="in_progress"),{...h,status:I}});return{...v,streets:P,status:D}}))},Ye=()=>a(r=>!r),Sr=()=>{const r={campaigns:d,settings:{dark:s},exportDate:new Date().toISOString(),version:"1.0.0"},b=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),x=URL.createObjectURL(b),u=document.createElement("a");u.href=x,u.download=`uw-street-smart-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(x)},Cr=r=>{const b=new FileReader;b.onload=x=>{var u;try{const v=JSON.parse(x.target.result);v.campaigns&&Array.isArray(v.campaigns)?(i(v.campaigns),((u=v.settings)==null?void 0:u.dark)!==void 0&&a(v.settings.dark),o(!1),alert("Data imported successfully!")):alert("Invalid data format. Please select a valid export file.")}catch{alert("Error importing data. Please check the file format.")}},b.readAsText(r)},Ar=()=>{M(!0)},_r=()=>{const r=[{id:"new-campaign",name:"New Campaign",area:"",status:"planned",created_at:new Date().toISOString().split("T")[0],links:{connector:"",quote:"",booking:"",faq:""},streets:[]}];i(r),j("new-campaign"),C(""),T(""),M(!1),alert("All data has been cleared. You can now start fresh with a new campaign.")},Pr=r=>{const b={id:`campaign-${Date.now()}`,name:r.name,area:r.area,status:"planned",created_at:new Date().toISOString().split("T")[0],links:{connector:r.connector||"",quote:r.quote||"",booking:r.booking||"",faq:r.faq||""},streets:[]};i(x=>[...x,b]),j(b.id),ae(!1),alert("New campaign created successfully!")},Rr=r=>{const b={id:`street-${Date.now()}`,name:r.name,postcode:r.postcode,status:"not_started",properties:r.properties.map((x,u)=>({id:`property-${Date.now()}-${u}`,label:x,dropped:!1,knocked:!1,spoke:!1,result:"none"}))};i(x=>x.map(u=>u.id===c?{...u,streets:[...u.streets,b]}:u)),C(b.id),oe(!1),alert("New street added successfully!")},Lr=r=>{i(b=>b.map(x=>x.id===Te.id?{...x,name:r.name,area:r.area,links:{connector:r.connector||"",quote:r.quote||"",booking:r.booking||"",faq:r.faq||""}}:x)),de(!1),Ee(null),alert("Campaign updated successfully!")},Ir=r=>{if(confirm("Are you sure you want to delete this campaign? This action cannot be undone.")){if(i(b=>b.filter(x=>x.id!==r)),c===r){const b=d.filter(x=>x.id!==r);b.length>0?j(b[0].id):j("")}alert("Campaign deleted successfully!")}},Dr=r=>{i(b=>b.map(x=>x.id===c?{...x,streets:x.streets.map(u=>u.id===Me.id?{...u,name:r.name,postcode:r.postcode}:u)}:x)),ne(!1),Ue(null),alert("Street updated successfully!")},Tr=r=>{if(confirm("Are you sure you want to delete this street? This action cannot be undone.")){if(i(b=>b.map(x=>x.id===c?{...x,streets:x.streets.filter(u=>u.id!==r)}:x)),L===r){const b=d.find(u=>u.id===c),x=(b==null?void 0:b.streets.filter(u=>u.id!==r))||[];x.length>0?C(x[0].id):C("")}alert("Street deleted successfully!")}},Er=r=>{const b={id:`property-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,label:r,dropped:!1,knocked:!1,spoke:!1,result:"none",photo:null,droppedAt:null,knockedAt:null,spokeAt:null,resultAt:null};i(x=>x.map(u=>{if(u.id===c){const v={...u,streets:u.streets.map(h=>{if(h.id===L){const y={...h,properties:[...h.properties,b]};return h.status==="completed"&&(y.status="in_progress"),y}return h})},_=v.streets.reduce((h,y)=>h+y.properties.length,0);v.streets.reduce((h,y)=>h+y.properties.filter(N=>N.dropped).length,0);let D=v.status;v.streets.reduce((h,y)=>h+y.properties.filter(N=>N.dropped||N.knocked||N.spoke).length,0)>0&&D==="planned"&&(D="active");const U=v.streets.reduce((h,y)=>h+y.properties.filter(N=>N.result&&N.result!=="none"&&N.result!=="no_answer").length,0);_>0&&U===_&&(D="completed");const P=v.streets.map(h=>{const y=h.properties.length,N=h.properties.filter(R=>R.dropped).length;h.properties.filter(R=>R.knocked).length,h.properties.filter(R=>R.spoke).length;let I=h.status;h.properties.filter(R=>R.dropped||R.knocked||R.spoke||R.result&&R.result!=="none").length===0?I="not_started":N>0&&I==="not_started"&&(I="in_progress");const V=h.properties.filter(R=>R.result&&R.result!=="none"&&R.result!=="no_answer").length;return y>0&&V===y&&(I="completed"),I==="completed"&&V<y&&(I="in_progress"),{...h,status:I}});return{...v,streets:P,status:D}}return u}))},Mr=r=>{confirm("Are you sure you want to remove this property?")&&i(b=>b.map(x=>x.id===c?{...x,streets:x.streets.map(u=>u.id===L?{...u,properties:u.properties.filter(v=>v.id!==r)}:u)}:x))},Ur=(r,b)=>{i(x=>x.map(u=>u.id===c?{...u,streets:u.streets.map(v=>v.id===L?{...v,properties:v.properties.map(_=>_.id===r?{..._,label:b}:_)}:v)}:u))},Fr=(r,b)=>{const x=new Date().toISOString().split("T")[0];i(u=>u.map(v=>{if(v.id!==c)return v;const _={...v,streets:v.streets.map(y=>y.id!==L?y:{...y,properties:y.properties.map(N=>{if(N.id===r){const I=!N[b],W=`${b}At`;return{...N,[b]:I,[W]:I?x:null}}return N})})},D=_.streets.reduce((y,N)=>y+N.properties.length,0);_.streets.reduce((y,N)=>y+N.properties.filter(I=>I.dropped).length,0),_.streets.reduce((y,N)=>y+N.properties.filter(I=>I.spoke).length,0);let w=_.status;_.streets.reduce((y,N)=>y+N.properties.filter(I=>I.dropped||I.knocked||I.spoke).length,0)>0&&w==="planned"&&(w="active");const P=_.streets.reduce((y,N)=>y+N.properties.filter(I=>I.result&&I.result!=="none"&&I.result!=="no_answer").length,0);D>0&&P===D&&(w="completed");const h=_.streets.map(y=>{const N=y.properties.length,I=y.properties.filter(q=>q.dropped).length;y.properties.filter(q=>q.knocked).length,y.properties.filter(q=>q.spoke).length;let W=y.status;y.properties.filter(q=>q.dropped||q.knocked||q.spoke||q.result&&q.result!=="none").length===0?W="not_started":I>0&&W==="not_started"&&(W="in_progress");const R=y.properties.filter(q=>q.result&&q.result!=="none"&&q.result!=="no_answer").length;return N>0&&R===N&&(W="completed"),W==="completed"&&R<N&&(W="in_progress"),{...y,status:W}});return{..._,streets:h,status:w}}))},Se=async r=>{if(console.log("searchAddresses called with:",r),!r||r.length<2){console.log("Search term too short, clearing suggestions"),J([]);return}me(!0),console.log("Making API request for:",r);try{let b=[];const x=await fetch(`https://api.postcodes.io/places?q=${encodeURIComponent(r)}&limit=20`);if(x.ok){const w=await x.json();if(w.result&&w.result.length>0){const U=w.result.map(P=>({display:`${P.name_1} - ${P.local_type||"Place"} (${P.county_unitary||P.region||"UK"})`,value:P.name_1,postcode:P.outcode,admin_district:P.county_unitary,admin_ward:P.district_borough,parish:P.local_type,type:"place",local_type:P.local_type,county:P.county_unitary,region:P.region}));b.push(...U)}}const u=await fetch(`https://api.postcodes.io/postcodes?q=${encodeURIComponent(r)}&limit=15`);if(u.ok){const w=await u.json();if(w.result&&w.result.length>0){const U=new Map;w.result.forEach(P=>{U.has(P.outcode)||U.set(P.outcode,{display:`${P.outcode} - ${P.admin_district||P.admin_ward||"Postcode Area"} (${P.admin_county||"UK"})`,value:P.outcode,postcode:P.outcode,admin_district:P.admin_district,admin_ward:P.admin_ward,admin_county:P.admin_county,parish:P.parish,type:"postcode_area"})}),b.push(...Array.from(U.values()))}}try{const w=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(r+", UK")}&format=json&addressdetails=1&limit=10&countrycodes=gb`);if(w.ok){const U=await w.json();if(U&&U.length>0){const P=U.filter(h=>h.type==="street"||h.class==="highway").map(h=>{var y,N,I,W,V,R,q,Ze,er,rr,tr;return{display:`${h.display_name.split(",")[0]} - Street (${((y=h.address)==null?void 0:y.city)||((N=h.address)==null?void 0:N.town)||((I=h.address)==null?void 0:I.village)||"UK"})`,value:h.display_name.split(",")[0],postcode:((W=h.address)==null?void 0:W.postcode)||"",admin_district:((V=h.address)==null?void 0:V.city)||((R=h.address)==null?void 0:R.town)||((q=h.address)==null?void 0:q.village),admin_ward:(Ze=h.address)==null?void 0:Ze.suburb,parish:(er=h.address)==null?void 0:er.county,type:"real_street",local_type:"street",county:(rr=h.address)==null?void 0:rr.county,region:(tr=h.address)==null?void 0:tr.state}});b.push(...P)}}}catch(w){console.log("Nominatim API error (falling back to other sources):",w)}[{name:"London",county:"Greater London",type:"City"},{name:"Manchester",county:"Greater Manchester",type:"City"},{name:"Birmingham",county:"West Midlands",type:"City"},{name:"Leeds",county:"West Yorkshire",type:"City"},{name:"Liverpool",county:"Merseyside",type:"City"},{name:"Newcastle",county:"Tyne and Wear",type:"City"},{name:"Sheffield",county:"South Yorkshire",type:"City"},{name:"Bristol",county:"Bristol",type:"City"},{name:"Glasgow",county:"Scotland",type:"City"},{name:"Edinburgh",county:"Scotland",type:"City"},{name:"Cardiff",county:"Wales",type:"City"},{name:"Belfast",county:"Northern Ireland",type:"City"}].forEach(w=>{w.name.toLowerCase().includes(r.toLowerCase())&&b.push({display:`${w.name} - ${w.type} (${w.county})`,value:w.name,postcode:"",admin_district:w.county,type:"common_place",local_type:w.type,county:w.county})});const D=b.filter((w,U,P)=>U===P.findIndex(h=>h.value===w.value)).sort((w,U)=>{const P={real_street:1,place:2,common_place:3,postcode_area:4};return(P[w.type]||5)-(P[U.type]||5)});console.log("All suggestions:",D),J(D.slice(0,25))}catch(b){console.error("Error searching addresses:",b),J([])}finally{me(!1)}},Or=r=>{console.log("debouncedSearch called with:",r),re&&(console.log("Clearing existing timeout"),clearTimeout(re));const b=setTimeout(()=>{console.log("Timeout fired, calling searchAddresses"),Se(r)},300);vr(b)},Qe=async r=>{console.log("selectAddress called with:",r),typeof r=="string"||r.value;const b=typeof r=="string"?r:r.postcode||r.value;let x="Unknown Area";typeof r=="object"?r.display?x=r.display.split(" - ")[0]||r.value||"Unknown Area":r.admin_district?x=r.admin_district:r.value&&(x=r.value):x=r,console.log("Extracted area name:",x),console.log("Extracted postcode:",b),je(b),ve(x),me(!0);try{let u=[];const v=x.toLowerCase(),_=b.toLowerCase(),D={suffolk:["High Street","Station Road","Church Street","School Lane","The Street","Back Lane","Mill Lane","Church Lane","Station Lane","School Road","Village Street","The Green","Main Street","Market Street","Bridge Street","London Road","Cambridge Road","Norwich Road","Ipswich Road","Bury Road","Stowmarket Road","Sudbury Road","Newmarket Road","Mildenhall Road","Thetford Road","Elmswell Road","Woolpit Road","Stowupland Road","Rougham Road","Thurston Road"],elmswell:["High Street","Station Road","Church Street","School Lane","The Street","Back Lane","Mill Lane","Church Lane","Station Lane","School Road","Village Street","Elmswell Road","Elmswell Lane","The Green","Main Street","Mill Street","Station Street","Church Road","School Street","Village Road"],bury:["High Street","Market Street","Church Street","Station Road","Bridge Street","Mill Lane","The Green","London Road","Cambridge Road","Norwich Road","Ipswich Road","Victoria Road","Queen Street","Park Avenue","School Lane","Angel Hill","Butter Market","Guildhall Street","St Johns Street","Westgate Street","Abbeygate Street","Crown Street","St Andrews Street","Northgate Street","Eastgate Street"],london:["Oxford Street","Regent Street","Piccadilly","Bond Street","Carnaby Street","Baker Street","Portland Place","Marylebone High Street","Edgware Road","Park Lane","Hyde Park Corner","Knightsbridge","Sloane Street","King's Road","Fulham Road","Kensington High Street","Holland Park Avenue","Notting Hill Gate","Portobello Road","Ladbroke Grove","Westbourne Grove","Bayswater Road","Queensway","Paddington Street","Wigmore Street"],manchester:["Market Street","Deansgate","King Street","Cross Street","St Ann's Square","Piccadilly","Oxford Road","Wilmslow Road","Rusholme","Fallowfield","Withington","Didsbury","Chorlton","Sale","Altrincham","Stockport Road","Chester Road","Bury New Road","Oldham Road","Rochdale Road","Bolton Road","Prestwich","Whitefield","Radcliffe","Bury"],birmingham:["New Street","High Street","Corporation Street","Colmore Row","Victoria Square","Broad Street","Hagley Road","Bristol Road","Pershore Road","Alcester Road","Stratford Road","Coventry Road","Warwick Road","Solihull Road","Sutton Coldfield","Erdington","Kingstanding","Great Barr","Perry Barr","Handsworth"]};v.includes("elmswell")||_.includes("ip30")?(u=D.elmswell,console.log("Using Elmswell-specific streets")):v.includes("bury")||v.includes("st edmunds")?(u=D.bury,console.log("Using Bury St Edmunds streets")):v.includes("london")||_.includes("sw")||_.includes("nw")||_.includes("se")||_.includes("e")||_.includes("w")?(u=D.london,console.log("Using London streets")):v.includes("manchester")||_.includes("m")?(u=D.manchester,console.log("Using Manchester streets")):v.includes("birmingham")||_.includes("b")?(u=D.birmingham,console.log("Using Birmingham streets")):v.includes("suffolk")||_.includes("ip")?(u=D.suffolk,console.log("Using Suffolk streets")):(u=["High Street","Main Street","Church Street","Station Road","London Road","Victoria Street","Queen Street","King Street","Market Street","School Lane","Park Road","Garden Street","The Green","Mill Lane","Bridge Street","New Street","Old Street","North Street","South Street","East Street","West Street","Upper Street","Lower Street","Broad Street","Narrow Street","Long Street","Short Street","Hill Street","Valley Road","Riverside","Meadow Lane","Orchard Street","Woodland Road","Forest Drive","Oak Avenue","Elm Street","Maple Drive","Cedar Lane","Pine Street","Willow Road","Rose Street","Lily Lane","Daisy Drive","Sunflower Street","Primrose Lane","Cherry Street","Apple Lane","Pear Street","Plum Road","Berry Street"],console.log("Using common UK street patterns"));const w=[...new Set(u)].slice(0,30);console.log("Final street list for",x,":",w),ce(w),xe("select")}catch(u){console.error("Error in planning street generation:",u),ce(["High Street","Main Street","Church Street","Station Road","School Lane","Park Avenue","Victoria Road","Queen Street","Market Street","Bridge Street","Mill Lane","The Green","London Road","Cambridge Road","Norwich Road","Ipswich Road"]),xe("select")}finally{me(!1)}},Xe=r=>{we(b=>b.some(u=>u===r)?b.filter(u=>u!==r):[...b,r])},Ce=()=>{const r=Ne.map((b,x)=>({id:`street-${Date.now()}-${x}`,name:b,postcode:ke,status:"not_started",properties:[{id:`property-${Date.now()}-${x}-1`,label:"1",dropped:!1,knocked:!1,spoke:!1,result:"none"}]}));i(b=>b.map(x=>x.id===c?{...x,streets:[...x.streets,...r]}:x)),ie(""),J([]),je(""),ve(""),ce([]),we([]),xe("search"),alert(`Successfully imported ${r.length} streets!`),le(!1)},Je=()=>{ie(""),J([]),je(""),ve(""),ce([]),we([]),xe("search")};return g.useEffect(()=>{const r=()=>Be(!0),b=()=>Be(!1);return window.addEventListener("online",r),window.addEventListener("offline",b),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",b)}},[]),g.useEffect(()=>()=>{re&&clearTimeout(re)},[re]),g.useEffect(()=>{document.documentElement.classList.toggle("dark",s),document.documentElement.setAttribute("data-theme",s?"dark":"light")},[s]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-950 dark:to-gray-900 text-gray-900 dark:text-gray-50 overflow-x-hidden",children:[e.jsx("div",{className:"sticky top-0 z-40 backdrop-blur bg-white/60 dark:bg-gray-950/60 border-b border-gray-200/50 dark:border-gray-800/50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-2xl bg-primary-600 flex items-center justify-center shadow text-white font-bold",children:"UW"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold leading-tight",children:"Street Smart"}),e.jsx("div",{className:"text-xs opacity-70",children:"NL Activity Tracker"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"lg:hidden flex items-center gap-1",children:!qe&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"})}),e.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[!qe&&e.jsxs(ee,{variant:"warning",className:"text-xs",children:[e.jsx(lr,{className:"w-3 h-3 mr-1"}),"Offline"]}),e.jsxs(ee,{variant:"success",className:"text-xs",children:[e.jsx(Wr,{className:"w-3 h-3 mr-1"}),"Local storage"]})]}),e.jsx("button",{onClick:Ye,className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:s?e.jsx($r,{className:"w-4 h-4 lg:w-5 lg:h-5"}):e.jsx(Hr,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),e.jsx("button",{onClick:()=>Fe(!0),className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(_e,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),e.jsx("button",{onClick:()=>m(!0),className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(Gr,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]})]})}),e.jsx("div",{className:"lg:hidden sticky top-16 z-30 bg-white/80 dark:bg-gray-950/80 backdrop-blur border-b border-gray-200/50 dark:border-gray-800/50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-2",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[e.jsx(G,{icon:e.jsx(ge,{className:"w-4 h-4 flex-shrink-0"}),label:"Dashboard",active:n==="dashboard",onClick:()=>t("dashboard")}),e.jsx(G,{icon:e.jsx(te,{className:"w-4 h-4 flex-shrink-0"}),label:"Campaigns",active:n==="campaigns",onClick:()=>t("campaigns")}),e.jsx(G,{icon:e.jsx(z,{className:"w-4 h-4 flex-shrink-0"}),label:"Streets",active:n==="streets",onClick:()=>t("streets")}),e.jsx(G,{icon:e.jsx(se,{className:"w-4 h-4 flex-shrink-0"}),label:"Reports",active:n==="reports",onClick:()=>t("reports")})]}),F&&e.jsxs("div",{className:"mt-2 text-center px-2",children:[e.jsx("div",{className:"text-xs opacity-70 mb-1",children:"Active Campaign"}),e.jsx("div",{className:"text-sm font-medium truncate bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 px-2 py-1 rounded-lg",children:F.name})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-3 lg:py-6 grid grid-cols-1 lg:grid-cols-4 gap-4 lg:gap-6",children:[e.jsxs("div",{className:"hidden lg:block lg:col-span-1 space-y-3",children:[e.jsxs($,{title:"Navigate",icon:zr,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 min-w-0",children:[e.jsx(G,{icon:e.jsx(ge,{className:"w-4 h-4 flex-shrink-0"}),label:"Dashboard",active:n==="dashboard",onClick:()=>t("dashboard")}),e.jsx(G,{icon:e.jsx(te,{className:"w-4 h-4 flex-shrink-0"}),label:"Campaigns",active:n==="campaigns",onClick:()=>t("campaigns")}),e.jsx(G,{icon:e.jsx(z,{className:"w-4 h-4 flex-shrink-0"}),label:"Streets",active:n==="streets",onClick:()=>t("streets")}),e.jsx(G,{icon:e.jsx(se,{className:"w-4 h-4 flex-shrink-0"}),label:"Reports",active:n==="reports",onClick:()=>t("reports")})]}),e.jsxs("div",{className:"mt-3 text-xs opacity-70",children:["Active: ",e.jsx("strong",{children:F==null?void 0:F.name})]})]}),e.jsxs($,{title:"Quick Drawers",icon:Kr,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 min-w-0",children:[e.jsx(G,{icon:e.jsx(K,{className:"w-4 h-4 flex-shrink-0"}),label:"Scripts",onClick:()=>p(!0)}),e.jsx(G,{icon:e.jsx(ue,{className:"w-4 h-4 flex-shrink-0"}),label:"Links",onClick:()=>A(!0)})]}),e.jsx("div",{className:"mt-3 text-xs opacity-70",children:"Open while on a property to speed up calls and messages."})]}),e.jsx($,{title:"Success Tips",icon:te,actions:e.jsxs("button",{onClick:()=>Oe(!0),className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm flex items-center gap-2 hover:bg-primary-700 transition-colors",children:[e.jsx(_e,{className:"w-4 h-4"})," View All"]}),children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-2 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"🎯 Best Time to Drop"}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"Evenings 6-8pm, weekends 10am-2pm"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"text-xs font-medium text-blue-800 dark:text-blue-200",children:"📝 Follow Up Timing"}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Return 2-3 days after dropping letters"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"text-xs font-medium text-purple-800 dark:text-purple-200",children:"💡 Conversation Starters"}),e.jsx("div",{className:"text-xs text-purple-700 dark:text-purple-300",children:`"Hi, I'm local and helping neighbours save money..."`})]})]})})]}),e.jsxs("div",{className:"col-span-1 lg:col-span-3 space-y-3 lg:space-y-4",children:[n==="dashboard"&&e.jsx(xt,{stats:Nr,activeCampaign:F,onGoStreets:()=>t("streets")}),n==="campaigns"&&e.jsx(gt,{campaigns:d,activeId:c,onSelect:r=>{j(r),t("streets")},onCreateNew:()=>ae(!0),onEdit:r=>{Ee(r),de(!0)},onDelete:Ir,onToggleComplete:r=>{i(b=>b.map(x=>{if(x.id===r){const u=x.status==="completed"?"active":"completed";if(u==="completed"){const v=x.streets.map(_=>({..._,properties:_.properties.map(D=>D.result==="none"||!D.result?{...D,result:"no_answer"}:D)}));return{...x,streets:v,status:u}}else{const v=x.streets.map(_=>({..._,properties:_.properties.map(D=>D.result==="no_answer"&&!D.spoke?{...D,result:"none"}:D)}));return{...x,streets:v,status:u}}}return x}))}}),n==="streets"&&F&&e.jsx(ut,{campaign:F,activeStreetId:L,onSelectStreet:r=>{C(r),t("streets")},onOpenProperty:(r,b)=>{C(r),T(b),t("property")},onAddStreet:()=>oe(!0),onEditStreet:r=>{Ue(r),ne(!0)},onDeleteStreet:Tr,onManageProperties:r=>{C(r.id),fe(!0)},onImportStreets:r=>{j(r),le(!0)}}),n==="property"&&Q&&Ve&&e.jsx(ht,{street:Q,property:Ve,onBack:()=>t("streets"),onUpdate:wr,onShowScripts:()=>p(!0),onShowLinks:()=>A(!0),onToggleStatus:Fr}),n==="reports"&&e.jsx(St,{campaigns:d})]})]}),e.jsx(B,{open:O,onClose:()=>p(!1),title:"Scripts & Talking Points",children:e.jsx(ft,{})}),e.jsx(B,{open:S,onClose:()=>A(!1),title:"Quick Links",children:e.jsx(kt,{links:F==null?void 0:F.links})}),e.jsx(B,{open:f,onClose:()=>m(!1),title:"Settings",size:"small",children:e.jsx(jt,{dark:s,onToggleDark:Ye,onExport:Sr,onImport:Cr,onReset:Ar})}),e.jsx(B,{open:yr,onClose:()=>Fe(!1),title:"Help & FAQ",size:"large",children:e.jsx(vt,{})}),e.jsx(B,{open:fr,onClose:()=>kr(!1),title:"About",size:"small",children:e.jsx(Nt,{})}),e.jsx(B,{open:jr,onClose:()=>Oe(!1),title:"Success Tips for NLs",size:"large",children:e.jsx(wt,{})}),e.jsx(B,{open:k,onClose:()=>M(!1),title:"Reset Data",size:"small",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:[e.jsx(dr,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-red-800 dark:text-red-200",children:"Warning"}),e.jsx("div",{className:"text-red-600 dark:text-red-400",children:"This action cannot be undone."})]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"mb-3",children:"Are you sure you want to reset all data? This will:"}),e.jsxs("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:[e.jsx("li",{children:"• Remove all campaigns and activity data"}),e.jsx("li",{children:"• Reset to empty state with one new campaign"}),e.jsx("li",{children:"• Clear all progress and follow-ups"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:_r,className:"flex-1 px-4 py-2 rounded-xl bg-red-600 text-white text-sm hover:bg-red-700 transition-colors",children:"Yes, Reset All Data"}),e.jsx("button",{onClick:()=>M(!1),className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}),e.jsx(B,{open:xr,onClose:()=>ae(!1),title:"Create New Campaign",size:"small",children:e.jsx(Ct,{onSubmit:Pr,onCancel:()=>ae(!1),addressSearchTerm:We,setAddressSearchTerm:ie,addressSuggestions:$e,selectedPostcode:ke,selectedTown:He,availableStreets:Ge,selectedStreets:Ne,isLoadingAddresses:ze,addressLookupStep:Ke,searchAddresses:Se,selectAddress:Qe,toggleStreetSelection:Xe,importSelectedStreets:Ce,resetAddressLookup:Je})}),e.jsx(B,{open:gr,onClose:()=>oe(!1),title:"Add New Street",size:"small",children:e.jsx(_t,{onSubmit:Rr,onCancel:()=>oe(!1)})}),e.jsx(B,{open:ur,onClose:()=>le(!1),title:"Import Streets",size:"small",children:e.jsx(At,{onSubmit:Ce,onCancel:()=>le(!1),addressSearchTerm:We,setAddressSearchTerm:ie,addressSuggestions:$e,setAddressSuggestions:J,selectedPostcode:ke,selectedTown:He,availableStreets:Ge,selectedStreets:Ne,isLoadingAddresses:ze,addressLookupStep:Ke,searchAddresses:Se,debouncedSearch:Or,selectAddress:Qe,toggleStreetSelection:Xe,importSelectedStreets:Ce,resetAddressLookup:Je})}),e.jsx(B,{open:pr,onClose:()=>de(!1),title:"Edit Campaign",size:"small",children:e.jsx(Pt,{campaign:Te,onSubmit:Lr,onCancel:()=>de(!1)})}),e.jsx(B,{open:hr,onClose:()=>ne(!1),title:"Edit Street",size:"small",children:e.jsx(Rt,{street:Me,onSubmit:Dr,onCancel:()=>ne(!1)})}),e.jsx(B,{open:br,onClose:()=>fe(!1),title:"Manage Properties",size:"large",children:e.jsx(Lt,{street:Q,onAddProperty:Er,onRemoveProperty:Mr,onEditProperty:Ur,onClose:()=>fe(!1)})}),e.jsx("div",{className:"lg:hidden fixed bottom-6 right-6 z-50",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>p(!0),className:"w-12 h-12 rounded-full bg-primary-600 text-white shadow-lg hover:bg-primary-700 transition-colors flex items-center justify-center",title:"Scripts",children:e.jsx(K,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>A(!0),className:"w-12 h-12 rounded-full bg-gray-600 text-white shadow-lg hover:bg-gray-700 transition-colors flex items-center justify-center",title:"Quick Links",children:e.jsx(ue,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 pb-8 text-xs opacity-70",children:"UW Street Smart - NL Activity Tracker v1.0.0 | Built for UW partners making a difference in their communities. | © 2025 Alex Cameron. All rights reserved."})]})}function G({icon:s,label:a,active:n,onClick:t}){return e.jsxs("button",{onClick:t,className:`flex flex-col items-center justify-center gap-1 px-2 py-2 rounded-xl text-xs border transition-all min-w-0 lg:flex-row lg:gap-2 lg:px-3 lg:text-sm ${n?"bg-primary-600 text-white border-primary-600 shadow-md":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{className:"flex-shrink-0",children:s}),e.jsx("span",{className:"truncate text-center leading-tight",children:a})]})}function Y({icon:s,label:a,value:n,sub:t}){return e.jsxs("div",{className:"rounded-2xl p-3 sm:p-4 bg-white/70 dark:bg-gray-900/70 border border-gray-200 dark:border-gray-800 shadow-soft flex items-center gap-2 sm:gap-3 min-w-0",children:[e.jsx("div",{className:"p-1.5 sm:p-2 rounded-xl bg-gray-100 dark:bg-gray-800 flex-shrink-0",children:e.jsx(s,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-semibold leading-none",children:n}),e.jsx("div",{className:"text-xs sm:text-sm opacity-70 truncate",children:a}),t&&e.jsx("div",{className:"text-xs opacity-60 mt-1",children:t})]})]})}function xt({stats:s,activeCampaign:a,onGoStreets:n}){const t=a&&a.streets.length>0;return e.jsxs("div",{className:"space-y-4",children:[e.jsx($,{title:"Active Campaign",icon:z,children:a?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-lg font-semibold truncate",children:a.name}),e.jsxs("div",{className:"text-sm opacity-70",children:["Area: ",a.area||"Not set"," • Streets: ",a.streets.length]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:e.jsx(ee,{variant:a.status==="active"?"success":"default",children:a.status})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:n,className:"flex-1 px-3 py-2 rounded-xl bg-primary-600 text-white text-sm flex items-center justify-center gap-2 hover:bg-primary-700 transition-colors",children:[e.jsx(z,{className:"w-4 h-4"})," Go to Streets"]}),e.jsxs("button",{className:"px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm flex items-center gap-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(pe,{className:"w-4 h-4"})," Add Street"]})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:e.jsx(te,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No active campaign"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Get started by creating your first neighbourhood campaign"}),e.jsx("button",{onClick:n,className:"px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Create First Campaign"})]})}),e.jsx($,{title:"Today's Activity",icon:Pe,actions:t?e.jsxs("button",{onClick:n,className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm flex items-center gap-2 hover:bg-primary-700 transition-colors",children:["Go to Streets ",e.jsx(H,{className:"w-4 h-4"})]}):e.jsxs("button",{onClick:n,className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm flex items-center gap-2 hover:bg-primary-700 transition-colors",children:["Create Campaign ",e.jsx(H,{className:"w-4 h-4"})]}),children:t?e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3",children:[e.jsx(Y,{icon:Ie,label:"Letters dropped today",value:s.letters}),e.jsx(Y,{icon:K,label:"Conversations today",value:s.convos}),e.jsx(Y,{icon:nr,label:"Successes today",value:s.interested}),e.jsx(Y,{icon:he,label:"Follow‑ups scheduled today",value:s.followups})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-3",children:e.jsx(Pe,{className:"w-6 h-6 text-gray-400"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No activity recorded today"})]})}),t&&s.outcomes&&e.jsx($,{title:"Conversation Outcomes",icon:K,children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3",children:[e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border-2 border-green-500 dark:border-green-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-green-800 dark:text-green-200",children:s.outcomes.customer_signed}),e.jsx("div",{className:"text-xs sm:text-sm text-green-700 dark:text-green-300",children:"Customers Signed"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border-2 border-emerald-500 dark:border-emerald-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-emerald-800 dark:text-emerald-200",children:s.outcomes.appointment_booked}),e.jsx("div",{className:"text-xs sm:text-sm text-emerald-700 dark:text-emerald-300",children:"Appointment Booked"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-500 dark:border-amber-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-amber-800 dark:text-amber-200",children:s.outcomes.no_for_now}),e.jsx("div",{className:"text-xs sm:text-sm text-amber-700 dark:text-amber-300",children:"No for Now"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-sky-50 dark:bg-sky-900/20 border-2 border-sky-500 dark:border-sky-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-sky-800 dark:text-sky-200",children:s.outcomes.already_uw}),e.jsx("div",{className:"text-xs sm:text-sm text-sky-700 dark:text-sky-300",children:"Already with UW"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border-2 border-red-500 dark:border-red-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-red-800 dark:text-red-200",children:s.outcomes.not_interested}),e.jsx("div",{className:"text-xs sm:text-sm text-red-700 dark:text-red-300",children:"Not Interested"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-slate-50 dark:bg-slate-900/20 border-2 border-slate-500 dark:border-slate-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-200",children:s.outcomes.no_answer||0}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-700 dark:text-slate-300",children:"No Answer"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-purple-50 dark:bg-purple-900/20 border-2 border-purple-500 dark:border-purple-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-purple-800 dark:text-purple-200",children:s.outcomes.no_cold_callers||0}),e.jsx("div",{className:"text-xs sm:text-sm text-purple-700 dark:text-purple-300",children:"No Cold Callers"})]})]})})]})}function gt({campaigns:s,activeId:a,onSelect:n,onCreateNew:t,onEdit:d,onDelete:i,onToggleComplete:c}){const[j,L]=g.useState(""),[C,E]=g.useState("all"),[T,O]=g.useState("name"),[p,S]=g.useState(!1),A=g.useMemo(()=>{let f=s.filter(m=>{const l=m.name.toLowerCase().includes(j.toLowerCase())||m.area.toLowerCase().includes(j.toLowerCase()),o=C==="all"||m.status===C;return l&&o});return f.sort((m,l)=>{switch(T){case"name":return m.name.localeCompare(l.name);case"date":return new Date(l.created_at)-new Date(m.created_at);case"streets":return l.streets.length-m.streets.length;case"status":return m.status.localeCompare(l.status);default:return 0}}),f},[s,j,C,T]);return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"rounded-2xl shadow-soft p-4 bg-white/70 dark:bg-gray-900/70 backdrop-blur border border-gray-200/50 dark:border-gray-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 dark:bg-primary-900/20 rounded-lg flex items-center justify-center",children:e.jsx(pe,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Create New Campaign"})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Create a new neighbourhood letters campaign to start tracking activity."}),e.jsxs("button",{onClick:t,className:"w-full px-4 py-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[e.jsx(pe,{className:"w-4 h-4"}),"Create New Campaign"]})]}),e.jsx($,{title:"Search & Filter",icon:Z,actions:e.jsxs("button",{onClick:()=>S(!p),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[p?e.jsx(H,{className:"w-4 h-4"}):e.jsx(Z,{className:"w-4 h-4"}),p?"Hide":"Show"," Filters"]}),children:p&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Search campaigns"}),e.jsx("input",{type:"text",value:j,onChange:f=>L(f.target.value),placeholder:"Search by name or area...",className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Status"}),e.jsxs("select",{value:C,onChange:f=>E(f.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"planned",children:"Planned"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Sort by"}),e.jsxs("select",{value:T,onChange:f=>O(f.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"date",children:"Date Created"}),e.jsx("option",{value:"streets",children:"Number of Streets"}),e.jsx("option",{value:"status",children:"Status"})]})]})]}),e.jsxs("div",{className:"text-xs opacity-70",children:["Showing ",A.length," of ",s.length," campaigns"]})]})}),A.map(f=>e.jsx($,{title:f.name,icon:z,actions:e.jsxs("div",{className:"flex flex-wrap gap-2 min-w-0",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors flex-shrink-0",onClick:()=>n(f.id),children:"Open"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex-shrink-0",onClick:()=>d(f),children:"Edit"}),e.jsx("button",{className:`px-3 py-1.5 rounded-xl text-sm transition-colors border flex-shrink-0 ${f.status==="completed"?"bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 hover:bg-orange-200 dark:hover:bg-orange-900/30 border-orange-200 dark:border-orange-800":"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/30 border-green-200 dark:border-green-800"}`,onClick:()=>{f.status==="completed"?confirm('Unmark this campaign as completed? This will clear "No Answer" outcomes for properties that need follow-up while preserving manually set outcomes.')&&c(f.id):confirm('Mark this campaign as completed? This will set properties without outcomes to "No Answer" while preserving existing status and outcomes.')&&c(f.id)},children:f.status==="completed"?"Mark Incomplete":"Mark Complete"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm hover:bg-red-200 dark:hover:bg-red-900/30 transition-colors border border-red-200 dark:border-red-800 flex-shrink-0",onClick:()=>i(f.id),children:"Delete"})]}),children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{children:["Area: ",e.jsx("strong",{children:f.area||"Not set"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{variant:f.status==="active"?"success":"default",children:f.status==="planned"?"Planned":f.status}),e.jsxs("div",{className:"text-xs opacity-70",children:[f.streets.length," streets • Created ",f.created_at]})]})]})},f.id))]})}function ut({campaign:s,activeStreetId:a,onSelectStreet:n,onOpenProperty:t,onAddStreet:d,onEditStreet:i,onDeleteStreet:c,onManageProperties:j,onImportStreets:L}){const[C,E]=g.useState(""),[T,O]=g.useState("all"),[p,S]=g.useState("name"),[A,f]=g.useState(!1),m=g.useMemo(()=>{let l=s.streets.filter(o=>{const k=o.name.toLowerCase().includes(C.toLowerCase())||o.postcode.toLowerCase().includes(C.toLowerCase()),M=T==="all"||o.status===T;return k&&M});return l.sort((o,k)=>{switch(p){case"name":return o.name.localeCompare(k.name);case"properties":return k.properties.length-o.properties.length;case"status":return o.status.localeCompare(k.status);case"postcode":return o.postcode.localeCompare(k.postcode);default:return 0}}),l},[s.streets,C,T,p]);return e.jsx("div",{className:"space-y-4",children:e.jsxs($,{title:`Streets in ${s.name}`,icon:z,actions:e.jsxs("div",{className:"flex flex-wrap gap-2 min-w-0",children:[e.jsxs("button",{onClick:d,className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors flex-shrink-0",children:[e.jsx(pe,{className:"w-4 h-4"})," Add street"]}),e.jsxs("button",{onClick:()=>L(s.id),className:"px-3 py-1.5 rounded-xl bg-green-600 text-white text-sm hover:bg-green-700 transition-colors flex-shrink-0",children:[e.jsx(z,{className:"w-4 h-4"})," Import Streets"]})]}),children:[e.jsx($,{title:"Search & Filter",icon:Z,actions:e.jsxs("button",{onClick:()=>f(!A),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[A?e.jsx(H,{className:"w-4 h-4"}):e.jsx(Z,{className:"w-4 h-4"}),A?"Hide":"Show"," Filters"]}),children:A&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Search streets"}),e.jsx("input",{type:"text",value:C,onChange:l=>E(l.target.value),placeholder:"Search by street name or postcode...",className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Status"}),e.jsxs("select",{value:T,onChange:l=>O(l.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"not_started",children:"Not Started"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Sort by"}),e.jsxs("select",{value:p,onChange:l=>S(l.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"name",children:"Street Name"}),e.jsx("option",{value:"properties",children:"Number of Properties"}),e.jsx("option",{value:"status",children:"Status"}),e.jsx("option",{value:"postcode",children:"Postcode"})]})]})]}),e.jsxs("div",{className:"text-xs opacity-70",children:["Showing ",m.length," of ",s.streets.length," streets"]})]})}),m.length>0?e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:m.map(l=>e.jsxs("div",{className:`rounded-2xl border p-4 bg-white/70 dark:bg-gray-900/70 transition-all ${l.id===a?"border-primary-400 shadow-md":"border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-medium",children:[l.name," ",e.jsxs("span",{className:"opacity-60 text-sm",children:["• ",l.postcode]})]}),e.jsx(ee,{variant:l.status==="completed"?"success":l.status==="in_progress"?"warning":"default",children:l.status.replace("_"," ")})]}),e.jsxs("div",{className:"text-xs opacity-70 mb-3",children:[l.properties.length," properties"]}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"flex flex-wrap gap-1 max-h-20 overflow-y-auto",children:l.properties.map(o=>{let k="border border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600";return o.result==="customer_signed"?k="border-2 border-green-500 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200":o.result==="appointment_booked"?k="border-2 border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-800 dark:text-emerald-200":o.result==="no_for_now"?k="border-2 border-amber-500 bg-amber-50 dark:bg-amber-900/20 text-amber-800 dark:text-amber-200":o.result==="already_uw"?k="border-2 border-sky-500 bg-sky-50 dark:bg-sky-900/20 text-sky-800 dark:text-sky-200":o.result==="not_interested"?k="border-2 border-red-500 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200":o.result==="no_answer"?k="border-2 border-slate-500 bg-slate-50 dark:bg-slate-900/20 text-slate-800 dark:text-slate-200":o.result==="no_cold_callers"?k="border-2 border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-800 dark:text-purple-200":o.spoke?k="border border-teal-300 bg-teal-50/50 dark:bg-teal-900/10 text-teal-600 dark:text-teal-400":o.knocked?k="border border-indigo-300 bg-indigo-50/50 dark:bg-indigo-900/10 text-indigo-600 dark:text-indigo-400":o.dropped&&(k="border border-orange-300 bg-orange-50/50 dark:bg-orange-900/10 text-orange-600 dark:text-orange-400"),e.jsx("button",{onClick:()=>t(l.id,o.id),className:`px-2 py-1 rounded-lg text-xs transition-colors flex-shrink-0 ${k}`,title:o.result&&o.result!=="none"?`Outcome: ${o.result.replace("_"," ")}`:o.spoke?"Spoke - No outcome set":o.knocked?"Knocked - No outcome set":o.dropped?"Dropped - No outcome set":"No activity recorded",children:o.label},o.id)})})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 min-w-0",children:[e.jsx("button",{onClick:()=>j(l),className:"px-3 py-1.5 rounded-xl bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors border border-blue-200 dark:border-blue-800 flex-shrink-0",children:"Properties"}),e.jsx("button",{onClick:()=>i(l),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex-shrink-0",children:"Edit"}),e.jsx("button",{onClick:()=>c(l.id),className:"px-3 py-1.5 rounded-xl bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm hover:bg-red-200 dark:hover:bg-red-900/30 transition-colors border border-red-200 dark:border-red-800 flex-shrink-0",children:"Delete"})]})]},l.id))}):C||T!=="all"?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:e.jsx(Z,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No streets found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Try adjusting your search or filter criteria"}),e.jsx("button",{onClick:()=>{E(""),O("all")},className:"px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Clear Filters"})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:e.jsx(z,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No streets yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Add your first street to start tracking neighbourhood letters"}),e.jsx("button",{onClick:d,className:"px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Add First Street"})]})]})})}function pt({label:s,value:a,onChange:n}){return e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("div",{className:"text-sm",children:s}),e.jsx("button",{onClick:()=>n(!a),className:`w-11 h-6 rounded-full p-1 transition-colors ${a?"bg-primary-600":"bg-gray-300 dark:bg-gray-700"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-transform ${a?"translate-x-5":""}`})})]})}function ht({street:s,property:a,onBack:n,onUpdate:t,onShowScripts:d,onShowLinks:i,onToggleStatus:c}){const[j,L]=g.useState(!1),[C,E]=g.useState(!1),[T,O]=g.useState("");return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:n,className:"text-sm opacity-70 hover:opacity-100 transition-opacity flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4 rotate-180"})," Back to streets"]}),e.jsxs($,{title:`${a.label} · ${s.name}`,icon:Pe,actions:e.jsx(ee,{variant:"default",className:"text-xs",children:s.postcode}),children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[e.jsx(Ae,{active:a.dropped,icon:Ie,label:"Dropped",onClick:()=>c(a.id,"dropped")}),e.jsx(Ae,{active:a.knocked,icon:be,label:"Knocked",onClick:()=>c(a.id,"knocked")}),e.jsx(Ae,{active:a.spoke,icon:K,label:"Spoke",onClick:()=>c(a.id,"spoke")})]}),e.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>L(!0),className:"w-full px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center gap-2 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(he,{className:"w-4 h-4"})," Schedule follow‑up"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:d,className:"flex-1 px-3 py-2 rounded-xl bg-primary-600 text-white text-sm flex items-center justify-center gap-2 hover:bg-primary-700 transition-colors",children:[e.jsx(K,{className:"w-4 h-4"})," Scripts"]}),e.jsxs("button",{onClick:i,className:"flex-1 px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm flex items-center justify-center gap-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ue,{className:"w-4 h-4"})," Links"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs opacity-70",children:"Notes (avoid personal data)"}),e.jsx("textarea",{value:T,onChange:p=>O(p.target.value),className:"w-full mt-1 p-3 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",rows:3,placeholder:"e.g., 'best after 6pm', 'steep steps'"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs opacity-70 mb-2 block",children:"Conversation Outcome"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(X,{label:"Customers Signed",value:"customer_signed",current:a.result,onClick:()=>t({result:"customer_signed"}),variant:"success"}),e.jsx(X,{label:"Appointment Booked",value:"appointment_booked",current:a.result,onClick:()=>t({result:"appointment_booked"}),variant:"success"}),e.jsx(X,{label:"No for Now",value:"no_for_now",current:a.result,onClick:()=>t({result:"no_for_now"}),variant:"warning"}),e.jsx(X,{label:"Already with UW",value:"already_uw",current:a.result,onClick:()=>t({result:"already_uw"}),variant:"info"}),e.jsx(X,{label:"Not Interested",value:"not_interested",current:a.result,onClick:()=>t({result:"not_interested"}),variant:"error"}),e.jsx(X,{label:"No Answer",value:"no_answer",current:a.result,onClick:()=>t({result:"no_answer"}),variant:"default"}),e.jsx(X,{label:"No Cold Callers",value:"no_cold_callers",current:a.result,onClick:()=>t({result:"no_cold_callers"}),variant:"purple"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("button",{onClick:()=>E(!0),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4"}),a.photo?"Change photo":"Attach photo"]}),e.jsx("button",{onClick:()=>t({result:"none"}),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Clear outcome"})]}),a.photo&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.photo,alt:"Property photo",className:"w-full h-32 object-cover rounded-xl border border-gray-200 dark:border-gray-800"}),e.jsx("button",{onClick:()=>t({photo:null}),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:e.jsx(Le,{className:"w-3 h-3"})})]})})]})]}),e.jsx(bt,{open:j,onClose:()=>L(!1),onSave:p=>{t({followUpAt:p}),L(!1)}}),e.jsx(yt,{open:C,onClose:()=>E(!1),onSave:p=>{t({photo:p}),E(!1)}})]})}function Ae({icon:s,label:a,active:n,onClick:t}){return e.jsxs("button",{onClick:t,className:`px-3 py-3 rounded-2xl border shadow-sm flex items-center justify-center gap-2 text-sm transition-all ${n?"bg-secondary-50 dark:bg-secondary-900/20 border-secondary-400 text-secondary-700 dark:text-secondary-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700"}`,children:[e.jsx(s,{className:"w-4 h-4"})," ",a]})}function X({label:s,value:a,current:n,onClick:t,variant:d="default"}){const i=n===a,c={success:i?"bg-green-50 dark:bg-green-900/20 border-green-400 text-green-700 dark:text-green-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-green-300 dark:hover:border-green-700",warning:i?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-400 text-yellow-700 dark:text-yellow-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-yellow-300 dark:hover:border-yellow-700",error:i?"bg-red-50 dark:bg-red-900/20 border-red-400 text-red-700 dark:text-red-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-red-300 dark:hover:border-red-700",info:i?"bg-blue-50 dark:bg-blue-900/20 border-blue-400 text-blue-700 dark:text-blue-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-blue-300 dark:hover:border-blue-700",purple:i?"bg-purple-50 dark:bg-purple-900/20 border-purple-400 text-purple-700 dark:text-purple-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-purple-300 dark:hover:border-purple-700",default:i?"bg-gray-50 dark:bg-gray-800/60 border-gray-400 text-gray-700 dark:text-gray-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700"};return e.jsx("button",{onClick:t,className:`px-3 py-2 rounded-xl border text-sm transition-all ${c[d]}`,children:s})}function bt({open:s,onClose:a,onSave:n}){const[t,d]=g.useState(""),[i,c]=g.useState("");return e.jsx(B,{open:s,onClose:a,title:"Schedule follow‑up",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:t,onChange:j=>d(j.target.value),className:"w-full mt-1 p-2 pr-10 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",style:{colorScheme:"light dark"}}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none dark:bg-white dark:rounded-sm dark:p-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-900",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Time"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"time",value:i,onChange:j=>c(j.target.value),className:"w-full mt-1 p-2 pr-10 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",style:{colorScheme:"light dark"}}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none dark:bg-white dark:rounded-sm dark:p-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-900",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]})]})]}),e.jsx("button",{onClick:()=>n(`${t}T${i}:00`),className:"w-full px-3 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Save reminder"})]})})}function yt({open:s,onClose:a,onSave:n}){const[t,d]=g.useState(null),[i,c]=g.useState(!1),j=g.useRef(null),L=p=>{const S=p.target.files[0];if(S&&S.type.startsWith("image/")){const A=new FileReader;A.onload=f=>{d(f.target.result)},A.readAsDataURL(S)}},C=async()=>{try{c(!0);const p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}}),S=document.createElement("video");S.srcObject=p,S.autoplay=!0,S.style.width="100%",S.style.height="300px",S.style.objectFit="cover";const A=document.getElementById("camera-container");A&&(A.innerHTML="",A.appendChild(S))}catch(p){console.error("Error accessing camera:",p),alert("Unable to access camera. Please use the gallery option instead."),c(!1)}},E=()=>{const p=document.querySelector("#camera-container video");if(p){const S=document.createElement("canvas");S.width=p.videoWidth,S.height=p.videoHeight,S.getContext("2d").drawImage(p,0,0);const f=S.toDataURL("image/jpeg",.8);d(f);const m=p.srcObject;m&&m.getTracks().forEach(l=>l.stop()),c(!1)}},T=()=>{t&&(n(t),d(null))},O=()=>{d(null),c(!1);const p=document.querySelector("#camera-container video");p&&p.srcObject&&p.srcObject.getTracks().forEach(S=>S.stop()),a()};return e.jsx(B,{open:s,onClose:O,title:"Add Property Photo",children:e.jsxs("div",{className:"space-y-4",children:[!t&&!i&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Take a photo or select from your gallery to document this property."}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:C,className:"px-4 py-3 rounded-xl bg-primary-600 text-white text-sm flex items-center justify-center gap-2 hover:bg-primary-700 transition-colors",children:[e.jsx(Yr,{className:"w-4 h-4"}),"Take Photo"]}),e.jsxs("button",{onClick:()=>{var p;return(p=j.current)==null?void 0:p.click()},className:"px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm flex items-center justify-center gap-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(De,{className:"w-4 h-4"}),"From Gallery"]})]}),e.jsx("input",{ref:j,type:"file",accept:"image/*",capture:"environment",onChange:L,className:"hidden"})]}),i&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{id:"camera-container",className:"w-full h-64 bg-black rounded-xl overflow-hidden flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),e.jsx("div",{children:"Starting camera..."})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:E,className:"flex-1 px-4 py-3 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"📸 Capture Photo"}),e.jsx("button",{onClick:()=>{c(!1);const p=document.querySelector("#camera-container video");p&&p.srcObject&&p.srcObject.getTracks().forEach(S=>S.stop())},className:"px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}),t&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Captured photo",className:"w-full h-64 object-cover rounded-xl border border-gray-200 dark:border-gray-800"}),e.jsx("button",{onClick:()=>d(null),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:e.jsx(Le,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:T,className:"flex-1 px-4 py-3 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Save Photo"}),e.jsx("button",{onClick:()=>d(null),className:"px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Retake"})]})]})]})})}function ft(){const[s,a]=g.useState("opener"),n=[{key:"opener",label:"Openers"},{key:"objection",label:"Objections"},{key:"closer",label:"Closers"},{key:"sms",label:"SMS/WhatsApp"}],t=it[s];return e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:n.map(d=>e.jsx("button",{onClick:()=>a(d.key),className:`px-3 py-2 rounded-xl text-sm transition-colors ${s===d.key?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:d.label},d.key))}),e.jsx("div",{className:"space-y-3",children:t.map(d=>e.jsxs("div",{className:"p-3 rounded-2xl border bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800",children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:d.title}),e.jsx("div",{className:"text-sm opacity-90",children:d.content}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Copy"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Edit"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Save as new"})]})]},d.id))})]})}function kt({links:s}){const a=[{label:"Connector sign‑up",url:s==null?void 0:s.connector,icon:ue},{label:"Quote / eligibility form",url:s==null?void 0:s.quote,icon:se},{label:"Book a call",url:s==null?void 0:s.booking,icon:he},{label:"FAQs",url:s==null?void 0:s.faq,icon:se}];return e.jsxs("div",{className:"space-y-2",children:[a.map((n,t)=>e.jsxs("a",{href:n.url,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between p-3 rounded-2xl border bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(n.icon,{className:"w-4 h-4"})," ",n.label]}),e.jsx(H,{className:"w-4 h-4 opacity-60"})]},t)),e.jsx("div",{className:"text-xs opacity-70",children:"Tip: add UTM tags to links so scans/visits attribute to this campaign."})]})}function jt({dark:s,onToggleDark:a,onExport:n,onImport:t,onReset:d}){const[i,c]=g.useState(null),j=L=>{const C=L.target.files[0];C&&C.type==="application/json"?c(C):alert("Please select a valid JSON file.")};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Appearance"}),e.jsx(pt,{label:"Dark mode",value:s,onChange:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Data & Privacy"}),e.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(Qr,{className:"w-4 h-4"}),"Privacy settings"]}),e.jsxs("button",{onClick:n,className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(Xr,{className:"w-4 h-4"}),"Export all data"]}),e.jsxs("button",{onClick:()=>document.getElementById("import-file").click(),className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4"}),"Import data"]}),e.jsx("input",{id:"import-file",type:"file",accept:".json",onChange:j,style:{display:"none"}}),i&&e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:["Selected file: ",i.name]}),e.jsx("div",{className:"text-xs opacity-70",children:"Ready to import"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>t(i),className:"px-3 py-1 rounded-lg bg-blue-600 text-white text-xs hover:bg-blue-700 transition-colors",children:"Import"}),e.jsx("button",{onClick:()=>c(null),className:"px-3 py-1 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})}),e.jsxs("button",{onClick:d,className:"w-full text-left px-3 py-2 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors flex items-center gap-2 border border-red-200 dark:border-red-800",children:[e.jsx(Jr,{className:"w-4 h-4"}),"Reset all data"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Support"}),e.jsxs("button",{onClick:()=>setShowAbout(!0),className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(ir,{className:"w-4 h-4"}),"About"]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800",children:e.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2 text-error-600 dark:text-error-400",children:[e.jsx(Zr,{className:"w-4 h-4"}),"Sign out"]})})]})}function vt(){const[s,a]=g.useState({quickStart:!0,workflow:!1,status:!1,outcomes:!1,tips:!1,faq:!1}),n=t=>{a(d=>({...d,[t]:!d[t]}))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>n("quickStart"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Quick Start Guide"]}),e.jsx(H,{className:`w-5 h-5 transition-transform ${s.quickStart?"rotate-90":""}`})]}),s.quickStart&&e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"1. Create Your First Campaign"}),e.jsxs("div",{className:"text-blue-700 dark:text-blue-300",children:["• Go to ",e.jsx("strong",{children:"Campaigns"})," tab",e.jsx("br",{}),"• Click ",e.jsx("strong",{children:'"Create New Campaign"'}),e.jsx("br",{}),"• Enter campaign name, area, and your UW links"]})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"2. Add Streets & Properties"}),e.jsxs("div",{className:"text-green-700 dark:text-green-300",children:["• Go to ",e.jsx("strong",{children:"Streets"})," tab",e.jsx("br",{}),"• Click ",e.jsx("strong",{children:'"Add New Street"'}),e.jsx("br",{}),"• Enter street name, postcode, and property numbers/names (comma-separated)"]})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:"3. Track Your Activity"}),e.jsxs("div",{className:"text-purple-700 dark:text-purple-300",children:["• Click on any property number to open it",e.jsx("br",{}),"• Mark as ",e.jsx("strong",{children:"Dropped"})," (letter delivered)",e.jsx("br",{}),"• Mark as ",e.jsx("strong",{children:"Knocked"})," (door knocked)",e.jsx("br",{}),"• Mark as ",e.jsx("strong",{children:"Spoke"})," (conversation had)",e.jsx("br",{}),"• Select conversation outcome"]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>n("workflow"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(ge,{className:"w-5 h-5"}),"Daily Workflow"]}),e.jsx(H,{className:`w-5 h-5 transition-transform ${s.workflow?"rotate-90":""}`})]}),s.workflow&&e.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Start Your Day"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Check the Dashboard for today's follow-ups and review yesterday's activity"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Drop Letters"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:'Go to Streets tab, select your target street, and mark properties as "Dropped"'})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Follow Up"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Return to properties where letters were dropped, knock doors, and have conversations"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Record Outcomes"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:'Mark properties as "Spoke" and select the appropriate conversation outcome'})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Schedule Follow-ups"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Set reminders for interested prospects and review your daily progress"})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>n("status"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(be,{className:"w-5 h-5"}),"Property Status Guide"]}),e.jsx(H,{className:`w-5 h-5 transition-transform ${s.status?"rotate-90":""}`})]}),s.status&&e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"p-3 border border-orange-200 dark:border-orange-800 bg-orange-50 dark:bg-orange-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-orange-800 dark:text-orange-200",children:"Dropped"}),e.jsx("div",{className:"text-orange-700 dark:text-orange-300",children:"Letter delivered through letterbox"})]}),e.jsxs("div",{className:"p-3 border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Knocked"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Door knocked, no answer or brief interaction"})]}),e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Spoke"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Full conversation had with resident"})]}),e.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Not Started"}),e.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"No activity recorded yet"})]})]})})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>n("outcomes"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),"Conversation Outcomes"]}),e.jsx(H,{className:`w-5 h-5 transition-transform ${s.outcomes?"rotate-90":""}`})]}),s.outcomes&&e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Interested"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Wants to learn more about UW"})]}),e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Customers Signed"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Successfully signed up with UW"})]}),e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Appointment Booked"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Meeting scheduled for follow-up"})]}),e.jsxs("div",{className:"p-3 border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"No for Now"}),e.jsx("div",{className:"text-yellow-700 dark:text-yellow-300",children:"Not interested at this time"})]}),e.jsxs("div",{className:"p-3 border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Already with UW"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Customer is already a UW member"})]}),e.jsxs("div",{className:"p-3 border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-red-800 dark:text-red-200",children:"Not Interested"}),e.jsx("div",{className:"text-red-700 dark:text-red-300",children:"Definitely not interested"})]}),e.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Unreachable"}),e.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"Unable to contact after multiple attempts"})]})]})})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>n("tips"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(ir,{className:"w-5 h-5"}),"Tips & Best Practices"]}),e.jsx(H,{className:`w-5 h-5 transition-transform ${s.tips?"rotate-90":""}`})]}),s.tips&&e.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[e.jsx("div",{className:"font-medium text-amber-800 dark:text-amber-200 mb-1",children:"📱 Use Scripts & Links"}),e.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Open the Scripts and Links drawers while on a property for quick access to talking points and UW resources."})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"📊 Daily Tracking"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"The Dashboard shows only today's activity. Use Reports for overall campaign progress and historical data."})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-1",children:"🏠 Property Names"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:'You can use house names (e.g., "Birch Tree House") in addition to numbers. Separate multiple properties with commas.'})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-1",children:"🔄 Status Updates"}),e.jsx("div",{className:"text-purple-700 dark:text-purple-300",children:"You can toggle statuses on/off if you make a mistake. Click the same button again to remove a status."})]}),e.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-200 dark:border-indigo-800",children:[e.jsx("div",{className:"font-medium text-indigo-800 dark:text-indigo-200 mb-1",children:"💾 Data Backup"}),e.jsx("div",{className:"text-indigo-700 dark:text-indigo-300",children:"Regularly export your data from Settings to keep a backup of your campaigns and progress."})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>n("faq"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(_e,{className:"w-5 h-5"}),"Frequently Asked Questions"]}),e.jsx(H,{className:`w-5 h-5 transition-transform ${s.faq?"rotate-90":""}`})]}),s.faq&&e.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"How do I add a new street to an existing campaign?"}),e.jsx("div",{className:"p-3",children:'Go to the Streets tab and click "Add New Street". Enter the street name, postcode, and property numbers separated by commas.'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"Can I edit property numbers after creating a street?"}),e.jsx("div",{className:"p-3",children:'Yes! Click the "Properties" button on any street card to open the Property Manager where you can add, remove, or edit individual properties.'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"What's the difference between Dashboard and Reports?"}),e.jsx("div",{className:"p-3",children:"Dashboard shows today's activity only, perfect for daily tracking. Reports shows all-time data and campaign overviews."})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"How do I search and filter campaigns/streets?"}),e.jsx("div",{className:"p-3",children:'Use the "Search & Filter" section in Campaigns and Streets tabs. You can search by name, filter by status, and sort by different criteria.'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"Can I use this app offline?"}),e.jsx("div",{className:"p-3",children:"Yes! This is a Progressive Web App (PWA) that works offline. Your data is stored locally on your device."})]})]})]})]})}function Nt(){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-purple-600 flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"UW"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"UW Street Smart"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Neighbourhood Letters Activity Tracker"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Version"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"1.0.0"})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-1",children:"Built For"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"UW Partners making a difference in their communities"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-1",children:"Features"}),e.jsxs("div",{className:"text-purple-700 dark:text-purple-300 space-y-1",children:[e.jsx("div",{children:"• Campaign & street management"}),e.jsx("div",{children:"• Property activity tracking"}),e.jsx("div",{children:"• Conversation outcomes"}),e.jsx("div",{children:"• Offline-first PWA"}),e.jsx("div",{children:"• Daily progress dashboard"}),e.jsx("div",{children:"• Data export/import"})]})]}),e.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[e.jsx("div",{className:"font-medium text-amber-800 dark:text-amber-200 mb-1",children:"Privacy"}),e.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Your data is stored locally on your device. No personal information is sent to external servers."})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400 pt-4 border-t border-gray-200 dark:border-gray-800",children:["Built with React, Vite, and Tailwind CSS",e.jsx("br",{}),"Progressive Web App technology"]})]})]})}function wt(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(lr,{className:"w-5 h-5"}),"Timing & Strategy"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"🎯 Best Drop Times"}),e.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Evenings:"})," 6-8pm (people home from work)"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Weekends:"})," 10am-2pm (avoid meal times)"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Avoid:"})," Monday mornings, Friday evenings"]})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"📝 Follow Up Timing"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Return:"})," 2-3 days after dropping letters"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Best times:"})," Same as drop times"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Multiple attempts:"}),' Try 3-4 times before marking as "No Answer"']})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),"Conversation Techniques"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:"💡 Opening Lines"}),e.jsxs("div",{className:"text-sm text-purple-700 dark:text-purple-300 space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Standard:"}),` "Hi! I'm [Name] and I'm local. I've been helping neighbours in this area save money on their household bills. I dropped a letter through earlier - have you had a chance to look at it?"`]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Direct:"}),` "Hi! I'm helping families in [Area] save money on their bills. I left a letter earlier - would you like me to check if you could save money too?"`]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Community:"}),` "Hi! I'm from UW and I've been working with families in this neighbourhood to reduce their bills. Have you seen the letter I dropped through?"`]})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[e.jsx("div",{className:"font-medium text-amber-800 dark:text-amber-200 mb-2",children:"🎭 Handling Objections"}),e.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-300 space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:'"Not interested":'}),' "Totally fine! If things change, the letter has a QR code for a quick checker. No sales calls, just the numbers. Have a great day!"']}),e.jsxs("div",{children:[e.jsx("strong",{children:'"Already with UW":'}),` "That's great! You might be eligible for additional savings or better bundles. Would you like me to check your current setup?"`]}),e.jsxs("div",{children:[e.jsx("strong",{children:'"Too busy":'}),` "I understand! It literally takes 2 minutes to check. If you're not saving money, you're not interested. If you are, we can book a proper time."`]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(ge,{className:"w-5 h-5"}),"Success Metrics & Goals"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-200 dark:border-indigo-800",children:[e.jsx("div",{className:"font-medium text-indigo-800 dark:text-indigo-200 mb-2",children:"📊 Realistic Targets"}),e.jsxs("div",{className:"text-sm text-indigo-700 dark:text-indigo-300 space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Drop rate:"})," 50-100 letters per session"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Conversation rate:"})," 15-25% of drops"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Interest rate:"})," 5-10% of conversations"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Success rate:"})," 2-5% of conversations"]})]})]}),e.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-xl border border-emerald-200 dark:border-emerald-800",children:[e.jsx("div",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-2",children:"🎯 Daily Goals"}),e.jsxs("div",{className:"text-sm text-emerald-700 dark:text-emerald-300 space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Drop:"})," 50+ letters"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Follow up:"})," 20+ properties"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Conversations:"})," 5+ meaningful chats"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Interested leads:"})," 1+ per day"]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(be,{className:"w-5 h-5"}),"Best Practices"]}),e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl border border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Dress appropriately:"})," Smart casual, UW branded if possible"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Be confident:"})," You're offering genuine value, not selling"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Listen actively:"})," Understand their situation before suggesting solutions"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Follow up promptly:"})," Use the app to track and schedule follow-ups"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Stay positive:"}),' Every "no" gets you closer to a "yes"']}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Use the app:"})," Track everything to improve your approach"]})]})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(dr,{className:"w-5 h-5"}),"Common Mistakes to Avoid"]}),e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Rushing conversations:"})," Take time to build rapport"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Not following up:"})," Most success comes from follow-up visits"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Poor timing:"})," Avoid meal times and early mornings"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Being pushy:"}),' Respect "no" and move on gracefully']}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Not tracking activity:"})," Use the app to learn what works"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Giving up too early:"}),' Try multiple times before marking as "No Answer"']})]})})})]})]})}function St({campaigns:s}){const[a,n]=g.useState(""),[t,d]=g.useState("all"),[i,c]=g.useState("date"),[j,L]=g.useState("desc"),[C,E]=g.useState(!1),T=[];s.forEach(m=>m.streets.forEach(l=>l.properties.forEach(o=>{let k=null,M="";o.spokeAt?(k=o.spokeAt,M="spoke"):o.knockedAt?(k=o.knockedAt,M="knocked"):o.droppedAt?(k=o.droppedAt,M="dropped"):o.resultAt&&(k=o.resultAt,M="result"),T.push({campaign:m.name,street:l.name,property:o.label,dropped:o.dropped,knocked:o.knocked,spoke:o.spoke,result:o.result||"none",followUpAt:o.followUpAt||"",droppedAt:o.droppedAt||"",knockedAt:o.knockedAt||"",spokeAt:o.spokeAt||"",resultAt:o.resultAt||"",latestActivity:k,latestActivityType:M})})));const O=g.useMemo(()=>{let m=T.filter(l=>{const o=l.campaign.toLowerCase().includes(a.toLowerCase())||l.street.toLowerCase().includes(a.toLowerCase())||l.property.toLowerCase().includes(a.toLowerCase()),k=t==="all"||t==="dropped"&&l.dropped||t==="knocked"&&l.knocked||t==="spoke"&&l.spoke||t==="followup"&&l.followUpAt||t==="interested"&&(l.result==="interested"||l.result==="customer_signed"||l.result==="appointment_booked");return o&&k});return m.sort((l,o)=>{let k,M;switch(i){case"date":k=l.latestActivity||"",M=o.latestActivity||"";break;case"campaign":k=l.campaign,M=o.campaign;break;case"street":k=l.street,M=o.street;break;case"property":k=parseInt(l.property)||l.property,M=parseInt(o.property)||o.property;break;case"dropped":k=l.dropped?1:0,M=o.dropped?1:0;break;case"knocked":k=l.knocked?1:0,M=o.knocked?1:0;break;case"spoke":k=l.spoke?1:0,M=o.spoke?1:0;break;case"result":k=l.result,M=o.result;break;case"followup":k=l.followUpAt||"",M=o.followUpAt||"";break;default:k=l.latestActivity||"",M=o.latestActivity||""}return k<M?j==="asc"?-1:1:k>M?j==="asc"?1:-1:0}),m},[T,a,t,i,j]),p=m=>{i===m?L(j==="asc"?"desc":"asc"):(c(m),L("asc"))},S=({column:m})=>i!==m?e.jsx(ar,{className:"w-3 h-3 opacity-30"}):j==="asc"?e.jsx(ar,{className:"w-3 h-3"}):e.jsx(tt,{className:"w-3 h-3"}),A=m=>{const l="flex items-center gap-1 transition-all";return i===m?`${l} bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 px-2 py-1 rounded-lg`:`${l} hover:opacity-100 hover:bg-gray-50 dark:hover:bg-gray-900/20 px-2 py-1 rounded-lg`},f=g.useMemo(()=>{const m={letters:0,knocked:0,spoke:0,interested:0,followups:0,outcomes:{interested:0,customer_signed:0,appointment_booked:0,no_for_now:0,already_uw:0,not_interested:0}};return T.forEach(l=>{l.dropped&&m.letters++,l.knocked&&m.knocked++,l.spoke&&m.spoke++,(l.result==="interested"||l.result==="customer_signed"||l.result==="appointment_booked")&&m.interested++,l.followUpAt&&m.followups++,l.result&&l.result!=="none"&&(m.outcomes[l.result]=(m.outcomes[l.result]||0)+1)}),m},[s]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx($,{title:"Overview",icon:se,children:e.jsxs("div",{className:"grid md:grid-cols-5 gap-3",children:[e.jsx(Y,{icon:Ie,label:"Letters",value:f.letters}),e.jsx(Y,{icon:be,label:"Knocked",value:f.knocked}),e.jsx(Y,{icon:K,label:"Spoke",value:f.spoke}),e.jsx(Y,{icon:nr,label:"Interested",value:f.interested}),e.jsx(Y,{icon:he,label:"Follow‑ups",value:f.followups})]})}),e.jsx($,{title:"Conversation Outcomes",icon:K,children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border-2 border-green-500 dark:border-green-500",children:[e.jsx("div",{className:"text-lg font-semibold text-green-800 dark:text-green-200",children:f.outcomes.customer_signed}),e.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Customers Signed"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border-2 border-emerald-500 dark:border-emerald-500",children:[e.jsx("div",{className:"text-lg font-semibold text-emerald-800 dark:text-emerald-200",children:f.outcomes.appointment_booked}),e.jsx("div",{className:"text-sm text-emerald-700 dark:text-emerald-300",children:"Appointment Booked"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-500 dark:border-amber-500",children:[e.jsx("div",{className:"text-lg font-semibold text-amber-800 dark:text-amber-200",children:f.outcomes.no_for_now}),e.jsx("div",{className:"text-sm text-amber-700 dark:text-amber-300",children:"No for Now"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-sky-50 dark:bg-sky-900/20 border-2 border-sky-500 dark:border-sky-500",children:[e.jsx("div",{className:"text-lg font-semibold text-sky-800 dark:text-sky-200",children:f.outcomes.already_uw}),e.jsx("div",{className:"text-sm text-sky-700 dark:text-sky-300",children:"Already with UW"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border-2 border-red-500 dark:border-red-500",children:[e.jsx("div",{className:"text-lg font-semibold text-red-800 dark:text-red-200",children:f.outcomes.not_interested}),e.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:"Not Interested"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-slate-50 dark:bg-slate-900/20 border-2 border-slate-500 dark:border-slate-500",children:[e.jsx("div",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:f.outcomes.no_answer||0}),e.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:"No Answer"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-purple-50 dark:bg-purple-900/20 border-2 border-purple-500 dark:border-purple-500",children:[e.jsx("div",{className:"text-lg font-semibold text-purple-800 dark:text-purple-200",children:f.outcomes.no_cold_callers||0}),e.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:"No Cold Callers"})]})]})}),e.jsxs($,{title:"Activity log",icon:et,children:[e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:a,onChange:m=>n(m.target.value),placeholder:"Search campaigns, streets, properties...",className:"w-full pl-10 pr-3 py-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors"})]}),e.jsx("button",{onClick:()=>E(!C),className:`p-2 rounded-xl border transition-colors ${C?"bg-primary-100 dark:bg-primary-900/20 border-primary-200 dark:border-primary-800 text-primary-600 dark:text-primary-400":"bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:"Toggle filters",children:e.jsx(rt,{className:"w-4 h-4"})})]}),C&&e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl border border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-xs font-medium opacity-70",children:"Filter by:"}),e.jsxs("select",{value:t,onChange:m=>d(m.target.value),className:"px-3 py-1.5 rounded-lg bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-xs focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All activities"}),e.jsx("option",{value:"dropped",children:"Letters dropped"}),e.jsx("option",{value:"knocked",children:"Doors knocked"}),e.jsx("option",{value:"spoke",children:"Conversations had"}),e.jsx("option",{value:"followup",children:"Follow-ups scheduled"}),e.jsx("option",{value:"interested",children:"Interested prospects"})]})]})}),e.jsxs("div",{className:"text-xs opacity-70",children:["Showing ",O.length," of ",T.length," activities",e.jsx("span",{className:"hidden sm:inline",children:" • Scroll horizontally to see all columns"}),e.jsxs("span",{className:"hidden sm:inline",children:[" • ",e.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:"D"}),"=Letters dropped, ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"K"}),"=Doors knocked, ",e.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"S"}),"=Conversations had"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"mb-2 flex justify-end xl:hidden",children:e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded-lg text-xs text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-700",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Scroll for more columns"]})}),e.jsx("div",{className:"overflow-x-auto border border-gray-200 dark:border-gray-800 rounded-xl",children:e.jsxs("table",{className:"w-full text-sm min-w-max",children:[e.jsx("thead",{className:"text-left opacity-70 bg-gray-50 dark:bg-gray-900/20",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-3 sticky left-0 bg-gray-50 dark:bg-gray-900/20 z-20 border-r border-gray-200 dark:border-gray-700 w-24 shadow-sm",children:e.jsxs("button",{onClick:()=>p("date"),className:A("date"),children:["Date",e.jsx(S,{column:"date"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-24",children:e.jsxs("button",{onClick:()=>p("campaign"),className:A("campaign"),children:["Campaign",e.jsx(S,{column:"campaign"})]})}),e.jsx("th",{className:"py-2 px-3 hidden md:table-cell w-20",children:e.jsxs("button",{onClick:()=>p("street"),className:A("street"),children:["Street",e.jsx(S,{column:"street"})]})}),e.jsx("th",{className:"py-2 px-3 w-12",children:e.jsxs("button",{onClick:()=>p("property"),className:A("property"),children:["#",e.jsx(S,{column:"property"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-12",children:e.jsxs("button",{onClick:()=>p("dropped"),className:A("dropped"),title:"Letters dropped",children:["D",e.jsx(S,{column:"dropped"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-12",children:e.jsxs("button",{onClick:()=>p("knocked"),className:A("knocked"),title:"Doors knocked",children:["K",e.jsx(S,{column:"knocked"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-12",children:e.jsxs("button",{onClick:()=>p("spoke"),className:A("spoke"),title:"Conversations had",children:["S",e.jsx(S,{column:"spoke"})]})}),e.jsx("th",{className:"py-2 px-3 w-20",children:e.jsxs("button",{onClick:()=>p("result"),className:A("result"),children:["Result",e.jsx(S,{column:"result"})]})}),e.jsx("th",{className:"py-2 px-3 hidden xl:table-cell w-24",children:e.jsxs("button",{onClick:()=>p("followup"),className:A("followup"),children:["Follow‑up",e.jsx(S,{column:"followup"})]})})]})}),e.jsx("tbody",{children:O.map((m,l)=>e.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900/20 transition-colors",children:[e.jsx("td",{className:"py-2 px-3 sticky left-0 bg-white dark:bg-gray-900 z-20 border-r border-gray-200 dark:border-gray-700 shadow-sm",children:m.latestActivity?e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-medium",children:new Date(m.latestActivity).toLocaleDateString()}),e.jsx("div",{className:"text-gray-500 dark:text-gray-400 capitalize",children:m.latestActivityType})]}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600 text-xs",children:"—"})}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell font-medium",children:m.campaign}),e.jsx("td",{className:"py-2 px-3 hidden md:table-cell",children:m.street}),e.jsx("td",{className:"py-2 px-3 text-xs max-w-24 truncate",title:m.property,children:m.property}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell",title:m.dropped?"Letter dropped":"No letter dropped",children:m.dropped?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 text-xs",children:"✓"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"—"})}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell",title:m.knocked?"Door knocked":"No door knocked",children:m.knocked?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-xs",children:"✓"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"—"})}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell",title:m.spoke?"Conversation had":"No conversation",children:m.spoke?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-xs",children:"✓"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"—"})}),e.jsx("td",{className:"py-2 px-3",children:m.result==="none"?e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"—"}):m.result==="interested"||m.result==="customer_signed"||m.result==="appointment_booked"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300",children:m.result.replace("_"," ")}):m.result==="maybe"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300",children:"maybe"}):m.result==="no_for_now"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300",children:"no for now"}):m.result==="already_uw"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300",children:"already UW"}):m.result==="not_interested"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300",children:"not interested"}):m.result==="no_answer"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300",children:"no answer"}):e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:m.result})}),e.jsx("td",{className:"py-2 px-3 hidden xl:table-cell",children:m.followUpAt?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300",children:new Date(m.followUpAt).toLocaleDateString()}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"—"})})]},l))})]})})]})]})]})}function Ct({onSubmit:s,onCancel:a,addressSearchTerm:n,setAddressSearchTerm:t,addressSuggestions:d,selectedPostcode:i,selectedTown:c,availableStreets:j,selectedStreets:L,isLoadingAddresses:C,addressLookupStep:E,searchAddresses:T,selectAddress:O,toggleStreetSelection:p,importSelectedStreets:S,resetAddressLookup:A}){const[f,m]=g.useState({name:"",area:"",connector:"",quote:"",booking:"",faq:""}),l=o=>{if(o.preventDefault(),!f.name.trim()){alert("Please enter a campaign name");return}s(f)};return e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Name *"}),e.jsx("input",{type:"text",value:f.name,onChange:o=>m(k=>({...k,name:o.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Elmswell NL – Aug 2025",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode Area"}),e.jsx("input",{type:"text",value:f.area,onChange:o=>m(k=>({...k,area:o.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Links (Optional)"}),e.jsx("input",{type:"url",value:f.connector,onChange:o=>m(k=>({...k,connector:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Connector sign-up URL"}),e.jsx("input",{type:"url",value:f.quote,onChange:o=>m(k=>({...k,quote:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Quote/eligibility form URL"}),e.jsx("input",{type:"url",value:f.booking,onChange:o=>m(k=>({...k,booking:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Booking page URL"}),e.jsx("input",{type:"url",value:f.faq,onChange:o=>m(k=>({...k,faq:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"FAQ page URL"})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(z,{className:"w-4 h-4 text-primary-600"}),e.jsx("label",{className:"text-sm font-medium",children:"Import Streets"})]}),e.jsx("p",{className:"text-xs opacity-70 mb-3",children:"Search by postcode or town name to import streets automatically"}),E==="search"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:o=>{t(o.target.value),o.target.value.length>=3?debouncedSearch(o.target.value):setAddressSuggestions([])},className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Start typing a town, city, village or postcode (e.g., Elmswell, London, IP30)"}),C&&e.jsx("div",{className:"absolute right-3 top-2.5",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})})]}),d.length>0&&e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:d.map((o,k)=>e.jsx("button",{onClick:()=>O(o),className:"w-full p-2 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:typeof o=="string"?o:o.display},k))})]}),E==="select"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:c}),e.jsx("p",{className:"text-xs opacity-70",children:i})]}),e.jsx("button",{onClick:A,className:"text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Change"})]}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:j.map((o,k)=>e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[e.jsx("input",{type:"checkbox",checked:L.includes(o),onChange:()=>p(o),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:o})]},k))}),L.length>0&&e.jsxs("button",{onClick:S,className:"w-full px-3 py-2 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:["Import ",L.length," Street",L.length!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Create Campaign"}),e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function At({onSubmit:s,onCancel:a,addressSearchTerm:n,setAddressSearchTerm:t,addressSuggestions:d,setAddressSuggestions:i,selectedPostcode:c,selectedTown:j,availableStreets:L,selectedStreets:C,isLoadingAddresses:E,addressLookupStep:T,searchAddresses:O,debouncedSearch:p,selectAddress:S,toggleStreetSelection:A,importSelectedStreets:f,resetAddressLookup:m}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-800 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(z,{className:"w-4 h-4 text-primary-600"}),e.jsx("label",{className:"text-sm font-medium",children:"Import Streets"})]}),e.jsx("p",{className:"text-xs opacity-70",children:"Search by postcode or town name to import streets automatically"})]}),T==="search"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:l=>{t(l.target.value),l.target.value.length>=2?p(l.target.value):i([])},className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Start typing a town, city, village or postcode (e.g., Elmswell, London, IP30)"}),E&&e.jsx("div",{className:"absolute right-3 top-2.5",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})})]}),d.length>0&&e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:d.map((l,o)=>e.jsx("button",{onClick:()=>S(l),className:"w-full p-2 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:typeof l=="string"?l:l.display},o))})]}),T==="select"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:j}),e.jsx("p",{className:"text-xs opacity-70",children:c})]}),e.jsx("button",{onClick:m,className:"text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Change"})]}),e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Street Suggestions:"})," These are real street names commonly found in this area. For specific streets not listed, you can add them manually."]})}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:L.map((l,o)=>e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[e.jsx("input",{type:"checkbox",checked:C.includes(l),onChange:()=>A(l),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:l})]},o))}),C.length>0&&e.jsxs("button",{onClick:f,className:"w-full px-3 py-2 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:["Import ",C.length," Street",C.length!==1?"s":""]})]}),e.jsx("div",{className:"flex gap-3 pt-4",children:e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Close"})})]})}function _t({onSubmit:s,onCancel:a}){const[n,t]=g.useState({name:"",postcode:"",properties:""}),d=i=>{if(i.preventDefault(),!n.name.trim()){alert("Please enter a street name");return}if(!n.properties.trim()){alert("Please enter property numbers");return}const c=n.properties.split(",").map(j=>j.trim()).filter(j=>j.length>0);if(c.length===0){alert("Please enter at least one property number");return}s({name:n.name,postcode:n.postcode,properties:c})};return e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Street Name *"}),e.jsx("input",{type:"text",value:n.name,onChange:i=>t(c=>({...c,name:i.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Orchard Way",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode"}),e.jsx("input",{type:"text",value:n.postcode,onChange:i=>t(c=>({...c,postcode:i.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30 9XX"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Property Numbers *"}),e.jsx("textarea",{value:n.properties,onChange:i=>t(c=>({...c,properties:i.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:`Enter property numbers or names separated by commas
e.g., 1, 3, 5, 7, 9
or: 12, 14, 16, 18
or: The Old Post Office, Rose Cottage, 1, 3`,rows:3,required:!0}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:'Separate property numbers or names with commas only. Supports house names like "The Old Post Office", "Rose Cottage"'})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Add Street"}),e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function Pt({campaign:s,onSubmit:a,onCancel:n}){const[t,d]=g.useState({name:s.name,area:s.area,connector:s.links.connector,quote:s.links.quote,booking:s.links.booking,faq:s.links.faq}),i=c=>{if(c.preventDefault(),!t.name.trim()){alert("Please enter a campaign name");return}a(t)};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Name *"}),e.jsx("input",{type:"text",value:t.name,onChange:c=>d(j=>({...j,name:c.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Elmswell NL – Aug 2025",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode Area"}),e.jsx("input",{type:"text",value:t.area,onChange:c=>d(j=>({...j,area:c.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Links (Optional)"}),e.jsx("input",{type:"url",value:t.connector,onChange:c=>d(j=>({...j,connector:c.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Connector sign-up URL"}),e.jsx("input",{type:"url",value:t.quote,onChange:c=>d(j=>({...j,quote:c.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Quote/eligibility form URL"}),e.jsx("input",{type:"url",value:t.booking,onChange:c=>d(j=>({...j,booking:c.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Booking page URL"}),e.jsx("input",{type:"url",value:t.faq,onChange:c=>d(j=>({...j,faq:c.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"FAQ page URL"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Update Campaign"}),e.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function Rt({street:s,onSubmit:a,onCancel:n}){const[t,d]=g.useState({name:s.name,postcode:s.postcode}),i=c=>{if(c.preventDefault(),!t.name.trim()){alert("Please enter a street name");return}a(t)};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Street Name *"}),e.jsx("input",{type:"text",value:t.name,onChange:c=>d(j=>({...j,name:c.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Orchard Way",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode"}),e.jsx("input",{type:"text",value:t.postcode,onChange:c=>d(j=>({...j,postcode:c.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30 9XX"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Update Street"}),e.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function Lt({street:s,onAddProperty:a,onRemoveProperty:n,onEditProperty:t,onClose:d}){const[i,c]=g.useState(""),[j,L]=g.useState(null),[C,E]=g.useState(""),T=p=>{if(p.preventDefault(),!i.trim()){alert("Please enter a property label");return}const S=i.split(",").map(A=>A.trim()).filter(A=>A.length>0);if(S.length===0){alert("Please enter at least one property label");return}S.forEach(A=>{a(A)}),c("")},O=(p,S)=>{if(!S.trim()){alert("Please enter a property label");return}t(p,S.trim()),L(null),E("")};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Add New Property"}),e.jsxs("form",{onSubmit:T,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:p=>c(p.target.value),className:"flex-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Property numbers or names (e.g., 1, 3, 5 or The Old Post Office, Rose Cottage)"}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Add"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:'Separate multiple properties with commas: "1, 3, 5" or "The Old Post Office, Rose Cottage"'})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-2",children:["Existing Properties (",s.properties.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:s.properties.map(p=>e.jsx("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-gray-800",children:j===p.id?e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:"text",value:C,onChange:S=>E(S.target.value),className:"flex-1 p-1 rounded bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm",autoFocus:!0}),e.jsx("button",{onClick:()=>O(p.id,C),className:"px-2 py-1 rounded bg-green-600 text-white text-xs hover:bg-green-700",children:"Save"}),e.jsx("button",{onClick:()=>{L(null),E("")},className:"px-2 py-1 rounded bg-gray-600 text-white text-xs hover:bg-gray-700",children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm",children:p.label}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>{L(p.id),E(p.label)},className:"px-2 py-1 rounded bg-blue-600 text-white text-xs hover:bg-blue-700",children:"Edit"}),e.jsx("button",{onClick:()=>n(p.id),className:"px-2 py-1 rounded bg-red-600 text-white text-xs hover:bg-red-700",children:"Remove"})]})]})},p.id))})]}),e.jsx("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-800",children:e.jsx("button",{onClick:d,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Close"})})]})}Re.createRoot(document.getElementById("root")).render(e.jsx(Br.StrictMode,{children:e.jsx(mt,{})}));
//# sourceMappingURL=index-fddde96d.js.map
