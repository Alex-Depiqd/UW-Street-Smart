import{r as g,a as Tr,R as Rr}from"./vendor-b1791c80.js";import{C as rr,D as Er,S as Ur,M as Fr,H as Ce,a as Or,B as me,T as se,b as H,F as ae,c as Mr,d as qr,e as z,L as ge,A as tr,f as $r,m as Je,X as Pe,P as pe,g as Ae,h as $,U as De,i as sr,j as ue,k as Z,l as he,n as Ie,o as Wr,p as Br,q as Hr,r as zr,I as ar,s as Yr,t as Qr,u as Gr,v as Ze,w as Vr}from"./ui-136ffc37.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function d(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(l){if(l.ep)return;l.ep=!0;const n=d(l);fetch(l.href,n)}})();var or={exports:{}},be={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=g,Xr=Symbol.for("react.element"),Jr=Symbol.for("react.fragment"),Zr=Object.prototype.hasOwnProperty,et=Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rt={key:!0,ref:!0,__self:!0,__source:!0};function lr(t,s,d){var r,l={},n=null,i=null;d!==void 0&&(n=""+d),s.key!==void 0&&(n=""+s.key),s.ref!==void 0&&(i=s.ref);for(r in s)Zr.call(s,r)&&!rt.hasOwnProperty(r)&&(l[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)l[r]===void 0&&(l[r]=s[r]);return{$$typeof:Xr,type:t,key:n,ref:i,props:l,_owner:et.current}}be.Fragment=Jr;be.jsx=lr;be.jsxs=lr;or.exports=be;var e=or.exports,_e={},er=Tr;_e.createRoot=er.createRoot,_e.hydrateRoot=er.hydrateRoot;const tt={opener:[{id:"op1",title:"Door opener (15s)",content:"Hi! I'm local and helping neighbours shave a chunk off household bills—no obligation. I've popped a letter through; if you're open, I can check your postcode now and see if you qualify for the best UW bundles. Takes two minutes."},{id:"op2",title:"Evening approach",content:"Good evening! I'm from UW and I've been helping families in this area save money on their bills. I left a letter earlier - have you had a chance to look at it?"}],objection:[{id:"ob1",title:"Not interested → graceful exit",content:"Totally fine. If things change, the letter's got a QR to a 60‑second checker—no sales calls, just the numbers. Have a great day!"},{id:"ob2",title:"Already with UW",content:"That's great! You might be eligible for additional savings or better bundles. Would you like me to check your current setup?"}],closer:[{id:"cl1",title:"Soft close",content:"If you text me your postcode I'll send a quick checker link—no pressure. If it looks good, we can book a 10‑minute run‑through."},{id:"cl2",title:"Follow-up close",content:"Perfect! I'll send you the details and we can arrange a time that works for you. When would be best?"}],sms:[{id:"sm1",title:"WhatsApp Prefill CTA",content:"Hi Alex, I've got your Neighbour Letter. My postcode is _______. Can you check if I'm eligible for the best bundle?"},{id:"sm2",title:"Follow-up reminder",content:"Hi! Just following up on our conversation about UW savings. Are you still interested in checking your eligibility?"}]},st=[{id:"c1",name:"Elmswell NL – Aug 2025",area:"IP30",status:"active",created_at:"2025-08-01",links:{connector:"https://example.com/connector",quote:"https://example.com/quote",booking:"https://example.com/book",faq:"https://example.com/faq"},streets:[{id:"s1",name:"Orchard Way",postcode:"IP30 9XX",status:"in_progress",properties:[{id:"p1",label:"1",dropped:!0,knocked:!0,spoke:!1,result:"no_answer",photo:null},{id:"p2",label:"3",dropped:!0,knocked:!0,spoke:!0,result:"maybe",followUpAt:"2025-08-16T18:00:00",photo:null},{id:"p3",label:"5",dropped:!0,knocked:!1,spoke:!1,result:"none",photo:null}]},{id:"s2",name:"Station Road",postcode:"IP30 9YY",status:"not_started",properties:[{id:"p4",label:"12",dropped:!1,knocked:!1,spoke:!1,result:"none",photo:null},{id:"p5",label:"14",dropped:!1,knocked:!1,spoke:!1,result:"none",photo:null}]}]},{id:"c2",name:"Stowmarket NL – Sept 2025",area:"IP14",status:"draft",created_at:"2025-08-15",links:{connector:"https://example.com/connector",quote:"https://example.com/quote",booking:"https://example.com/book",faq:"https://example.com/faq"},streets:[]}],ee=({children:t,variant:s="default",className:d=""})=>{const r={default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300",primary:"bg-primary-100 text-primary-700 dark:bg-primary-900/40 dark:text-primary-300",success:"bg-secondary-100 text-secondary-700 dark:bg-secondary-900/40 dark:text-secondary-300",warning:"bg-warning-100 text-warning-700 dark:bg-warning-900/40 dark:text-warning-300",error:"bg-error-100 text-error-700 dark:bg-error-900/40 dark:text-error-300"};return e.jsx("span",{className:`inline-flex items-center text-xs px-2 py-1 rounded-full shadow-sm ${r[s]} ${d}`,children:t})},q=({title:t,icon:s,children:d,actions:r,className:l=""})=>e.jsxs("div",{className:`rounded-2xl shadow-soft p-4 bg-white/70 dark:bg-gray-900/70 backdrop-blur border border-gray-200/50 dark:border-gray-800/50 ${l}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s&&e.jsx(s,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"text-lg font-semibold",children:t})]}),e.jsx("div",{className:"flex gap-2",children:r})]}),d]}),M=({open:t,onClose:s,title:d,children:r,size:l="default"})=>{const n={small:"max-h-[60vh]",default:"max-h-[80vh]",large:"max-h-[90vh]"};return e.jsx($r,{children:t&&e.jsxs(Je.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:s}),e.jsxs(Je.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:120,damping:16},className:`absolute bottom-0 left-0 right-0 bg-white dark:bg-gray-900 rounded-t-3xl p-4 ${n[l]} overflow-y-auto`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-base font-semibold",children:d}),e.jsx("button",{className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",onClick:s,children:e.jsx(Pe,{className:"w-5 h-5"})})]}),r]})]})})};function at(){const[t,s]=g.useState(!0),[d,r]=g.useState("dashboard"),[l,n]=g.useState(st),[i,y]=g.useState("c1"),[A,C]=g.useState("s1"),[L,I]=g.useState("p2"),[U,p]=g.useState(!1),[S,v]=g.useState(!1),[f,c]=g.useState(!1),[x,o]=g.useState(!1),[j,R]=g.useState(!1),[dr,oe]=g.useState(!1),[nr,le]=g.useState(!1),[ir,de]=g.useState(!1),[cr,ne]=g.useState(!1),[xr,ie]=g.useState(!1),[mr,ye]=g.useState(!1),[Le,Te]=g.useState(null),[Re,Ee]=g.useState(null),[gr,Ue]=g.useState(!1),[pr,ur]=g.useState(!1),[hr,Fe]=g.useState(!1),[Oe,Me]=g.useState(navigator.onLine),[qe,ce]=g.useState(""),[$e,K]=g.useState([]),[fe,ke]=g.useState(""),[We,je]=g.useState(""),[Be,re]=g.useState([]),[ve,Ne]=g.useState([]),[He,xe]=g.useState(!1),[ze,te]=g.useState("search"),F=g.useMemo(()=>l.find(a=>a.id===i),[l,i]),Q=g.useMemo(()=>F==null?void 0:F.streets.find(a=>a.id===A),[F,A]),Ye=g.useMemo(()=>Q==null?void 0:Q.properties.find(a=>a.id===L),[Q,L]),br=g.useMemo(()=>{let a=0,u=0,m=0,h=0,b={interested:0,customer_signed:0,appointment_booked:0,no_for_now:0,already_uw:0,not_interested:0};const D=new Date().toISOString().split("T")[0];return F==null||F.streets.forEach(T=>{T.properties.forEach(E=>{const X=E.dropped&&E.droppedAt===D,G=E.spoke&&E.spokeAt===D,N=E.result&&E.resultAt===D,k=E.followUpAt&&E.followUpAt.startsWith(D);X&&a++,G&&u++,N&&(E.result==="customer_signed"||E.result==="appointment_booked")&&m++,k&&h++,N&&E.result!=="none"&&(b[E.result]=(b[E.result]||0)+1)})}),{letters:a,convos:u,interested:m,followups:h,outcomes:b}},[F]),yr=a=>{const u=new Date().toISOString().split("T")[0];n(m=>m.map(h=>{if(h.id!==i)return h;const b={...h,streets:h.streets.map(N=>N.id!==A?N:{...N,properties:N.properties.map(k=>{if(k.id===L){const w={...a};return a.result&&(w.resultAt=u),a.followUpAt&&(w.followUpAt=a.followUpAt),{...k,...w}}return k})})},D=b.streets.reduce((N,k)=>N+k.properties.length,0);b.streets.reduce((N,k)=>N+k.properties.filter(w=>w.dropped).length,0),b.streets.reduce((N,k)=>N+k.properties.filter(w=>w.spoke).length,0);let T=b.status;b.streets.reduce((N,k)=>N+k.properties.filter(w=>w.dropped||w.knocked||w.spoke).length,0)>0&&T==="planned"&&(T="active");const X=b.streets.reduce((N,k)=>N+k.properties.filter(w=>w.result&&w.result!=="none"&&w.result!=="no_answer").length,0);D>0&&X===D&&(T="completed");const G=b.streets.map(N=>{const k=N.properties.length,w=N.properties.filter(_=>_.dropped).length;N.properties.filter(_=>_.knocked).length,N.properties.filter(_=>_.spoke).length;let P=N.status;N.properties.filter(_=>_.dropped||_.knocked||_.spoke||_.result&&_.result!=="none").length===0?P="not_started":w>0&&P==="not_started"&&(P="in_progress");const J=N.properties.filter(_=>_.result&&_.result!=="none"&&_.result!=="no_answer").length;return k>0&&J===k&&(P="completed"),P==="completed"&&J<k&&(P="in_progress"),{...N,status:P}});return{...b,streets:G,status:T}}))},Qe=()=>s(a=>!a),fr=()=>{const a={campaigns:l,settings:{dark:t},exportDate:new Date().toISOString(),version:"1.0.0"},u=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),m=URL.createObjectURL(u),h=document.createElement("a");h.href=m,h.download=`uw-street-smart-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(m)},kr=a=>{const u=new FileReader;u.onload=m=>{var h;try{const b=JSON.parse(m.target.result);b.campaigns&&Array.isArray(b.campaigns)?(n(b.campaigns),((h=b.settings)==null?void 0:h.dark)!==void 0&&s(b.settings.dark),o(!1),alert("Data imported successfully!")):alert("Invalid data format. Please select a valid export file.")}catch{alert("Error importing data. Please check the file format.")}},u.readAsText(a)},jr=()=>{R(!0)},vr=()=>{const a=[{id:"new-campaign",name:"New Campaign",area:"",status:"planned",created_at:new Date().toISOString().split("T")[0],links:{connector:"",quote:"",booking:"",faq:""},streets:[]}];n(a),y("new-campaign"),C(""),I(""),R(!1),alert("All data has been cleared. You can now start fresh with a new campaign.")},Nr=a=>{const u={id:`campaign-${Date.now()}`,name:a.name,area:a.area,status:"planned",created_at:new Date().toISOString().split("T")[0],links:{connector:a.connector||"",quote:a.quote||"",booking:a.booking||"",faq:a.faq||""},streets:[]};n(m=>[...m,u]),y(u.id),oe(!1),alert("New campaign created successfully!")},wr=a=>{const u={id:`street-${Date.now()}`,name:a.name,postcode:a.postcode,status:"not_started",properties:a.properties.map((m,h)=>({id:`property-${Date.now()}-${h}`,label:m,dropped:!1,knocked:!1,spoke:!1,result:"none"}))};n(m=>m.map(h=>{if(h.id===i){const b={...h,streets:[...h.streets,u]};return h.streets.length===0&&b.status==="draft"?{...b,status:"active"}:b}return h})),C(u.id),le(!1),alert("New street added successfully!")},Sr=a=>{n(u=>u.map(m=>m.id===Le.id?{...m,name:a.name,area:a.area,links:{connector:a.connector||"",quote:a.quote||"",booking:a.booking||"",faq:a.faq||""}}:m)),ne(!1),Te(null),alert("Campaign updated successfully!")},Cr=a=>{if(confirm("Are you sure you want to delete this campaign? This action cannot be undone.")){if(n(u=>u.filter(m=>m.id!==a)),i===a){const u=l.filter(m=>m.id!==a);u.length>0?y(u[0].id):y("")}alert("Campaign deleted successfully!")}},Ar=a=>{n(u=>u.map(m=>m.id===i?{...m,streets:m.streets.map(h=>h.id===Re.id?{...h,name:a.name,postcode:a.postcode}:h)}:m)),ie(!1),Ee(null),alert("Street updated successfully!")},_r=a=>{if(confirm("Are you sure you want to delete this street? This action cannot be undone.")){if(n(u=>u.map(m=>m.id===i?{...m,streets:m.streets.filter(h=>h.id!==a)}:m)),A===a){const u=l.find(h=>h.id===i),m=(u==null?void 0:u.streets.filter(h=>h.id!==a))||[];m.length>0?C(m[0].id):C("")}alert("Street deleted successfully!")}},Pr=a=>{const u={id:`property-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,label:a,dropped:!1,knocked:!1,spoke:!1,result:"none",photo:null,droppedAt:null,knockedAt:null,spokeAt:null,resultAt:null};n(m=>m.map(h=>{if(h.id===i){const b={...h,streets:h.streets.map(N=>{if(N.id===A){const k={...N,properties:[...N.properties,u]};return N.status==="completed"&&(k.status="in_progress"),k}return N})},D=b.streets.reduce((N,k)=>N+k.properties.length,0);b.streets.reduce((N,k)=>N+k.properties.filter(w=>w.dropped).length,0);let T=b.status;b.streets.reduce((N,k)=>N+k.properties.filter(w=>w.dropped||w.knocked||w.spoke).length,0)>0&&T==="planned"&&(T="active");const X=b.streets.reduce((N,k)=>N+k.properties.filter(w=>w.result&&w.result!=="none"&&w.result!=="no_answer").length,0);D>0&&X===D&&(T="completed");const G=b.streets.map(N=>{const k=N.properties.length,w=N.properties.filter(_=>_.dropped).length;N.properties.filter(_=>_.knocked).length,N.properties.filter(_=>_.spoke).length;let P=N.status;N.properties.filter(_=>_.dropped||_.knocked||_.spoke||_.result&&_.result!=="none").length===0?P="not_started":w>0&&P==="not_started"&&(P="in_progress");const J=N.properties.filter(_=>_.result&&_.result!=="none"&&_.result!=="no_answer").length;return k>0&&J===k&&(P="completed"),P==="completed"&&J<k&&(P="in_progress"),{...N,status:P}});return{...b,streets:G,status:T}}return h}))},Dr=a=>{confirm("Are you sure you want to remove this property?")&&n(u=>u.map(m=>m.id===i?{...m,streets:m.streets.map(h=>h.id===A?{...h,properties:h.properties.filter(b=>b.id!==a)}:h)}:m))},Ir=(a,u)=>{n(m=>m.map(h=>h.id===i?{...h,streets:h.streets.map(b=>b.id===A?{...b,properties:b.properties.map(D=>D.id===a?{...D,label:u}:D)}:b)}:h))},Lr=(a,u)=>{const m=new Date().toISOString().split("T")[0];n(h=>h.map(b=>{if(b.id!==i)return b;const D={...b,streets:b.streets.map(k=>k.id!==A?k:{...k,properties:k.properties.map(w=>{if(w.id===a){const P=!w[u],W=`${u}At`;return{...w,[u]:P,[W]:P?m:null}}return w})})},T=D.streets.reduce((k,w)=>k+w.properties.length,0);D.streets.reduce((k,w)=>k+w.properties.filter(P=>P.dropped).length,0),D.streets.reduce((k,w)=>k+w.properties.filter(P=>P.spoke).length,0);let E=D.status;D.streets.reduce((k,w)=>k+w.properties.filter(P=>P.dropped||P.knocked||P.spoke).length,0)>0&&E==="planned"&&(E="active");const G=D.streets.reduce((k,w)=>k+w.properties.filter(P=>P.result&&P.result!=="none"&&P.result!=="no_answer").length,0);T>0&&G===T&&(E="completed");const N=D.streets.map(k=>{const w=k.properties.length,P=k.properties.filter(O=>O.dropped).length;k.properties.filter(O=>O.knocked).length,k.properties.filter(O=>O.spoke).length;let W=k.status;k.properties.filter(O=>O.dropped||O.knocked||O.spoke||O.result&&O.result!=="none").length===0?W="not_started":P>0&&W==="not_started"&&(W="in_progress");const _=k.properties.filter(O=>O.result&&O.result!=="none"&&O.result!=="no_answer").length;return w>0&&_===w&&(W="completed"),W==="completed"&&_<w&&(W="in_progress"),{...k,status:W}});return{...D,streets:N,status:E}}))},Ge=async a=>{if(!a||a.length<3){K([]);return}xe(!0);try{const u=await fetch(`https://api.postcodes.io/postcodes?q=${encodeURIComponent(a)}`);if(u.ok){const m=await u.json();if(m.result&&m.result.length>0){const h=m.result.map(b=>({display:`${b.postcode} - ${b.admin_district||b.admin_ward||b.parish||"Unknown area"}`,value:b.postcode,postcode:b.postcode,admin_district:b.admin_district,admin_ward:b.admin_ward,parish:b.parish}));K(h);return}}K([])}catch(u){console.error("Error searching addresses:",u),K([])}finally{xe(!1)}},Ve=async a=>{const u=typeof a=="string"?a:a.postcode||a.value;ke(u),xe(!0);try{const m=await fetch(`https://api.postcodes.io/postcodes/${u}`);if(m.ok){const h=await m.json();je(h.result.admin_district||h.result.admin_ward||"Unknown");const b=await fetch(`https://api.postcodes.io/postcodes/${u}/autocomplete`);if(b.ok){const T=(await b.json()).result||[];re(T),te("select")}else re(["High Street","Main Street","Church Street","Station Road"]),te("select")}}catch(m){console.error("Error getting address details:",m),re(["High Street","Main Street","Church Street","Station Road"]),te("select")}finally{xe(!1)}},Ke=a=>{Ne(u=>u.some(h=>h===a)?u.filter(h=>h!==a):[...u,a])},we=()=>{const a=ve.map((u,m)=>({id:`street-${Date.now()}-${m}`,name:u,postcode:fe,status:"not_started",properties:[{id:`property-${Date.now()}-${m}-1`,label:"1",dropped:!1,knocked:!1,spoke:!1,result:"none"},{id:`property-${Date.now()}-${m}-3`,label:"3",dropped:!1,knocked:!1,spoke:!1,result:"none"},{id:`property-${Date.now()}-${m}-5`,label:"5",dropped:!1,knocked:!1,spoke:!1,result:"none"}]}));n(u=>u.map(m=>m.id===i?{...m,streets:[...m.streets,...a]}:m)),ce(""),K([]),ke(""),je(""),re([]),Ne([]),te("search"),alert(`Successfully imported ${a.length} streets!`),de(!1)},Xe=()=>{ce(""),K([]),ke(""),je(""),re([]),Ne([]),te("search")};return g.useEffect(()=>{const a=()=>Me(!0),u=()=>Me(!1);return window.addEventListener("online",a),window.addEventListener("offline",u),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",u)}},[]),g.useEffect(()=>{document.documentElement.classList.toggle("dark",t),document.documentElement.setAttribute("data-theme",t?"dark":"light")},[t]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-950 dark:to-gray-900 text-gray-900 dark:text-gray-50 overflow-x-hidden",children:[e.jsx("div",{className:"sticky top-0 z-40 backdrop-blur bg-white/60 dark:bg-gray-950/60 border-b border-gray-200/50 dark:border-gray-800/50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-2xl bg-primary-600 flex items-center justify-center shadow text-white font-bold",children:"UW"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold leading-tight",children:"Street Smart"}),e.jsx("div",{className:"text-xs opacity-70",children:"NL Activity Tracker"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"lg:hidden flex items-center gap-1",children:!Oe&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"})}),e.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[!Oe&&e.jsxs(ee,{variant:"warning",className:"text-xs",children:[e.jsx(rr,{className:"w-3 h-3 mr-1"}),"Offline"]}),e.jsxs(ee,{variant:"success",className:"text-xs",children:[e.jsx(Er,{className:"w-3 h-3 mr-1"}),"Local storage"]})]}),e.jsx("button",{onClick:Qe,className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:t?e.jsx(Ur,{className:"w-4 h-4 lg:w-5 lg:h-5"}):e.jsx(Fr,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),e.jsx("button",{onClick:()=>Ue(!0),className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(Ce,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),e.jsx("button",{onClick:()=>c(!0),className:"p-2 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(Or,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]})]})}),e.jsx("div",{className:"lg:hidden sticky top-16 z-30 bg-white/80 dark:bg-gray-950/80 backdrop-blur border-b border-gray-200/50 dark:border-gray-800/50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 py-2",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[e.jsx(B,{icon:e.jsx(me,{className:"w-4 h-4 flex-shrink-0"}),label:"Dashboard",active:d==="dashboard",onClick:()=>r("dashboard")}),e.jsx(B,{icon:e.jsx(se,{className:"w-4 h-4 flex-shrink-0"}),label:"Campaigns",active:d==="campaigns",onClick:()=>r("campaigns")}),e.jsx(B,{icon:e.jsx(H,{className:"w-4 h-4 flex-shrink-0"}),label:"Streets",active:d==="streets",onClick:()=>r("streets")}),e.jsx(B,{icon:e.jsx(ae,{className:"w-4 h-4 flex-shrink-0"}),label:"Reports",active:d==="reports",onClick:()=>r("reports")})]}),F&&e.jsxs("div",{className:"mt-2 text-center px-2",children:[e.jsx("div",{className:"text-xs opacity-70 mb-1",children:"Active Campaign"}),e.jsx("div",{className:"text-sm font-medium truncate bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 px-2 py-1 rounded-lg",children:F.name})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-3 lg:py-6 grid grid-cols-1 lg:grid-cols-4 gap-4 lg:gap-6",children:[e.jsxs("div",{className:"hidden lg:block lg:col-span-1 space-y-3",children:[e.jsxs(q,{title:"Navigate",icon:Mr,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 min-w-0",children:[e.jsx(B,{icon:e.jsx(me,{className:"w-4 h-4 flex-shrink-0"}),label:"Dashboard",active:d==="dashboard",onClick:()=>r("dashboard")}),e.jsx(B,{icon:e.jsx(se,{className:"w-4 h-4 flex-shrink-0"}),label:"Campaigns",active:d==="campaigns",onClick:()=>r("campaigns")}),e.jsx(B,{icon:e.jsx(H,{className:"w-4 h-4 flex-shrink-0"}),label:"Streets",active:d==="streets",onClick:()=>r("streets")}),e.jsx(B,{icon:e.jsx(ae,{className:"w-4 h-4 flex-shrink-0"}),label:"Reports",active:d==="reports",onClick:()=>r("reports")})]}),e.jsxs("div",{className:"mt-3 text-xs opacity-70",children:["Active: ",e.jsx("strong",{children:F==null?void 0:F.name})]})]}),e.jsxs(q,{title:"Quick Drawers",icon:qr,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 min-w-0",children:[e.jsx(B,{icon:e.jsx(z,{className:"w-4 h-4 flex-shrink-0"}),label:"Scripts",onClick:()=>p(!0)}),e.jsx(B,{icon:e.jsx(ge,{className:"w-4 h-4 flex-shrink-0"}),label:"Links",onClick:()=>v(!0)})]}),e.jsx("div",{className:"mt-3 text-xs opacity-70",children:"Open while on a property to speed up calls and messages."})]}),e.jsx(q,{title:"Success Tips",icon:se,actions:e.jsxs("button",{onClick:()=>Fe(!0),className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm flex items-center gap-2 hover:bg-primary-700 transition-colors",children:[e.jsx(Ce,{className:"w-4 h-4"})," View All"]}),children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-2 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"🎯 Best Time to Drop"}),e.jsx("div",{className:"text-xs text-green-700 dark:text-green-300",children:"Evenings 6-8pm, weekends 10am-2pm"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"text-xs font-medium text-blue-800 dark:text-blue-200",children:"📝 Follow Up Timing"}),e.jsx("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Return 2-3 days after dropping letters"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"text-xs font-medium text-purple-800 dark:text-purple-200",children:"💡 Conversation Starters"}),e.jsx("div",{className:"text-xs text-purple-700 dark:text-purple-300",children:`"Hi, I'm local and helping neighbours save money..."`})]})]})})]}),e.jsxs("div",{className:"col-span-1 lg:col-span-3 space-y-3 lg:space-y-4",children:[d==="dashboard"&&e.jsx(ot,{stats:br,activeCampaign:F,onGoStreets:()=>r("streets")}),d==="campaigns"&&e.jsx(lt,{campaigns:l,activeId:i,onSelect:a=>{y(a),r("streets")},onCreateNew:()=>oe(!0),onEdit:a=>{Te(a),ne(!0)},onDelete:Cr,onToggleComplete:a=>{n(u=>u.map(m=>{if(m.id===a){const h=m.status==="completed"?"active":"completed";if(h==="completed"){const b=m.streets.map(D=>({...D,properties:D.properties.map(T=>T.result==="none"||!T.result?{...T,result:"no_answer"}:T)}));return{...m,streets:b,status:h}}else{const b=m.streets.map(D=>({...D,properties:D.properties.map(T=>T.result==="no_answer"&&!T.spoke?{...T,result:"none"}:T)}));return{...m,streets:b,status:h}}}return m}))}}),d==="streets"&&F&&e.jsx(dt,{campaign:F,activeStreetId:A,onSelectStreet:a=>{C(a),r("streets")},onOpenProperty:(a,u)=>{C(a),I(u),r("property")},onAddStreet:()=>le(!0),onEditStreet:a=>{Ee(a),ie(!0)},onDeleteStreet:_r,onManageProperties:a=>{C(a.id),ye(!0)},onImportStreets:a=>{y(a),de(!0)}}),d==="property"&&Q&&Ye&&e.jsx(it,{street:Q,property:Ye,onBack:()=>r("streets"),onUpdate:yr,onShowScripts:()=>p(!0),onShowLinks:()=>v(!0),onToggleStatus:Lr}),d==="reports"&&e.jsx(yt,{campaigns:l})]})]}),e.jsx(M,{open:U,onClose:()=>p(!1),title:"Scripts & Talking Points",children:e.jsx(mt,{})}),e.jsx(M,{open:S,onClose:()=>v(!1),title:"Quick Links",children:e.jsx(gt,{links:F==null?void 0:F.links})}),e.jsx(M,{open:f,onClose:()=>c(!1),title:"Settings",size:"small",children:e.jsx(pt,{dark:t,onToggleDark:Qe,onExport:fr,onImport:kr,onReset:jr})}),e.jsx(M,{open:gr,onClose:()=>Ue(!1),title:"Help & FAQ",size:"large",children:e.jsx(ut,{})}),e.jsx(M,{open:pr,onClose:()=>ur(!1),title:"About",size:"small",children:e.jsx(ht,{})}),e.jsx(M,{open:hr,onClose:()=>Fe(!1),title:"Success Tips for NLs",size:"large",children:e.jsx(bt,{})}),e.jsx(M,{open:j,onClose:()=>R(!1),title:"Reset Data",size:"small",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:[e.jsx(tr,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-red-800 dark:text-red-200",children:"Warning"}),e.jsx("div",{className:"text-red-600 dark:text-red-400",children:"This action cannot be undone."})]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"mb-3",children:"Are you sure you want to reset all data? This will:"}),e.jsxs("ul",{className:"space-y-1 text-gray-600 dark:text-gray-400",children:[e.jsx("li",{children:"• Remove all campaigns and activity data"}),e.jsx("li",{children:"• Reset to empty state with one new campaign"}),e.jsx("li",{children:"• Clear all progress and follow-ups"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:vr,className:"flex-1 px-4 py-2 rounded-xl bg-red-600 text-white text-sm hover:bg-red-700 transition-colors",children:"Yes, Reset All Data"}),e.jsx("button",{onClick:()=>R(!1),className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}),e.jsx(M,{open:dr,onClose:()=>oe(!1),title:"Create New Campaign",size:"small",children:e.jsx(ft,{onSubmit:Nr,onCancel:()=>oe(!1),addressSearchTerm:qe,setAddressSearchTerm:ce,addressSuggestions:$e,selectedPostcode:fe,selectedTown:We,availableStreets:Be,selectedStreets:ve,isLoadingAddresses:He,addressLookupStep:ze,searchAddresses:Ge,selectAddress:Ve,toggleStreetSelection:Ke,importSelectedStreets:we,resetAddressLookup:Xe})}),e.jsx(M,{open:nr,onClose:()=>le(!1),title:"Add New Street",size:"small",children:e.jsx(jt,{onSubmit:wr,onCancel:()=>le(!1)})}),e.jsx(M,{open:ir,onClose:()=>de(!1),title:"Import Streets",size:"small",children:e.jsx(kt,{onSubmit:we,onCancel:()=>de(!1),addressSearchTerm:qe,setAddressSearchTerm:ce,addressSuggestions:$e,selectedPostcode:fe,selectedTown:We,availableStreets:Be,selectedStreets:ve,isLoadingAddresses:He,addressLookupStep:ze,searchAddresses:Ge,selectAddress:Ve,toggleStreetSelection:Ke,importSelectedStreets:we,resetAddressLookup:Xe})}),e.jsx(M,{open:cr,onClose:()=>ne(!1),title:"Edit Campaign",size:"small",children:e.jsx(vt,{campaign:Le,onSubmit:Sr,onCancel:()=>ne(!1)})}),e.jsx(M,{open:xr,onClose:()=>ie(!1),title:"Edit Street",size:"small",children:e.jsx(Nt,{street:Re,onSubmit:Ar,onCancel:()=>ie(!1)})}),e.jsx(M,{open:mr,onClose:()=>ye(!1),title:"Manage Properties",size:"large",children:e.jsx(wt,{street:Q,onAddProperty:Pr,onRemoveProperty:Dr,onEditProperty:Ir,onClose:()=>ye(!1)})}),e.jsx("div",{className:"lg:hidden fixed bottom-6 right-6 z-50",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>p(!0),className:"w-12 h-12 rounded-full bg-primary-600 text-white shadow-lg hover:bg-primary-700 transition-colors flex items-center justify-center",title:"Scripts",children:e.jsx(z,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>v(!0),className:"w-12 h-12 rounded-full bg-gray-600 text-white shadow-lg hover:bg-gray-700 transition-colors flex items-center justify-center",title:"Quick Links",children:e.jsx(ge,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 pb-8 text-xs opacity-70",children:"UW Street Smart - NL Activity Tracker v1.0.0 | Built for UW partners making a difference in their communities. | © 2025 Alex Cameron. All rights reserved."})]})}function B({icon:t,label:s,active:d,onClick:r}){return e.jsxs("button",{onClick:r,className:`flex flex-col items-center justify-center gap-1 px-2 py-2 rounded-xl text-xs border transition-all min-w-0 lg:flex-row lg:gap-2 lg:px-3 lg:text-sm ${d?"bg-primary-600 text-white border-primary-600 shadow-md":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{className:"flex-shrink-0",children:t}),e.jsx("span",{className:"truncate text-center leading-tight",children:s})]})}function Y({icon:t,label:s,value:d,sub:r}){return e.jsxs("div",{className:"rounded-2xl p-3 sm:p-4 bg-white/70 dark:bg-gray-900/70 border border-gray-200 dark:border-gray-800 shadow-soft flex items-center gap-2 sm:gap-3 min-w-0",children:[e.jsx("div",{className:"p-1.5 sm:p-2 rounded-xl bg-gray-100 dark:bg-gray-800 flex-shrink-0",children:e.jsx(t,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-semibold leading-none",children:d}),e.jsx("div",{className:"text-xs sm:text-sm opacity-70 truncate",children:s}),r&&e.jsx("div",{className:"text-xs opacity-60 mt-1",children:r})]})]})}function ot({stats:t,activeCampaign:s,onGoStreets:d}){const r=s&&s.streets.length>0;return e.jsxs("div",{className:"space-y-4",children:[e.jsx(q,{title:"Active Campaign",icon:H,children:s?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-lg font-semibold truncate",children:s.name}),e.jsxs("div",{className:"text-sm opacity-70",children:["Area: ",s.area||"Not set"," • Streets: ",s.streets.length]})]}),e.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:e.jsx(ee,{variant:s.status==="active"?"success":"default",children:s.status})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:d,className:"flex-1 px-3 py-2 rounded-xl bg-primary-600 text-white text-sm flex items-center justify-center gap-2 hover:bg-primary-700 transition-colors",children:[e.jsx(H,{className:"w-4 h-4"})," Go to Streets"]}),e.jsxs("button",{className:"px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm flex items-center gap-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(pe,{className:"w-4 h-4"})," Add Street"]})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:e.jsx(se,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No active campaign"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Get started by creating your first neighbourhood campaign"}),e.jsx("button",{onClick:d,className:"px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Create First Campaign"})]})}),e.jsx(q,{title:"Today's Activity",icon:Ae,actions:r?e.jsxs("button",{onClick:d,className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm flex items-center gap-2 hover:bg-primary-700 transition-colors",children:["Go to Streets ",e.jsx($,{className:"w-4 h-4"})]}):e.jsxs("button",{onClick:d,className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm flex items-center gap-2 hover:bg-primary-700 transition-colors",children:["Create Campaign ",e.jsx($,{className:"w-4 h-4"})]}),children:r?e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3",children:[e.jsx(Y,{icon:De,label:"Letters dropped today",value:t.letters}),e.jsx(Y,{icon:z,label:"Conversations today",value:t.convos}),e.jsx(Y,{icon:sr,label:"Successes today",value:t.interested}),e.jsx(Y,{icon:ue,label:"Follow‑ups scheduled today",value:t.followups})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-3",children:e.jsx(Ae,{className:"w-6 h-6 text-gray-400"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No activity recorded today"})]})}),r&&t.outcomes&&e.jsx(q,{title:"Conversation Outcomes",icon:z,children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3",children:[e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border-2 border-green-500 dark:border-green-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-green-800 dark:text-green-200",children:t.outcomes.customer_signed}),e.jsx("div",{className:"text-xs sm:text-sm text-green-700 dark:text-green-300",children:"Customers Signed"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border-2 border-emerald-500 dark:border-emerald-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-emerald-800 dark:text-emerald-200",children:t.outcomes.appointment_booked}),e.jsx("div",{className:"text-xs sm:text-sm text-emerald-700 dark:text-emerald-300",children:"Appointment Booked"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-500 dark:border-amber-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-amber-800 dark:text-amber-200",children:t.outcomes.no_for_now}),e.jsx("div",{className:"text-xs sm:text-sm text-amber-700 dark:text-amber-300",children:"No for Now"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-sky-50 dark:bg-sky-900/20 border-2 border-sky-500 dark:border-sky-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-sky-800 dark:text-sky-200",children:t.outcomes.already_uw}),e.jsx("div",{className:"text-xs sm:text-sm text-sky-700 dark:text-sky-300",children:"Already with UW"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border-2 border-red-500 dark:border-red-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-red-800 dark:text-red-200",children:t.outcomes.not_interested}),e.jsx("div",{className:"text-xs sm:text-sm text-red-700 dark:text-red-300",children:"Not Interested"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-slate-50 dark:bg-slate-900/20 border-2 border-slate-500 dark:border-slate-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-200",children:t.outcomes.no_answer||0}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-700 dark:text-slate-300",children:"No Answer"})]}),e.jsxs("div",{className:"p-2 sm:p-3 rounded-xl bg-purple-50 dark:bg-purple-900/20 border-2 border-purple-500 dark:border-purple-500",children:[e.jsx("div",{className:"text-base sm:text-lg font-semibold text-purple-800 dark:text-purple-200",children:t.outcomes.no_cold_callers||0}),e.jsx("div",{className:"text-xs sm:text-sm text-purple-700 dark:text-purple-300",children:"No Cold Callers"})]})]})})]})}function lt({campaigns:t,activeId:s,onSelect:d,onCreateNew:r,onEdit:l,onDelete:n,onToggleComplete:i}){const[y,A]=g.useState(""),[C,L]=g.useState("all"),[I,U]=g.useState("name"),[p,S]=g.useState(!1),v=g.useMemo(()=>{let f=t.filter(c=>{const x=c.name.toLowerCase().includes(y.toLowerCase())||c.area.toLowerCase().includes(y.toLowerCase()),o=C==="all"||c.status===C;return x&&o});return f.sort((c,x)=>{switch(I){case"name":return c.name.localeCompare(x.name);case"date":return new Date(x.created_at)-new Date(c.created_at);case"streets":return x.streets.length-c.streets.length;case"status":return c.status.localeCompare(x.status);default:return 0}}),f},[t,y,C,I]);return e.jsxs("div",{className:"space-y-3",children:[e.jsx(q,{title:"Create New Campaign",icon:pe,actions:e.jsxs("button",{onClick:r,className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:[e.jsx(pe,{className:"w-4 h-4"})," New Campaign"]}),children:e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create a new neighbourhood letters campaign to start tracking activity."})}),e.jsx(q,{title:"Search & Filter",icon:Z,actions:e.jsxs("button",{onClick:()=>S(!p),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[p?e.jsx($,{className:"w-4 h-4"}):e.jsx(Z,{className:"w-4 h-4"}),p?"Hide":"Show"," Filters"]}),children:p&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Search campaigns"}),e.jsx("input",{type:"text",value:y,onChange:f=>A(f.target.value),placeholder:"Search by name or area...",className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Status"}),e.jsxs("select",{value:C,onChange:f=>L(f.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Sort by"}),e.jsxs("select",{value:I,onChange:f=>U(f.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"date",children:"Date Created"}),e.jsx("option",{value:"streets",children:"Number of Streets"}),e.jsx("option",{value:"status",children:"Status"})]})]})]}),e.jsxs("div",{className:"text-xs opacity-70",children:["Showing ",v.length," of ",t.length," campaigns"]})]})}),v.map(f=>e.jsx(q,{title:f.name,icon:H,actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",onClick:()=>d(f.id),children:"Open"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",onClick:()=>l(f),children:"Edit"}),e.jsx("button",{className:`px-3 py-1.5 rounded-xl text-sm transition-colors border ${f.status==="completed"?"bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 hover:bg-orange-200 dark:hover:bg-orange-900/30 border-orange-200 dark:border-orange-800":"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/30 border-green-200 dark:border-green-800"}`,onClick:()=>{f.status==="completed"?confirm('Unmark this campaign as completed? This will clear "No Answer" outcomes for properties that need follow-up while preserving manually set outcomes.')&&i(f.id):confirm('Mark this campaign as completed? This will set properties without outcomes to "No Answer" while preserving existing status and outcomes.')&&i(f.id)},children:f.status==="completed"?"Mark Incomplete":"Mark Complete"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm hover:bg-red-200 dark:hover:bg-red-900/30 transition-colors border border-red-200 dark:border-red-800",onClick:()=>n(f.id),children:"Delete"})]}),children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{children:["Area: ",e.jsx("strong",{children:f.area||"Not set"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{variant:f.status==="active"?"success":"default",children:f.status==="planned"?"Planned":f.status}),e.jsxs("div",{className:"text-xs opacity-70",children:[f.streets.length," streets • Created ",f.created_at]})]})]})},f.id))]})}function dt({campaign:t,activeStreetId:s,onSelectStreet:d,onOpenProperty:r,onAddStreet:l,onEditStreet:n,onDeleteStreet:i,onManageProperties:y,onImportStreets:A}){const[C,L]=g.useState(""),[I,U]=g.useState("all"),[p,S]=g.useState("name"),[v,f]=g.useState(!1),c=g.useMemo(()=>{let x=t.streets.filter(o=>{const j=o.name.toLowerCase().includes(C.toLowerCase())||o.postcode.toLowerCase().includes(C.toLowerCase()),R=I==="all"||o.status===I;return j&&R});return x.sort((o,j)=>{switch(p){case"name":return o.name.localeCompare(j.name);case"properties":return j.properties.length-o.properties.length;case"status":return o.status.localeCompare(j.status);case"postcode":return o.postcode.localeCompare(j.postcode);default:return 0}}),x},[t.streets,C,I,p]);return e.jsx("div",{className:"space-y-4",children:e.jsxs(q,{title:`Streets in ${t.name}`,icon:H,actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:l,className:"px-3 py-1.5 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:[e.jsx(pe,{className:"w-4 h-4"})," Add street"]}),e.jsxs("button",{onClick:()=>A(t.id),className:"px-3 py-1.5 rounded-xl bg-green-600 text-white text-sm hover:bg-green-700 transition-colors",children:[e.jsx(H,{className:"w-4 h-4"})," Import Streets"]})]}),children:[e.jsx(q,{title:"Search & Filter",icon:Z,actions:e.jsxs("button",{onClick:()=>f(!v),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[v?e.jsx($,{className:"w-4 h-4"}):e.jsx(Z,{className:"w-4 h-4"}),v?"Hide":"Show"," Filters"]}),children:v&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Search streets"}),e.jsx("input",{type:"text",value:C,onChange:x=>L(x.target.value),placeholder:"Search by street name or postcode...",className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Status"}),e.jsxs("select",{value:I,onChange:x=>U(x.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"not_started",children:"Not Started"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Sort by"}),e.jsxs("select",{value:p,onChange:x=>S(x.target.value),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"name",children:"Street Name"}),e.jsx("option",{value:"properties",children:"Number of Properties"}),e.jsx("option",{value:"status",children:"Status"}),e.jsx("option",{value:"postcode",children:"Postcode"})]})]})]}),e.jsxs("div",{className:"text-xs opacity-70",children:["Showing ",c.length," of ",t.streets.length," streets"]})]})}),c.length>0?e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:c.map(x=>e.jsxs("div",{className:`rounded-2xl border p-4 bg-white/70 dark:bg-gray-900/70 transition-all ${x.id===s?"border-primary-400 shadow-md":"border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-medium",children:[x.name," ",e.jsxs("span",{className:"opacity-60 text-sm",children:["• ",x.postcode]})]}),e.jsx(ee,{variant:x.status==="completed"?"success":x.status==="in_progress"?"warning":"default",children:x.status.replace("_"," ")})]}),e.jsxs("div",{className:"text-xs opacity-70 mb-3",children:[x.properties.length," properties"]}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"flex flex-wrap gap-1 max-h-20 overflow-y-auto",children:x.properties.map(o=>{let j="border border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600";return o.result==="customer_signed"?j="border-2 border-green-500 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200":o.result==="appointment_booked"?j="border-2 border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-800 dark:text-emerald-200":o.result==="no_for_now"?j="border-2 border-amber-500 bg-amber-50 dark:bg-amber-900/20 text-amber-800 dark:text-amber-200":o.result==="already_uw"?j="border-2 border-sky-500 bg-sky-50 dark:bg-sky-900/20 text-sky-800 dark:text-sky-200":o.result==="not_interested"?j="border-2 border-red-500 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200":o.result==="no_answer"?j="border-2 border-slate-500 bg-slate-50 dark:bg-slate-900/20 text-slate-800 dark:text-slate-200":o.result==="no_cold_callers"?j="border-2 border-purple-500 bg-purple-50 dark:bg-purple-900/20 text-purple-800 dark:text-purple-200":o.spoke?j="border border-teal-300 bg-teal-50/50 dark:bg-teal-900/10 text-teal-600 dark:text-teal-400":o.knocked?j="border border-indigo-300 bg-indigo-50/50 dark:bg-indigo-900/10 text-indigo-600 dark:text-indigo-400":o.dropped&&(j="border border-orange-300 bg-orange-50/50 dark:bg-orange-900/10 text-orange-600 dark:text-orange-400"),e.jsx("button",{onClick:()=>r(x.id,o.id),className:`px-2 py-1 rounded-lg text-xs transition-colors flex-shrink-0 ${j}`,title:o.result&&o.result!=="none"?`Outcome: ${o.result.replace("_"," ")}`:o.spoke?"Spoke - No outcome set":o.knocked?"Knocked - No outcome set":o.dropped?"Dropped - No outcome set":"No activity recorded",children:o.label},o.id)})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>y(x),className:"px-3 py-1.5 rounded-xl bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm hover:bg-blue-200 dark:hover:bg-blue-900/30 transition-colors border border-blue-200 dark:border-blue-800",children:"Properties"}),e.jsx("button",{onClick:()=>n(x),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>i(x.id),className:"px-3 py-1.5 rounded-xl bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm hover:bg-red-200 dark:hover:bg-red-900/30 transition-colors border border-red-200 dark:border-red-800",children:"Delete"})]})]},x.id))}):C||I!=="all"?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:e.jsx(Z,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No streets found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Try adjusting your search or filter criteria"}),e.jsx("button",{onClick:()=>{L(""),U("all")},className:"px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Clear Filters"})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:e.jsx(H,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No streets yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Add your first street to start tracking neighbourhood letters"}),e.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Add First Street"})]})]})})}function nt({label:t,value:s,onChange:d}){return e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("div",{className:"text-sm",children:t}),e.jsx("button",{onClick:()=>d(!s),className:`w-11 h-6 rounded-full p-1 transition-colors ${s?"bg-primary-600":"bg-gray-300 dark:bg-gray-700"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-transform ${s?"translate-x-5":""}`})})]})}function it({street:t,property:s,onBack:d,onUpdate:r,onShowScripts:l,onShowLinks:n,onToggleStatus:i}){const[y,A]=g.useState(!1),[C,L]=g.useState(!1),[I,U]=g.useState("");return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:d,className:"text-sm opacity-70 hover:opacity-100 transition-opacity flex items-center gap-1",children:[e.jsx($,{className:"w-4 h-4 rotate-180"})," Back to streets"]}),e.jsxs(q,{title:`${s.label} · ${t.name}`,icon:Ae,actions:e.jsx(ee,{variant:"default",className:"text-xs",children:t.postcode}),children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[e.jsx(Se,{active:s.dropped,icon:De,label:"Dropped",onClick:()=>i(s.id,"dropped")}),e.jsx(Se,{active:s.knocked,icon:he,label:"Knocked",onClick:()=>i(s.id,"knocked")}),e.jsx(Se,{active:s.spoke,icon:z,label:"Spoke",onClick:()=>i(s.id,"spoke")})]}),e.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>A(!0),className:"w-full px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center gap-2 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ue,{className:"w-4 h-4"})," Schedule follow‑up"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:l,className:"flex-1 px-3 py-2 rounded-xl bg-primary-600 text-white text-sm flex items-center justify-center gap-2 hover:bg-primary-700 transition-colors",children:[e.jsx(z,{className:"w-4 h-4"})," Scripts"]}),e.jsxs("button",{onClick:n,className:"flex-1 px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm flex items-center justify-center gap-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ge,{className:"w-4 h-4"})," Links"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs opacity-70",children:"Notes (avoid personal data)"}),e.jsx("textarea",{value:I,onChange:p=>U(p.target.value),className:"w-full mt-1 p-3 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",rows:3,placeholder:"e.g., 'best after 6pm', 'steep steps'"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs opacity-70 mb-2 block",children:"Conversation Outcome"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(V,{label:"Customers Signed",value:"customer_signed",current:s.result,onClick:()=>r({result:"customer_signed"}),variant:"success"}),e.jsx(V,{label:"Appointment Booked",value:"appointment_booked",current:s.result,onClick:()=>r({result:"appointment_booked"}),variant:"success"}),e.jsx(V,{label:"No for Now",value:"no_for_now",current:s.result,onClick:()=>r({result:"no_for_now"}),variant:"warning"}),e.jsx(V,{label:"Already with UW",value:"already_uw",current:s.result,onClick:()=>r({result:"already_uw"}),variant:"info"}),e.jsx(V,{label:"Not Interested",value:"not_interested",current:s.result,onClick:()=>r({result:"not_interested"}),variant:"error"}),e.jsx(V,{label:"No Answer",value:"no_answer",current:s.result,onClick:()=>r({result:"no_answer"}),variant:"default"}),e.jsx(V,{label:"No Cold Callers",value:"no_cold_callers",current:s.result,onClick:()=>r({result:"no_cold_callers"}),variant:"purple"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("button",{onClick:()=>L(!0),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(Ie,{className:"w-4 h-4"}),s.photo?"Change photo":"Attach photo"]}),e.jsx("button",{onClick:()=>r({result:"none"}),className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Clear outcome"})]}),s.photo&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.photo,alt:"Property photo",className:"w-full h-32 object-cover rounded-xl border border-gray-200 dark:border-gray-800"}),e.jsx("button",{onClick:()=>r({photo:null}),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:e.jsx(Pe,{className:"w-3 h-3"})})]})})]})]}),e.jsx(ct,{open:y,onClose:()=>A(!1),onSave:p=>{r({followUpAt:p}),A(!1)}}),e.jsx(xt,{open:C,onClose:()=>L(!1),onSave:p=>{r({photo:p}),L(!1)}})]})}function Se({icon:t,label:s,active:d,onClick:r}){return e.jsxs("button",{onClick:r,className:`px-3 py-3 rounded-2xl border shadow-sm flex items-center justify-center gap-2 text-sm transition-all ${d?"bg-secondary-50 dark:bg-secondary-900/20 border-secondary-400 text-secondary-700 dark:text-secondary-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700"}`,children:[e.jsx(t,{className:"w-4 h-4"})," ",s]})}function V({label:t,value:s,current:d,onClick:r,variant:l="default"}){const n=d===s,i={success:n?"bg-green-50 dark:bg-green-900/20 border-green-400 text-green-700 dark:text-green-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-green-300 dark:hover:border-green-700",warning:n?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-400 text-yellow-700 dark:text-yellow-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-yellow-300 dark:hover:border-yellow-700",error:n?"bg-red-50 dark:bg-red-900/20 border-red-400 text-red-700 dark:text-red-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-red-300 dark:hover:border-red-700",info:n?"bg-blue-50 dark:bg-blue-900/20 border-blue-400 text-blue-700 dark:text-blue-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-blue-300 dark:hover:border-blue-700",purple:n?"bg-purple-50 dark:bg-purple-900/20 border-purple-400 text-purple-700 dark:text-purple-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-purple-300 dark:hover:border-purple-700",default:n?"bg-gray-50 dark:bg-gray-800/60 border-gray-400 text-gray-700 dark:text-gray-300":"bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-700"};return e.jsx("button",{onClick:r,className:`px-3 py-2 rounded-xl border text-sm transition-all ${i[l]}`,children:t})}function ct({open:t,onClose:s,onSave:d}){const[r,l]=g.useState(""),[n,i]=g.useState("");return e.jsx(M,{open:t,onClose:s,title:"Schedule follow‑up",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:r,onChange:y=>l(y.target.value),className:"w-full mt-1 p-2 pr-10 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",style:{colorScheme:"light dark"}}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none dark:bg-white dark:rounded-sm dark:p-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-900",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Time"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"time",value:n,onChange:y=>i(y.target.value),className:"w-full mt-1 p-2 pr-10 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",style:{colorScheme:"light dark"}}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none dark:bg-white dark:rounded-sm dark:p-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-900",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]})]})]}),e.jsx("button",{onClick:()=>d(`${r}T${n}:00`),className:"w-full px-3 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Save reminder"})]})})}function xt({open:t,onClose:s,onSave:d}){const[r,l]=g.useState(null),[n,i]=g.useState(!1),y=g.useRef(null),A=p=>{const S=p.target.files[0];if(S&&S.type.startsWith("image/")){const v=new FileReader;v.onload=f=>{l(f.target.result)},v.readAsDataURL(S)}},C=async()=>{try{i(!0);const p=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}}),S=document.createElement("video");S.srcObject=p,S.autoplay=!0,S.style.width="100%",S.style.height="300px",S.style.objectFit="cover";const v=document.getElementById("camera-container");v&&(v.innerHTML="",v.appendChild(S))}catch(p){console.error("Error accessing camera:",p),alert("Unable to access camera. Please use the gallery option instead."),i(!1)}},L=()=>{const p=document.querySelector("#camera-container video");if(p){const S=document.createElement("canvas");S.width=p.videoWidth,S.height=p.videoHeight,S.getContext("2d").drawImage(p,0,0);const f=S.toDataURL("image/jpeg",.8);l(f);const c=p.srcObject;c&&c.getTracks().forEach(x=>x.stop()),i(!1)}},I=()=>{r&&(d(r),l(null))},U=()=>{l(null),i(!1);const p=document.querySelector("#camera-container video");p&&p.srcObject&&p.srcObject.getTracks().forEach(S=>S.stop()),s()};return e.jsx(M,{open:t,onClose:U,title:"Add Property Photo",children:e.jsxs("div",{className:"space-y-4",children:[!r&&!n&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Take a photo or select from your gallery to document this property."}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:C,className:"px-4 py-3 rounded-xl bg-primary-600 text-white text-sm flex items-center justify-center gap-2 hover:bg-primary-700 transition-colors",children:[e.jsx(Wr,{className:"w-4 h-4"}),"Take Photo"]}),e.jsxs("button",{onClick:()=>{var p;return(p=y.current)==null?void 0:p.click()},className:"px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm flex items-center justify-center gap-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Ie,{className:"w-4 h-4"}),"From Gallery"]})]}),e.jsx("input",{ref:y,type:"file",accept:"image/*",capture:"environment",onChange:A,className:"hidden"})]}),n&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{id:"camera-container",className:"w-full h-64 bg-black rounded-xl overflow-hidden flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),e.jsx("div",{children:"Starting camera..."})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:L,className:"flex-1 px-4 py-3 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"📸 Capture Photo"}),e.jsx("button",{onClick:()=>{i(!1);const p=document.querySelector("#camera-container video");p&&p.srcObject&&p.srcObject.getTracks().forEach(S=>S.stop())},className:"px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}),r&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Captured photo",className:"w-full h-64 object-cover rounded-xl border border-gray-200 dark:border-gray-800"}),e.jsx("button",{onClick:()=>l(null),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:e.jsx(Pe,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:I,className:"flex-1 px-4 py-3 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Save Photo"}),e.jsx("button",{onClick:()=>l(null),className:"px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Retake"})]})]})]})})}function mt(){const[t,s]=g.useState("opener"),d=[{key:"opener",label:"Openers"},{key:"objection",label:"Objections"},{key:"closer",label:"Closers"},{key:"sms",label:"SMS/WhatsApp"}],r=tt[t];return e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:d.map(l=>e.jsx("button",{onClick:()=>s(l.key),className:`px-3 py-2 rounded-xl text-sm transition-colors ${t===l.key?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:l.label},l.key))}),e.jsx("div",{className:"space-y-3",children:r.map(l=>e.jsxs("div",{className:"p-3 rounded-2xl border bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800",children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:l.title}),e.jsx("div",{className:"text-sm opacity-90",children:l.content}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Copy"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Edit"}),e.jsx("button",{className:"px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Save as new"})]})]},l.id))})]})}function gt({links:t}){const s=[{label:"Connector sign‑up",url:t==null?void 0:t.connector,icon:ge},{label:"Quote / eligibility form",url:t==null?void 0:t.quote,icon:ae},{label:"Book a call",url:t==null?void 0:t.booking,icon:ue},{label:"FAQs",url:t==null?void 0:t.faq,icon:ae}];return e.jsxs("div",{className:"space-y-2",children:[s.map((d,r)=>e.jsxs("a",{href:d.url,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between p-3 rounded-2xl border bg-white/70 dark:bg-gray-900/70 border-gray-200 dark:border-gray-800 hover:border-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(d.icon,{className:"w-4 h-4"})," ",d.label]}),e.jsx($,{className:"w-4 h-4 opacity-60"})]},r)),e.jsx("div",{className:"text-xs opacity-70",children:"Tip: add UTM tags to links so scans/visits attribute to this campaign."})]})}function pt({dark:t,onToggleDark:s,onExport:d,onImport:r,onReset:l}){const[n,i]=g.useState(null),y=A=>{const C=A.target.files[0];C&&C.type==="application/json"?i(C):alert("Please select a valid JSON file.")};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Appearance"}),e.jsx(nt,{label:"Dark mode",value:t,onChange:s})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Data & Privacy"}),e.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(Br,{className:"w-4 h-4"}),"Privacy settings"]}),e.jsxs("button",{onClick:d,className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(Hr,{className:"w-4 h-4"}),"Export all data"]}),e.jsxs("button",{onClick:()=>document.getElementById("import-file").click(),className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(Ie,{className:"w-4 h-4"}),"Import data"]}),e.jsx("input",{id:"import-file",type:"file",accept:".json",onChange:y,style:{display:"none"}}),n&&e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:["Selected file: ",n.name]}),e.jsx("div",{className:"text-xs opacity-70",children:"Ready to import"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r(n),className:"px-3 py-1 rounded-lg bg-blue-600 text-white text-xs hover:bg-blue-700 transition-colors",children:"Import"}),e.jsx("button",{onClick:()=>i(null),className:"px-3 py-1 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})}),e.jsxs("button",{onClick:l,className:"w-full text-left px-3 py-2 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors flex items-center gap-2 border border-red-200 dark:border-red-800",children:[e.jsx(zr,{className:"w-4 h-4"}),"Reset all data"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Support"}),e.jsxs("button",{onClick:()=>setShowAbout(!0),className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(ar,{className:"w-4 h-4"}),"About"]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800",children:e.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors flex items-center gap-2 text-error-600 dark:text-error-400",children:[e.jsx(Yr,{className:"w-4 h-4"}),"Sign out"]})})]})}function ut(){const[t,s]=g.useState({quickStart:!0,workflow:!1,status:!1,outcomes:!1,tips:!1,faq:!1}),d=r=>{s(l=>({...l,[r]:!l[r]}))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>d("quickStart"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Quick Start Guide"]}),e.jsx($,{className:`w-5 h-5 transition-transform ${t.quickStart?"rotate-90":""}`})]}),t.quickStart&&e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"1. Create Your First Campaign"}),e.jsxs("div",{className:"text-blue-700 dark:text-blue-300",children:["• Go to ",e.jsx("strong",{children:"Campaigns"})," tab",e.jsx("br",{}),"• Click ",e.jsx("strong",{children:'"Create New Campaign"'}),e.jsx("br",{}),"• Enter campaign name, area, and your UW links"]})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"2. Add Streets & Properties"}),e.jsxs("div",{className:"text-green-700 dark:text-green-300",children:["• Go to ",e.jsx("strong",{children:"Streets"})," tab",e.jsx("br",{}),"• Click ",e.jsx("strong",{children:'"Add New Street"'}),e.jsx("br",{}),"• Enter street name, postcode, and property numbers/names (comma-separated)"]})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:"3. Track Your Activity"}),e.jsxs("div",{className:"text-purple-700 dark:text-purple-300",children:["• Click on any property number to open it",e.jsx("br",{}),"• Mark as ",e.jsx("strong",{children:"Dropped"})," (letter delivered)",e.jsx("br",{}),"• Mark as ",e.jsx("strong",{children:"Knocked"})," (door knocked)",e.jsx("br",{}),"• Mark as ",e.jsx("strong",{children:"Spoke"})," (conversation had)",e.jsx("br",{}),"• Select conversation outcome"]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>d("workflow"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5"}),"Daily Workflow"]}),e.jsx($,{className:`w-5 h-5 transition-transform ${t.workflow?"rotate-90":""}`})]}),t.workflow&&e.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Start Your Day"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Check the Dashboard for today's follow-ups and review yesterday's activity"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Drop Letters"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:'Go to Streets tab, select your target street, and mark properties as "Dropped"'})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Follow Up"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Return to properties where letters were dropped, knock doors, and have conversations"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Record Outcomes"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:'Mark properties as "Spoke" and select the appropriate conversation outcome'})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 text-white text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:"5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Schedule Follow-ups"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Set reminders for interested prospects and review your daily progress"})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>d("status"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5"}),"Property Status Guide"]}),e.jsx($,{className:`w-5 h-5 transition-transform ${t.status?"rotate-90":""}`})]}),t.status&&e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"p-3 border border-orange-200 dark:border-orange-800 bg-orange-50 dark:bg-orange-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-orange-800 dark:text-orange-200",children:"Dropped"}),e.jsx("div",{className:"text-orange-700 dark:text-orange-300",children:"Letter delivered through letterbox"})]}),e.jsxs("div",{className:"p-3 border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Knocked"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Door knocked, no answer or brief interaction"})]}),e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Spoke"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Full conversation had with resident"})]}),e.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Not Started"}),e.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"No activity recorded yet"})]})]})})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>d("outcomes"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5"}),"Conversation Outcomes"]}),e.jsx($,{className:`w-5 h-5 transition-transform ${t.outcomes?"rotate-90":""}`})]}),t.outcomes&&e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Interested"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Wants to learn more about UW"})]}),e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Customers Signed"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Successfully signed up with UW"})]}),e.jsxs("div",{className:"p-3 border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"Appointment Booked"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"Meeting scheduled for follow-up"})]}),e.jsxs("div",{className:"p-3 border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"No for Now"}),e.jsx("div",{className:"text-yellow-700 dark:text-yellow-300",children:"Not interested at this time"})]}),e.jsxs("div",{className:"p-3 border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Already with UW"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Customer is already a UW member"})]}),e.jsxs("div",{className:"p-3 border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-red-800 dark:text-red-200",children:"Not Interested"}),e.jsx("div",{className:"text-red-700 dark:text-red-300",children:"Definitely not interested"})]}),e.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/20 rounded-xl",children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Unreachable"}),e.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:"Unable to contact after multiple attempts"})]})]})})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>d("tips"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(ar,{className:"w-5 h-5"}),"Tips & Best Practices"]}),e.jsx($,{className:`w-5 h-5 transition-transform ${t.tips?"rotate-90":""}`})]}),t.tips&&e.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[e.jsx("div",{className:"font-medium text-amber-800 dark:text-amber-200 mb-1",children:"📱 Use Scripts & Links"}),e.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Open the Scripts and Links drawers while on a property for quick access to talking points and UW resources."})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"📊 Daily Tracking"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"The Dashboard shows only today's activity. Use Reports for overall campaign progress and historical data."})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-1",children:"🏠 Property Names"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:'You can use house names (e.g., "Birch Tree House") in addition to numbers. Separate multiple properties with commas.'})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-1",children:"🔄 Status Updates"}),e.jsx("div",{className:"text-purple-700 dark:text-purple-300",children:"You can toggle statuses on/off if you make a mistake. Click the same button again to remove a status."})]}),e.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-200 dark:border-indigo-800",children:[e.jsx("div",{className:"font-medium text-indigo-800 dark:text-indigo-200 mb-1",children:"💾 Data Backup"}),e.jsx("div",{className:"text-indigo-700 dark:text-indigo-300",children:"Regularly export your data from Settings to keep a backup of your campaigns and progress."})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>d("faq"),className:"w-full p-4 bg-gray-50 dark:bg-gray-900/20 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-900/30 transition-colors",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"Frequently Asked Questions"]}),e.jsx($,{className:`w-5 h-5 transition-transform ${t.faq?"rotate-90":""}`})]}),t.faq&&e.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"How do I add a new street to an existing campaign?"}),e.jsx("div",{className:"p-3",children:'Go to the Streets tab and click "Add New Street". Enter the street name, postcode, and property numbers separated by commas.'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"Can I edit property numbers after creating a street?"}),e.jsx("div",{className:"p-3",children:'Yes! Click the "Properties" button on any street card to open the Property Manager where you can add, remove, or edit individual properties.'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"What's the difference between Dashboard and Reports?"}),e.jsx("div",{className:"p-3",children:"Dashboard shows today's activity only, perfect for daily tracking. Reports shows all-time data and campaign overviews."})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"How do I search and filter campaigns/streets?"}),e.jsx("div",{className:"p-3",children:'Use the "Search & Filter" section in Campaigns and Streets tabs. You can search by name, filter by status, and sort by different criteria.'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 font-medium",children:"Can I use this app offline?"}),e.jsx("div",{className:"p-3",children:"Yes! This is a Progressive Web App (PWA) that works offline. Your data is stored locally on your device."})]})]})]})]})}function ht(){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-purple-600 flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"UW"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"UW Street Smart"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Neighbourhood Letters Activity Tracker"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Version"}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"1.0.0"})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-1",children:"Built For"}),e.jsx("div",{className:"text-green-700 dark:text-green-300",children:"UW Partners making a difference in their communities"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-1",children:"Features"}),e.jsxs("div",{className:"text-purple-700 dark:text-purple-300 space-y-1",children:[e.jsx("div",{children:"• Campaign & street management"}),e.jsx("div",{children:"• Property activity tracking"}),e.jsx("div",{children:"• Conversation outcomes"}),e.jsx("div",{children:"• Offline-first PWA"}),e.jsx("div",{children:"• Daily progress dashboard"}),e.jsx("div",{children:"• Data export/import"})]})]}),e.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[e.jsx("div",{className:"font-medium text-amber-800 dark:text-amber-200 mb-1",children:"Privacy"}),e.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Your data is stored locally on your device. No personal information is sent to external servers."})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400 pt-4 border-t border-gray-200 dark:border-gray-800",children:["Built with React, Vite, and Tailwind CSS",e.jsx("br",{}),"Progressive Web App technology"]})]})]})}function bt(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(rr,{className:"w-5 h-5"}),"Timing & Strategy"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200 mb-2",children:"🎯 Best Drop Times"}),e.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Evenings:"})," 6-8pm (people home from work)"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Weekends:"})," 10am-2pm (avoid meal times)"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Avoid:"})," Monday mornings, Friday evenings"]})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"📝 Follow Up Timing"}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Return:"})," 2-3 days after dropping letters"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Best times:"})," Same as drop times"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Multiple attempts:"}),' Try 3-4 times before marking as "No Answer"']})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5"}),"Conversation Techniques"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-200 mb-2",children:"💡 Opening Lines"}),e.jsxs("div",{className:"text-sm text-purple-700 dark:text-purple-300 space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Standard:"}),` "Hi! I'm [Name] and I'm local. I've been helping neighbours in this area save money on their household bills. I dropped a letter through earlier - have you had a chance to look at it?"`]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Direct:"}),` "Hi! I'm helping families in [Area] save money on their bills. I left a letter earlier - would you like me to check if you could save money too?"`]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Community:"}),` "Hi! I'm from UW and I've been working with families in this neighbourhood to reduce their bills. Have you seen the letter I dropped through?"`]})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[e.jsx("div",{className:"font-medium text-amber-800 dark:text-amber-200 mb-2",children:"🎭 Handling Objections"}),e.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-300 space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:'"Not interested":'}),' "Totally fine! If things change, the letter has a QR code for a quick checker. No sales calls, just the numbers. Have a great day!"']}),e.jsxs("div",{children:[e.jsx("strong",{children:'"Already with UW":'}),` "That's great! You might be eligible for additional savings or better bundles. Would you like me to check your current setup?"`]}),e.jsxs("div",{children:[e.jsx("strong",{children:'"Too busy":'}),` "I understand! It literally takes 2 minutes to check. If you're not saving money, you're not interested. If you are, we can book a proper time."`]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5"}),"Success Metrics & Goals"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-200 dark:border-indigo-800",children:[e.jsx("div",{className:"font-medium text-indigo-800 dark:text-indigo-200 mb-2",children:"📊 Realistic Targets"}),e.jsxs("div",{className:"text-sm text-indigo-700 dark:text-indigo-300 space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Drop rate:"})," 50-100 letters per session"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Conversation rate:"})," 15-25% of drops"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Interest rate:"})," 5-10% of conversations"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Success rate:"})," 2-5% of conversations"]})]})]}),e.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-xl border border-emerald-200 dark:border-emerald-800",children:[e.jsx("div",{className:"font-medium text-emerald-800 dark:text-emerald-200 mb-2",children:"🎯 Daily Goals"}),e.jsxs("div",{className:"text-sm text-emerald-700 dark:text-emerald-300 space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Drop:"})," 50+ letters"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Follow up:"})," 20+ properties"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Conversations:"})," 5+ meaningful chats"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Interested leads:"})," 1+ per day"]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5"}),"Best Practices"]}),e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl border border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Dress appropriately:"})," Smart casual, UW branded if possible"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Be confident:"})," You're offering genuine value, not selling"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Listen actively:"})," Understand their situation before suggesting solutions"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Follow up promptly:"})," Use the app to track and schedule follow-ups"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Stay positive:"}),' Every "no" gets you closer to a "yes"']}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Use the app:"})," Track everything to improve your approach"]})]})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(tr,{className:"w-5 h-5"}),"Common Mistakes to Avoid"]}),e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Rushing conversations:"})," Take time to build rapport"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Not following up:"})," Most success comes from follow-up visits"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Poor timing:"})," Avoid meal times and early mornings"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Being pushy:"}),' Respect "no" and move on gracefully']}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Not tracking activity:"})," Use the app to learn what works"]}),e.jsxs("div",{children:["• ",e.jsx("strong",{children:"Giving up too early:"}),' Try multiple times before marking as "No Answer"']})]})})})]})]})}function yt({campaigns:t}){const[s,d]=g.useState(""),[r,l]=g.useState("all"),[n,i]=g.useState("date"),[y,A]=g.useState("desc"),[C,L]=g.useState(!1),I=[];t.forEach(c=>c.streets.forEach(x=>x.properties.forEach(o=>{let j=null,R="";o.spokeAt?(j=o.spokeAt,R="spoke"):o.knockedAt?(j=o.knockedAt,R="knocked"):o.droppedAt?(j=o.droppedAt,R="dropped"):o.resultAt&&(j=o.resultAt,R="result"),I.push({campaign:c.name,street:x.name,property:o.label,dropped:o.dropped,knocked:o.knocked,spoke:o.spoke,result:o.result||"none",followUpAt:o.followUpAt||"",droppedAt:o.droppedAt||"",knockedAt:o.knockedAt||"",spokeAt:o.spokeAt||"",resultAt:o.resultAt||"",latestActivity:j,latestActivityType:R})})));const U=g.useMemo(()=>{let c=I.filter(x=>{const o=x.campaign.toLowerCase().includes(s.toLowerCase())||x.street.toLowerCase().includes(s.toLowerCase())||x.property.toLowerCase().includes(s.toLowerCase()),j=r==="all"||r==="dropped"&&x.dropped||r==="knocked"&&x.knocked||r==="spoke"&&x.spoke||r==="followup"&&x.followUpAt||r==="interested"&&(x.result==="interested"||x.result==="customer_signed"||x.result==="appointment_booked");return o&&j});return c.sort((x,o)=>{let j,R;switch(n){case"date":j=x.latestActivity||"",R=o.latestActivity||"";break;case"campaign":j=x.campaign,R=o.campaign;break;case"street":j=x.street,R=o.street;break;case"property":j=parseInt(x.property)||x.property,R=parseInt(o.property)||o.property;break;case"dropped":j=x.dropped?1:0,R=o.dropped?1:0;break;case"knocked":j=x.knocked?1:0,R=o.knocked?1:0;break;case"spoke":j=x.spoke?1:0,R=o.spoke?1:0;break;case"result":j=x.result,R=o.result;break;case"followup":j=x.followUpAt||"",R=o.followUpAt||"";break;default:j=x.latestActivity||"",R=o.latestActivity||""}return j<R?y==="asc"?-1:1:j>R?y==="asc"?1:-1:0}),c},[I,s,r,n,y]),p=c=>{n===c?A(y==="asc"?"desc":"asc"):(i(c),A("asc"))},S=({column:c})=>n!==c?e.jsx(Ze,{className:"w-3 h-3 opacity-30"}):y==="asc"?e.jsx(Ze,{className:"w-3 h-3"}):e.jsx(Vr,{className:"w-3 h-3"}),v=c=>{const x="flex items-center gap-1 transition-all";return n===c?`${x} bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 px-2 py-1 rounded-lg`:`${x} hover:opacity-100 hover:bg-gray-50 dark:hover:bg-gray-900/20 px-2 py-1 rounded-lg`},f=g.useMemo(()=>{const c={letters:0,knocked:0,spoke:0,interested:0,followups:0,outcomes:{interested:0,customer_signed:0,appointment_booked:0,no_for_now:0,already_uw:0,not_interested:0}};return I.forEach(x=>{x.dropped&&c.letters++,x.knocked&&c.knocked++,x.spoke&&c.spoke++,(x.result==="interested"||x.result==="customer_signed"||x.result==="appointment_booked")&&c.interested++,x.followUpAt&&c.followups++,x.result&&x.result!=="none"&&(c.outcomes[x.result]=(c.outcomes[x.result]||0)+1)}),c},[t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx(q,{title:"Overview",icon:ae,children:e.jsxs("div",{className:"grid md:grid-cols-5 gap-3",children:[e.jsx(Y,{icon:De,label:"Letters",value:f.letters}),e.jsx(Y,{icon:he,label:"Knocked",value:f.knocked}),e.jsx(Y,{icon:z,label:"Spoke",value:f.spoke}),e.jsx(Y,{icon:sr,label:"Interested",value:f.interested}),e.jsx(Y,{icon:ue,label:"Follow‑ups",value:f.followups})]})}),e.jsx(q,{title:"Conversation Outcomes",icon:z,children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-900/20 border-2 border-green-500 dark:border-green-500",children:[e.jsx("div",{className:"text-lg font-semibold text-green-800 dark:text-green-200",children:f.outcomes.customer_signed}),e.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Customers Signed"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border-2 border-emerald-500 dark:border-emerald-500",children:[e.jsx("div",{className:"text-lg font-semibold text-emerald-800 dark:text-emerald-200",children:f.outcomes.appointment_booked}),e.jsx("div",{className:"text-sm text-emerald-700 dark:text-emerald-300",children:"Appointment Booked"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-500 dark:border-amber-500",children:[e.jsx("div",{className:"text-lg font-semibold text-amber-800 dark:text-amber-200",children:f.outcomes.no_for_now}),e.jsx("div",{className:"text-sm text-amber-700 dark:text-amber-300",children:"No for Now"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-sky-50 dark:bg-sky-900/20 border-2 border-sky-500 dark:border-sky-500",children:[e.jsx("div",{className:"text-lg font-semibold text-sky-800 dark:text-sky-200",children:f.outcomes.already_uw}),e.jsx("div",{className:"text-sm text-sky-700 dark:text-sky-300",children:"Already with UW"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border-2 border-red-500 dark:border-red-500",children:[e.jsx("div",{className:"text-lg font-semibold text-red-800 dark:text-red-200",children:f.outcomes.not_interested}),e.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:"Not Interested"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-slate-50 dark:bg-slate-900/20 border-2 border-slate-500 dark:border-slate-500",children:[e.jsx("div",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:f.outcomes.no_answer||0}),e.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:"No Answer"})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-purple-50 dark:bg-purple-900/20 border-2 border-purple-500 dark:border-purple-500",children:[e.jsx("div",{className:"text-lg font-semibold text-purple-800 dark:text-purple-200",children:f.outcomes.no_cold_callers||0}),e.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:"No Cold Callers"})]})]})}),e.jsxs(q,{title:"Activity log",icon:Qr,children:[e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:s,onChange:c=>d(c.target.value),placeholder:"Search campaigns, streets, properties...",className:"w-full pl-10 pr-3 py-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors"})]}),e.jsx("button",{onClick:()=>L(!C),className:`p-2 rounded-xl border transition-colors ${C?"bg-primary-100 dark:bg-primary-900/20 border-primary-200 dark:border-primary-800 text-primary-600 dark:text-primary-400":"bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:"Toggle filters",children:e.jsx(Gr,{className:"w-4 h-4"})})]}),C&&e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 rounded-xl border border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-xs font-medium opacity-70",children:"Filter by:"}),e.jsxs("select",{value:r,onChange:c=>l(c.target.value),className:"px-3 py-1.5 rounded-lg bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-xs focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",children:[e.jsx("option",{value:"all",children:"All activities"}),e.jsx("option",{value:"dropped",children:"Letters dropped"}),e.jsx("option",{value:"knocked",children:"Doors knocked"}),e.jsx("option",{value:"spoke",children:"Conversations had"}),e.jsx("option",{value:"followup",children:"Follow-ups scheduled"}),e.jsx("option",{value:"interested",children:"Interested prospects"})]})]})}),e.jsxs("div",{className:"text-xs opacity-70",children:["Showing ",U.length," of ",I.length," activities",e.jsx("span",{className:"hidden sm:inline",children:" • Scroll horizontally to see all columns"}),e.jsxs("span",{className:"hidden sm:inline",children:[" • ",e.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:"D"}),"=Letters dropped, ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"K"}),"=Doors knocked, ",e.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"S"}),"=Conversations had"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"mb-2 flex justify-end xl:hidden",children:e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded-lg text-xs text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-700",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Scroll for more columns"]})}),e.jsx("div",{className:"overflow-x-auto border border-gray-200 dark:border-gray-800 rounded-xl",children:e.jsxs("table",{className:"w-full text-sm min-w-max",children:[e.jsx("thead",{className:"text-left opacity-70 bg-gray-50 dark:bg-gray-900/20",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-3 sticky left-0 bg-gray-50 dark:bg-gray-900/20 z-20 border-r border-gray-200 dark:border-gray-700 w-24 shadow-sm",children:e.jsxs("button",{onClick:()=>p("date"),className:v("date"),children:["Date",e.jsx(S,{column:"date"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-24",children:e.jsxs("button",{onClick:()=>p("campaign"),className:v("campaign"),children:["Campaign",e.jsx(S,{column:"campaign"})]})}),e.jsx("th",{className:"py-2 px-3 hidden md:table-cell w-20",children:e.jsxs("button",{onClick:()=>p("street"),className:v("street"),children:["Street",e.jsx(S,{column:"street"})]})}),e.jsx("th",{className:"py-2 px-3 w-12",children:e.jsxs("button",{onClick:()=>p("property"),className:v("property"),children:["#",e.jsx(S,{column:"property"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-12",children:e.jsxs("button",{onClick:()=>p("dropped"),className:v("dropped"),title:"Letters dropped",children:["D",e.jsx(S,{column:"dropped"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-12",children:e.jsxs("button",{onClick:()=>p("knocked"),className:v("knocked"),title:"Doors knocked",children:["K",e.jsx(S,{column:"knocked"})]})}),e.jsx("th",{className:"py-2 px-3 hidden sm:table-cell w-12",children:e.jsxs("button",{onClick:()=>p("spoke"),className:v("spoke"),title:"Conversations had",children:["S",e.jsx(S,{column:"spoke"})]})}),e.jsx("th",{className:"py-2 px-3 w-20",children:e.jsxs("button",{onClick:()=>p("result"),className:v("result"),children:["Result",e.jsx(S,{column:"result"})]})}),e.jsx("th",{className:"py-2 px-3 hidden xl:table-cell w-24",children:e.jsxs("button",{onClick:()=>p("followup"),className:v("followup"),children:["Follow‑up",e.jsx(S,{column:"followup"})]})})]})}),e.jsx("tbody",{children:U.map((c,x)=>e.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900/20 transition-colors",children:[e.jsx("td",{className:"py-2 px-3 sticky left-0 bg-white dark:bg-gray-900 z-20 border-r border-gray-200 dark:border-gray-700 shadow-sm",children:c.latestActivity?e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-medium",children:new Date(c.latestActivity).toLocaleDateString()}),e.jsx("div",{className:"text-gray-500 dark:text-gray-400 capitalize",children:c.latestActivityType})]}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600 text-xs",children:"—"})}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell font-medium",children:c.campaign}),e.jsx("td",{className:"py-2 px-3 hidden md:table-cell",children:c.street}),e.jsx("td",{className:"py-2 px-3 text-xs max-w-24 truncate",title:c.property,children:c.property}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell",title:c.dropped?"Letter dropped":"No letter dropped",children:c.dropped?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 text-xs",children:"✓"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"—"})}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell",title:c.knocked?"Door knocked":"No door knocked",children:c.knocked?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-xs",children:"✓"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"—"})}),e.jsx("td",{className:"py-2 px-3 hidden sm:table-cell",title:c.spoke?"Conversation had":"No conversation",children:c.spoke?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-xs",children:"✓"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"—"})}),e.jsx("td",{className:"py-2 px-3",children:c.result==="none"?e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"—"}):c.result==="interested"||c.result==="customer_signed"||c.result==="appointment_booked"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300",children:c.result.replace("_"," ")}):c.result==="maybe"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300",children:"maybe"}):c.result==="no_for_now"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300",children:"no for now"}):c.result==="already_uw"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300",children:"already UW"}):c.result==="not_interested"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300",children:"not interested"}):c.result==="no_answer"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300",children:"no answer"}):e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:c.result})}),e.jsx("td",{className:"py-2 px-3 hidden xl:table-cell",children:c.followUpAt?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300",children:new Date(c.followUpAt).toLocaleDateString()}):e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"—"})})]},x))})]})})]})]})]})}function ft({onSubmit:t,onCancel:s,addressSearchTerm:d,setAddressSearchTerm:r,addressSuggestions:l,selectedPostcode:n,selectedTown:i,availableStreets:y,selectedStreets:A,isLoadingAddresses:C,addressLookupStep:L,searchAddresses:I,selectAddress:U,toggleStreetSelection:p,importSelectedStreets:S,resetAddressLookup:v}){const[f,c]=g.useState({name:"",area:"",connector:"",quote:"",booking:"",faq:""}),x=o=>{if(o.preventDefault(),!f.name.trim()){alert("Please enter a campaign name");return}t(f)};return e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Name *"}),e.jsx("input",{type:"text",value:f.name,onChange:o=>c(j=>({...j,name:o.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Elmswell NL – Aug 2025",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode Area"}),e.jsx("input",{type:"text",value:f.area,onChange:o=>c(j=>({...j,area:o.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Links (Optional)"}),e.jsx("input",{type:"url",value:f.connector,onChange:o=>c(j=>({...j,connector:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Connector sign-up URL"}),e.jsx("input",{type:"url",value:f.quote,onChange:o=>c(j=>({...j,quote:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Quote/eligibility form URL"}),e.jsx("input",{type:"url",value:f.booking,onChange:o=>c(j=>({...j,booking:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Booking page URL"}),e.jsx("input",{type:"url",value:f.faq,onChange:o=>c(j=>({...j,faq:o.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"FAQ page URL"})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(H,{className:"w-4 h-4 text-primary-600"}),e.jsx("label",{className:"text-sm font-medium",children:"Import Streets"})]}),e.jsx("p",{className:"text-xs opacity-70 mb-3",children:"Search by postcode or town name to import streets automatically"}),L==="search"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:d,onChange:o=>{r(o.target.value),o.target.value.length>=3?I(o.target.value):setAddressSuggestions([])},className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Enter postcode or town name (e.g., IP30 or Elmswell)"}),C&&e.jsx("div",{className:"absolute right-3 top-2.5",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})})]}),l.length>0&&e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:l.map((o,j)=>e.jsx("button",{onClick:()=>U(o),className:"w-full p-2 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:typeof o=="string"?o:o.display},j))})]}),L==="select"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:i}),e.jsx("p",{className:"text-xs opacity-70",children:n})]}),e.jsx("button",{onClick:v,className:"text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Change"})]}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:y.map((o,j)=>e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[e.jsx("input",{type:"checkbox",checked:A.includes(o),onChange:()=>p(o),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:o})]},j))}),A.length>0&&e.jsxs("button",{onClick:S,className:"w-full px-3 py-2 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:["Import ",A.length," Street",A.length!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Create Campaign"}),e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function kt({onCancel:t,addressSearchTerm:s,setAddressSearchTerm:d,addressSuggestions:r,selectedPostcode:l,selectedTown:n,availableStreets:i,selectedStreets:y,isLoadingAddresses:A,addressLookupStep:C,searchAddresses:L,selectAddress:I,toggleStreetSelection:U,importSelectedStreets:p,resetAddressLookup:S}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-800 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(H,{className:"w-4 h-4 text-primary-600"}),e.jsx("label",{className:"text-sm font-medium",children:"Import Streets"})]}),e.jsx("p",{className:"text-xs opacity-70",children:"Search by postcode or town name to import streets automatically"})]}),C==="search"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s,onChange:v=>{d(v.target.value),v.target.value.length>=3?L(v.target.value):setAddressSuggestions([])},className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Enter postcode or town name (e.g., IP30 or Elmswell)"}),A&&e.jsx("div",{className:"absolute right-3 top-2.5",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})})]}),r.length>0&&e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:r.map((v,f)=>e.jsx("button",{onClick:()=>I(v),className:"w-full p-2 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:typeof v=="string"?v:v.display},f))})]}),C==="select"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:n}),e.jsx("p",{className:"text-xs opacity-70",children:l})]}),e.jsx("button",{onClick:S,className:"text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Change"})]}),e.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-200 dark:border-gray-800 rounded-lg",children:i.map((v,f)=>e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[e.jsx("input",{type:"checkbox",checked:y.includes(v),onChange:()=>U(v),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:v})]},f))}),y.length>0&&e.jsxs("button",{onClick:p,className:"w-full px-3 py-2 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:["Import ",y.length," Street",y.length!==1?"s":""]})]}),e.jsx("div",{className:"flex gap-3 pt-4",children:e.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Close"})})]})}function jt({onSubmit:t,onCancel:s}){const[d,r]=g.useState({name:"",postcode:"",properties:""}),l=n=>{if(n.preventDefault(),!d.name.trim()){alert("Please enter a street name");return}if(!d.properties.trim()){alert("Please enter property numbers");return}const i=d.properties.split(",").map(y=>y.trim()).filter(y=>y.length>0);if(i.length===0){alert("Please enter at least one property number");return}t({name:d.name,postcode:d.postcode,properties:i})};return e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Street Name *"}),e.jsx("input",{type:"text",value:d.name,onChange:n=>r(i=>({...i,name:n.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Orchard Way",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode"}),e.jsx("input",{type:"text",value:d.postcode,onChange:n=>r(i=>({...i,postcode:n.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30 9XX"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Property Numbers *"}),e.jsx("textarea",{value:d.properties,onChange:n=>r(i=>({...i,properties:n.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:`Enter property numbers or names separated by commas
e.g., 1, 3, 5, 7, 9
or: 12, 14, 16, 18
or: The Old Post Office, Rose Cottage, 1, 3`,rows:3,required:!0}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:'Separate property numbers or names with commas only. Supports house names like "The Old Post Office", "Rose Cottage"'})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Add Street"}),e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function vt({campaign:t,onSubmit:s,onCancel:d}){const[r,l]=g.useState({name:t.name,area:t.area,connector:t.links.connector,quote:t.links.quote,booking:t.links.booking,faq:t.links.faq}),n=i=>{if(i.preventDefault(),!r.name.trim()){alert("Please enter a campaign name");return}s(r)};return e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Name *"}),e.jsx("input",{type:"text",value:r.name,onChange:i=>l(y=>({...y,name:i.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Elmswell NL – Aug 2025",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode Area"}),e.jsx("input",{type:"text",value:r.area,onChange:i=>l(y=>({...y,area:i.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs opacity-70",children:"Campaign Links (Optional)"}),e.jsx("input",{type:"url",value:r.connector,onChange:i=>l(y=>({...y,connector:i.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Connector sign-up URL"}),e.jsx("input",{type:"url",value:r.quote,onChange:i=>l(y=>({...y,quote:i.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Quote/eligibility form URL"}),e.jsx("input",{type:"url",value:r.booking,onChange:i=>l(y=>({...y,booking:i.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Booking page URL"}),e.jsx("input",{type:"url",value:r.faq,onChange:i=>l(y=>({...y,faq:i.target.value})),className:"w-full p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"FAQ page URL"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Update Campaign"}),e.jsx("button",{type:"button",onClick:d,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function Nt({street:t,onSubmit:s,onCancel:d}){const[r,l]=g.useState({name:t.name,postcode:t.postcode}),n=i=>{if(i.preventDefault(),!r.name.trim()){alert("Please enter a street name");return}s(r)};return e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Street Name *"}),e.jsx("input",{type:"text",value:r.name,onChange:i=>l(y=>({...y,name:i.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., Orchard Way",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs opacity-70",children:"Postcode"}),e.jsx("input",{type:"text",value:r.postcode,onChange:i=>l(y=>({...y,postcode:i.target.value})),className:"w-full mt-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"e.g., IP30 9XX"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Update Street"}),e.jsx("button",{type:"button",onClick:d,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}function wt({street:t,onAddProperty:s,onRemoveProperty:d,onEditProperty:r,onClose:l}){const[n,i]=g.useState(""),[y,A]=g.useState(null),[C,L]=g.useState(""),I=p=>{if(p.preventDefault(),!n.trim()){alert("Please enter a property label");return}const S=n.split(",").map(v=>v.trim()).filter(v=>v.length>0);if(S.length===0){alert("Please enter at least one property label");return}S.forEach(v=>{s(v)}),i("")},U=(p,S)=>{if(!S.trim()){alert("Please enter a property label");return}r(p,S.trim()),A(null),L("")};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Add New Property"}),e.jsxs("form",{onSubmit:I,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:p=>i(p.target.value),className:"flex-1 p-2 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm focus:border-primary-400 focus:ring-2 focus:ring-primary-100 dark:focus:ring-primary-900/20 transition-colors",placeholder:"Property numbers or names (e.g., 1, 3, 5 or The Old Post Office, Rose Cottage)"}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded-xl bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",children:"Add"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:'Separate multiple properties with commas: "1, 3, 5" or "The Old Post Office, Rose Cottage"'})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-2",children:["Existing Properties (",t.properties.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t.properties.map(p=>e.jsx("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-gray-800",children:y===p.id?e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:"text",value:C,onChange:S=>L(S.target.value),className:"flex-1 p-1 rounded bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm",autoFocus:!0}),e.jsx("button",{onClick:()=>U(p.id,C),className:"px-2 py-1 rounded bg-green-600 text-white text-xs hover:bg-green-700",children:"Save"}),e.jsx("button",{onClick:()=>{A(null),L("")},className:"px-2 py-1 rounded bg-gray-600 text-white text-xs hover:bg-gray-700",children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm",children:p.label}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>{A(p.id),L(p.label)},className:"px-2 py-1 rounded bg-blue-600 text-white text-xs hover:bg-blue-700",children:"Edit"}),e.jsx("button",{onClick:()=>d(p.id),className:"px-2 py-1 rounded bg-red-600 text-white text-xs hover:bg-red-700",children:"Remove"})]})]})},p.id))})]}),e.jsx("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-800",children:e.jsx("button",{onClick:l,className:"flex-1 px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Close"})})]})}_e.createRoot(document.getElementById("root")).render(e.jsx(Rr.StrictMode,{children:e.jsx(at,{})}));
//# sourceMappingURL=index-8212bc6b.js.map
